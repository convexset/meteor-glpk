!function(e){function n(e){if(!e)throw new Error("assert")}function r(e){throw new Error(e)}function t(e,n){for(var r in n)e[r]=n[r]}function a(e,n,r,t,a){for(;a>0;n++,t++,a--)e[n]=r[t]}function l(e,n,r,t){for(;t>0;n++,t--)e[n]=r}function o(e,n,r){for(;r>0;n++,r--)e[n]={}}function i(){var e=new Date;return e.getTime()}function u(e,n){return(e-n)/1e3}function s(e,n,r,t){var l=new Array(r);a(l,0,e,n,r),l.sort(t),a(e,n,l,0,r)}function c(){return $i}function f(e){return" 	\n\x0B\f\r".indexOf(e)>=0}function _(e){var n="string"==typeof e?e.charCodeAt(0):-1;return n>=0&&31>=n||127==n}function p(e){var n="string"==typeof e?e.charCodeAt(0):-1;return n>=65&&90>=n||n>=97&&122>=n}function m(e){var n="string"==typeof e?e.charCodeAt(0):-1;return n>=65&&90>=n||n>=97&&122>=n||n>=48&&57>=n}function b(e){var n="string"==typeof e?e.charCodeAt(0):-1;return n>=48&&57>=n}function d(e,n){return e.indexOf(n)}function v(e){return e.toLowerCase()}function g(){var e=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,n=arguments,r=0,t=n[r++],a=function(e,n,r,t){r||(r=" ");var a=e.length>=n?"":Array(1+n-e.length>>>0).join(r);return t?e+a:a+e},l=function(e,n,r,t,l,o){var i=t-e.length;return i>0&&(e=r||!l?a(e,t,o,r):e.slice(0,n.length)+a("",i,"0",!0)+e.slice(n.length)),e},o=function(e,n,r,t,o,i,u){var s=e>>>0;return r=r&&s&&{2:"0b",8:"0",16:"0x"}[n]||"",e=r+a(s.toString(n),i||0,"0",!1),l(e,r,t,o,u)},i=function(e,n,r,t,a,o){return null!=t&&(e=e.slice(0,t)),l(e,"",n,r,a,o)},u=function(e,t,u,s,c,f,_){var p,m,b,d,v;if("%%"==e)return"%";for(var g=!1,h="",k=!1,y=!1,w=" ",x=u.length,A=0;u&&x>A;A++)switch(u.charAt(A)){case" ":h=" ";break;case"+":h="+";break;case"-":g=!0;break;case"'":w=u.charAt(A+1);break;case"0":k=!0;break;case"#":y=!0}if(s=s?"*"==s?+n[r++]:"*"==s.charAt(0)?+n[s.slice(1,-1)]:+s:0,0>s&&(s=-s,g=!0),!isFinite(s))throw new Error("sprintf: (minimum-)width must be finite");switch(f=f?"*"==f?+n[r++]:"*"==f.charAt(0)?+n[f.slice(1,-1)]:+f:"fFeE".indexOf(_)>-1?6:"d"==_?0:void 0,v=t?n[t.slice(0,-1)]:n[r++],_){case"s":return i(String(v),g,s,f,k,w);case"c":return i(String.fromCharCode(+v),g,s,f,k);case"b":return o(v,2,y,g,s,f,k);case"o":return o(v,8,y,g,s,f,k);case"x":return o(v,16,y,g,s,f,k);case"X":return o(v,16,y,g,s,f,k).toUpperCase();case"u":return o(v,10,y,g,s,f,k);case"i":case"d":return p=+v||0,p=Math.round(p-p%1),m=0>p?"-":h,v=m+a(String(Math.abs(p)),f,"0",!1),l(v,m,g,s,k);case"e":case"E":case"f":case"F":case"g":case"G":return p=+v,m=0>p?"-":h,b=["toExponential","toFixed","toPrecision"]["efg".indexOf(_.toLowerCase())],d=["toString","toUpperCase"]["eEfFgG".indexOf(_)%2],v=m+Math.abs(p)[b](f),l(v,m,g,s,k)[d]();default:return e}};return t.replace(e,u)}function h(e){e.magic=eu,e.parms=null,e.tree=null,e.name=null,e.obj=null,e.dir=Vs,e.c0=0,e.m_max=100,e.n_max=200,e.m=e.n=0,e.nnz=0,e.row=new Array(1+e.m_max),e.col=new Array(1+e.n_max),e.r_tree={},e.c_tree={},e.valid=0,e.head=new Int32Array(1+e.m_max),e.bfcp=null,e.bfd=null,e.pbs_stat=e.dbs_stat=bc,e.obj_val=0,e.it_cnt=0,e.some=0,e.ipt_stat=bc,e.ipt_obj=0,e.mip_stat=bc,e.mip_obj=0}function k(e){e.magic=1061109567,e.parms=null,n(null==e.tree),e.row=null,e.col=null,e.r_tree=null,e.c_tree=null,e.head=null,e.bfcp=null,e.bfd=null}function y(e){var n={};_s(e,n),q(e.bfd,n)}function w(e,t,a,l,o,i,u,s){var c,f,_,p,m,b,d,v,g,h=0;for(e.pbs_stat==bc&&r("glp_analyze_row: primal basic solution components are undefined"),e.dbs_stat!=dc&&r("glp_analyze_row: basic solution is not dual feasible"),t>=0&&t<=e.n||r("glp_analyze_row: len = "+t+"; invalid row length"),d=0,c=1;t>=c;c++)f=a[c],f>=1&&f<=e.m+e.n||r("glp_analyze_row: ind["+c+"] = "+f+"; row/column index out of range"),f<=e.m?(e.row[f].stat==rc&&r("glp_analyze_row: ind["+c+"] = "+f+"; basic auxiliary variable is not allowed"),m=e.row[f].prim):(e.col[f-e.m].stat==rc&&r("glp_analyze_row: ind["+c+"] = "+f+"; basic structural variable is not allowed"),m=e.col[f-e.m].prim),d+=l[c]*m;if(o==$s){if(d>=i)return h=1;_=1}else if(o==Zs){if(i>=d)return h=1;_=-1}else r("glp_analyze_row: type = "+o+"; invalid parameter");return v=i-d,p=xs(e,t,a,l,_,u),0==p?h=2:(f=a[p],n(f>=1&&f<=e.m+e.n),m=f<=e.m?e.row[f].prim:e.col[f-e.m].prim,n(0!=l[p]),b=v/l[p],g=f<=e.m?e.row[f].dual*b:e.col[f-e.m].dual*b,s(p,m,b,d,v,g),h)}function x(e){return e.reason!=lf&&r("glp_ios_pool_size: operation not allowed"),n(null!=e.local),e.local.size}function A(e,t,a,l,o,i,u,s,c){var f;return e.reason!=lf&&r("glp_ios_add_row: operation not allowed"),n(null!=e.local),f=ue(e,e.local,t,a,l,o,i,u,s,c)}function M(e,n){return n>=1&&n<=e.mip.n||r("glp_ios_can_branch: j = "+n+"; column number out of range"),e.non_int[n]}function j(e,r){var t,a,l,o=e.mip,i=e.orig_m,u=e.n;for(n(o.m>=i),n(o.n==u),l=o.c0,a=1;u>=a;a++){var s=o.col[a];if(s.kind==Js&&r[a]!=Math.floor(r[a]))return 1;l+=s.coef*r[a]}if(o.mip_stat==dc)switch(o.dir){case Vs:if(l>=e.mip.mip_obj)return 1;break;case Hs:if(l<=e.mip.mip_obj)return 1;break;default:n(o!=o)}for(e.parm.msg_lev>=jc&&Yi("Solution found by heuristic: "+l),o.mip_stat=dc,o.mip_obj=l,a=1;u>=a;a++)o.col[a].mipx=r[a];for(t=1;i>=t;t++){var c,f=o.row[t];for(f.mipx=0,c=f.ptr;null!=c;c=c.r_next)f.mipx+=c.val*c.col.mipx}return 0}function P(e,n){var r={};return r.root=null,r.fcmp=e,r.info=n,r.size=0,r.height=0,r}function L(e,n){var r,t,a,l;for(r=null,t=e.root;null!=t;)r=t,e.fcmp(e.info,n,r.key)<=0?(l=0,t=r.left,r.rank++):(l=1,t=r.right);for(a={},a.key=n,a.type=0,a.link=null,a.rank=1,a.up=r,a.flag=null==r?0:l,a.bal=0,a.left=null,a.right=null,e.size++,null==r?e.root=a:0==l?r.left=a:r.right=a;null!=r;)if(0==l){if(r.bal>0){r.bal=0;break}if(r.bal<0){F(e,r);break}r.bal=-1,l=r.flag,r=r.up}else{if(r.bal<0){r.bal=0;break}if(r.bal>0){F(e,r);break}r.bal=1,l=r.flag,r=r.up}return null==r&&e.height++,a}function z(e,n){e.link=n}function I(e,n){var r,t;for(r=e.root;null!=r&&(t=e.fcmp(e.info,n,r.key),0!=t);)r=0>t?r.left:r.right;return r}function E(e){return e.link}function F(e,r){var t,a,l,o,i,u;return n(null!=r),a=r,a.bal<0?(t=a.up,l=a.left,o=l.right,l.bal<=0?(null==t?e.root=l:0==a.flag?t.left=l:t.right=l,a.rank-=l.rank,l.up=t,l.flag=a.flag,l.bal++,l.right=a,a.up=l,a.flag=1,a.bal=-l.bal,a.left=o,null!=o&&(o.up=a,o.flag=0),r=l):(i=o.left,u=o.right,null==t?e.root=o:0==a.flag?t.left=o:t.right=o,a.rank-=l.rank+o.rank,o.rank+=l.rank,a.bal=o.bal>=0?0:1,l.bal=o.bal<=0?0:-1,o.up=t,o.flag=a.flag,o.bal=0,o.left=l,o.right=a,a.up=o,a.flag=1,a.left=u,l.up=o,l.flag=0,l.right=i,null!=i&&(i.up=l,i.flag=1),null!=u&&(u.up=a,u.flag=0),r=o)):(t=a.up,l=a.right,o=l.left,l.bal>=0?(null==t?e.root=l:0==a.flag?t.left=l:t.right=l,l.rank+=a.rank,l.up=t,l.flag=a.flag,l.bal--,l.left=a,a.up=l,a.flag=0,a.bal=-l.bal,a.right=o,null!=o&&(o.up=a,o.flag=1),r=l):(i=o.left,u=o.right,null==t?e.root=o:0==a.flag?t.left=o:t.right=o,l.rank-=o.rank,o.rank+=a.rank,a.bal=o.bal<=0?0:-1,l.bal=o.bal>=0?0:1,o.up=t,o.flag=a.flag,o.bal=0,o.left=a,o.right=l,a.up=o,a.flag=0,a.right=i,l.up=o,l.flag=1,l.left=u,null!=i&&(i.up=a,i.flag=1),null!=u&&(u.up=l,u.flag=0),r=o)),r}function S(){var e={};return e.valid=0,e.type=yc,e.fhv=null,e.lpf=null,e.lu_size=0,e.piv_tol=.1,e.piv_lim=4,e.suhl=1,e.eps_tol=1e-15,e.max_gro=1e10,e.nfs_max=100,e.upd_tol=1e-6,e.nrs_max=100,e.rs_size=1e3,e.upd_lim=-1,e.upd_cnt=0,e}function q(e,r){n(null!=e),e.type=r.type,e.lu_size=r.lu_size,e.piv_tol=r.piv_tol,e.piv_lim=r.piv_lim,e.suhl=r.suhl,e.eps_tol=r.eps_tol,e.max_gro=r.max_gro,e.nfs_max=r.nfs_max,e.upd_tol=r.upd_tol,e.nrs_max=r.nrs_max,e.rs_size=r.rs_size}function N(e,r,t,a,l){var o,i,u;switch(n(null!=e),n(r>=1&&Hi>=r),e.valid=0,i=0,e.type){case yc:e.lpf=null,null==e.fhv&&(e.fhv=X(),i=1);break;case wc:case xc:e.fhv=null,null==e.lpf&&(e.lpf=Qe(),i=1);break;default:n(e!=e)}if(null!=e.fhv?o=e.fhv.luf:null!=e.lpf?o=e.lpf.luf:n(e!=e),i&&(o.new_sva=e.lu_size),o.piv_tol=e.piv_tol,o.piv_lim=e.piv_lim,o.suhl=e.suhl,o.eps_tol=e.eps_tol,o.max_gro=e.max_gro,null!=e.fhv&&(i&&(e.fhv.hh_max=e.nfs_max),e.fhv.upd_tol=e.upd_tol),null!=e.lpf&&(i&&(e.lpf.n_max=e.nrs_max),i&&(e.lpf.v_size=e.rs_size)),null!=e.fhv)switch(B(e.fhv,r,a,l)){case 0:break;case Ss:return u=js;case qs:return u=Ps;default:n(e!=e)}else if(null!=e.lpf)switch(Ye(e.lpf,r,t,a,l)){case 0:switch(e.type){case wc:e.lpf.scf.t_opt=Td;break;case xc:e.lpf.scf.t_opt=Gd;break;default:n(e!=e)}break;case Pf:return u=js;case LPF_ECOND:return u=Ps;default:n(e!=e)}else n(e!=e);return e.valid=1,e.upd_cnt=0,u=0}function O(e,r){n(null!=e),n(e.valid),null!=e.fhv?U(e.fhv,r):null!=e.lpf?tn(e.lpf,r):n(e!=e)}function T(e,r){n(null!=e),n(e.valid),null!=e.fhv?K(e.fhv,r):null!=e.lpf?an(e.lpf,r):n(e!=e)}function G(e,r,t,a,l,o,i){var u;if(n(null!=e),n(e.valid),null!=e.fhv)switch(V(e.fhv,r,a,l,o,i)){case 0:break;case Ss:return e.valid=0,u=js;case Ns:return e.valid=0,u=Ls;case Os:return e.valid=0,u=zs;case Ts:return e.valid=0,u=Is;default:n(e!=e)}else if(null!=e.lpf)switch(on(e.lpf,r,t,a,l,o,i)){case 0:break;case Pf:return e.valid=0,u=js;case LPF_ELIMIT:return e.valid=0,u=zs;default:n(e!=e)}else n(e!=e);return e.upd_cnt++,u=0}function R(e){return n(null!=e),n(e.valid),e.upd_cnt}function C(e,r){n(null!=e),n(null!=r)}function X(){var e;return e={},e.m_max=e.m=0,e.valid=0,e.luf=Fn(),e.hh_max=50,e.hh_nfs=0,e.hh_ind=e.hh_ptr=e.hh_len=null,e.p0_row=e.p0_col=null,e.cc_ind=null,e.cc_val=null,e.upd_tol=1e-6,e.nnz_h=0,e}function B(e,t,l,o){var i;switch(1>t&&r("fhv_factorize: m = "+t+"; invalid parameter"),t>Hi&&r("fhv_factorize: m = "+t+"; matrix too big"),e.m=t,e.valid=0,null==e.hh_ind&&(e.hh_ind=new Int32Array(1+e.hh_max)),null==e.hh_ptr&&(e.hh_ptr=new Int32Array(1+e.hh_max)),null==e.hh_len&&(e.hh_len=new Int32Array(1+e.hh_max)),e.m_max<t&&(e.m_max=t+100,e.p0_row=new Int32Array(1+e.m_max),e.p0_col=new Int32Array(1+e.m_max),e.cc_ind=new Int32Array(1+e.m_max),e.cc_val=new Float64Array(1+e.m_max)),Bn(e.luf,t,l,o)){case 0:break;case O_:return i=Ss;case T_:return i=qs;default:n(e!=e)}return e.valid=1,e.hh_nfs=0,a(e.p0_row,1,e.luf.pp_row,1,t),a(e.p0_col,1,e.luf.pp_col,1,t),e.nnz_h=0,i=0}function D(e,n,t){var a,l,o,i,u,s,c=e.hh_nfs,f=e.hh_ind,_=e.hh_ptr,p=e.hh_len,m=e.luf.sv_ind,b=e.luf.sv_val;if(e.valid||r("fhv_h_solve: the factorization is not valid"),n){for(l=c;l>=1;l--)if(a=f[l],s=t[a],0!=s)for(o=_[l],i=o+p[l]-1,u=o;i>=u;u++)t[m[u]]-=b[u]*s}else for(l=1;c>=l;l++){for(a=f[l],s=t[a],o=_[l],i=o+p[l]-1,u=o;i>=u;u++)s-=b[u]*t[m[u]];t[a]=s}}function U(e,n){var t=e.luf.pp_row,a=e.luf.pp_col,l=e.p0_row,o=e.p0_col;e.valid||r("fhv_ftran: the factorization is not valid"),e.luf.pp_row=l,e.luf.pp_col=o,Dn(e.luf,0,n),e.luf.pp_row=t,e.luf.pp_col=a,D(e,0,n),Un(e.luf,0,n)}function K(e,n){var t=e.luf.pp_row,a=e.luf.pp_col,l=e.p0_row,o=e.p0_col;e.valid||r("fhv_btran: the factorization is not valid"),Un(e.luf,1,n),D(e,1,n),e.luf.pp_row=l,e.luf.pp_col=o,Dn(e.luf,1,n),e.luf.pp_row=t,e.luf.pp_col=a}function V(e,t,l,o,i,u){var s,c,f,_,p,m,b,d,v,g,h,k,y,w,x,A,M,j,P,L=e.m,z=e.luf,I=z.vr_ptr,E=z.vr_len,F=z.vr_cap,S=z.vr_piv,q=z.vc_ptr,N=z.vc_len,O=z.vc_cap,T=z.pp_row,G=z.pp_col,R=z.qq_row,C=z.qq_col,X=z.sv_ind,B=z.sv_val,U=z.work,K=z.eps_tol,V=e.hh_ind,H=e.hh_ptr,W=e.hh_len,J=e.p0_row,Q=e.p0_col,Y=e.cc_ind,$=e.cc_val,Z=e.upd_tol;if(e.valid||r("fhv_update_it: the factorization is not valid"),t>=1&&L>=t||r("fhv_update_it: j = "+t+"; column number out of range"),e.hh_nfs==e.hh_max)return e.valid=0,M=Os;for(s=1;L>=s;s++)$[s]=0;for(d=1;l>=d;d++)s=o[i+d],s>=1&&L>=s||r("fhv_update_it: ind["+d+"] = "+s+"; row number out of range"),0!=$[s]&&r("fhv_update_it: ind["+d+"] = "+s+"; duplicate row index not allowed"),0==u[d]&&r("fhv_update_it: val["+d+"] = "+u[d]+"; zero element not allowed"),$[s]=u[d];for(e.luf.pp_row=J,e.luf.pp_col=Q,Dn(e.luf,0,$),e.luf.pp_row=T,e.luf.pp_col=G,D(e,0,$),l=0,s=1;L>=s;s++)P=$[s],0==P||Math.abs(P)<K||(l++,Y[l]=s,$[l]=P);for(p=q[t],m=p+N[t]-1,b=p;m>=b;b++){for(s=X[b],c=I[s],f=c+E[s]-1,_=c;X[_]!=t;_++);n(f>=_),X[_]=X[f],B[_]=B[f],E[s]--}for(z.nnz_v-=N[t],N[t]=0,v=R[t],g=0,A=1;l>=A;A++){if(s=Y[A],E[s]+1>F[s]&&qn(z,s,E[s]+10))return e.valid=0,z.new_sva=z.sv_size+z.sv_size,n(z.new_sva>z.sv_size),M=Ts;_=I[s]+E[s],X[_]=t,B[_]=$[A],E[s]++,g<G[s]&&(g=G[s])}if(O[t]<l&&Nn(z,t,l))return e.valid=0,z.new_sva=z.sv_size+z.sv_size,n(z.new_sva>z.sv_size),M=Ts;if(b=q[t],a(X,b,Y,1,l),a(B,b,$,1,l),N[t]=l,z.nnz_v+=l,v>g)return e.valid=0,M=Ss;for(s=T[v],t=C[v],d=v;g>d;d++)T[d]=T[d+1],G[T[d]]=d,C[d]=C[d+1],R[C[d]]=d;for(T[g]=s,G[s]=g,C[g]=t,R[t]=g,t=1;L>=t;t++)U[t]=0;for(c=I[s],f=c+E[s]-1,_=c;f>=_;_++){for(t=X[_],U[t]=B[_],p=q[t],m=p+N[t]-1,b=p;X[b]!=s;b++);n(m>=b),X[b]=X[m],B[b]=B[m],N[t]--}if(z.nnz_v-=E[s],E[s]=0,e.hh_nfs++,V[e.hh_nfs]=s,W[e.hh_nfs]=0,z.sv_end-z.sv_beg<g-v&&(Sn(z),z.sv_end-z.sv_beg<g-v))return e.valid=z.valid=0,z.new_sva=z.sv_size+z.sv_size,n(z.new_sva>z.sv_size),M=Ts;for(d=v;g>d;d++)if(h=T[d],k=C[d],0!=U[k]){for(j=U[k]/S[h],y=I[h],w=y+E[h]-1,x=y;w>=x;x++)U[X[x]]-=j*B[x];z.sv_end--,X[z.sv_end]=h,B[z.sv_end]=j,W[e.hh_nfs]++}for(0==W[e.hh_nfs]?e.hh_nfs--:(H[e.hh_nfs]=z.sv_end,e.nnz_h+=W[e.hh_nfs]),S[s]=U[C[g]],l=0,d=g+1;L>=d;d++)if(t=C[d],P=U[t],!(Math.abs(P)<K)){if(N[t]+1>O[t]&&Nn(z,t,N[t]+10))return e.valid=0,z.new_sva=z.sv_size+z.sv_size,n(z.new_sva>z.sv_size),M=Ts;b=q[t]+N[t],X[b]=s,B[b]=P,N[t]++,l++,Y[l]=t,$[l]=P}if(F[s]<l&&qn(z,s,l))return e.valid=0,z.new_sva=z.sv_size+z.sv_size,n(z.new_sva>z.sv_size),M=Ts;for(_=I[s],a(X,_,Y,1,l),a(B,_,$,1,l),E[s]=l,z.nnz_v+=l,P=0,s=T[g],c=I[s],f=c+E[s]-1,_=c;f>=_;_++)P<Math.abs(B[_])&&(P=Math.abs(B[_]));for(t=C[g],p=q[t],m=p+N[t]-1,b=p;m>=b;b++)P<Math.abs(B[b])&&(P=Math.abs(B[b]));return Math.abs(S[s])<Z*P?(e.valid=0,M=Ns):M=0}function H(e,t){function a(e,t,a,l,o,i){var u,s,c,f,_,p,m,b,d,v,g,h,k,y,w,x,A,M,j,P=0;for(e>0&&t>0||r("triang: m = "+e+"; n = "+t+"; invalid dimension"),u=new Int32Array(1+(e>=t?e:t)),s=new Int32Array(1+e),c=new Int32Array(1+t),f=new Int32Array(1+e),_=new Int32Array(1+e),m=new Int32Array(1+t),b=new Int32Array(1+t),A=s,v=1;t>=v;v++)w=l(a,-v,u),n(w>=0&&e>=w),m[v]=A[w],A[w]=v;for(p=0,w=0;e>=w;w++)for(v=A[w];0!=v;v=m[v])b[v]=p,p=v;for(h=0,v=p;0!=v;v=b[v])m[v]=h,h=v;for(d=1;e>=d;d++)s[d]=w=l(a,+d,u),n(w>=0&&t>=w),f[d]=0,_[d]=c[w],0!=_[d]&&(f[_[d]]=d),c[w]=d;for(d=1;e>=d;d++)o[d]=0;for(v=1;t>=v;v++)i[v]=0;for(k=1,y=t;y>=k;){if(d=c[1],0!=d){for(n(1==s[d]),v=0,x=l(a,+d,u),n(x>=0&&t>=x);x>=1;x--)h=u[x],n(h>=1&&t>=h),0==i[h]&&(n(0==v),v=h);n(0!=v),o[d]=i[v]=k,k++,P++}else v=p,n(0!=v),i[v]=y,y--;for(0==m[v]?p=b[v]:b[m[v]]=b[v],0!=b[v]&&(m[b[v]]=m[v]),x=l(a,-v,u),n(x>=0&&e>=x);x>=1;x--)d=u[x],n(d>=1&&e>=d),w=s[d],n(w>=1),0==f[d]?c[w]=_[d]:_[f[d]]=_[d],0!=_[d]&&(f[_[d]]=f[d]),s[d]=--w,f[d]=0,_[d]=c[w],0!=_[d]&&(f[_[d]]=d),c[w]=d}for(d=1;e>=d;d++)0==o[d]&&(o[d]=k++);for(v=1;t>=v;v++)n(0!=i[v]);for(M=s,g=1;e>=g;g++)M[g]=0;for(d=1;e>=d;d++)g=o[d],n(g>=1&&e>=g),n(0==M[g]),M[g]=d;for(j=c,h=1;t>=h;h++)j[h]=0;for(v=1;t>=v;v++)h=i[v],n(h>=1&&t>=h),n(0==j[h]),j[h]=v;for(g=1;P>=g;g++){var L=0;for(d=M[g],x=l(a,+d,u),n(x>=0&&t>=x);x>=1;x--)v=u[x],n(v>=1&&t>=v),h=i[v],P>=h&&n(g>=h),h==g&&(n(!L),L=1);n(L)}return P}function l(e,r,t){function a(n){n!=Sf&&(u>=o?t[++c]=o:c=hn(e,o-u,t,null))}var l,o,i,u=un(e),s=sn(e),c=0;if(r>0){for(l=+r,n(l>=1&&u>=l),i=gn(e,l,t,null),r=1;i>=r;r++)vn(e,t[r],function(e){e!=Sf&&(t[++c]=u+t[r])});pn(e,l,function(e){e!=Sf&&(t[++c]=l)})}else o=-r,n(o>=1&&u+s>=o),u>=o?pn(e,o,a):vn(e,o-u,a);return c}function o(e){function r(e,r,t){switch(e){case zf:d[u]=Tf;break;case If:d[u]=Nf;break;case Ef:d[u]=Of;break;case Ff:d[u]=Math.abs(r)<=Math.abs(t)?Nf:Of;break;case Sf:d[u]=Gf;break;default:n(e!=e)}}var t,o,i,u,s,c,f,_,p,m=un(e),b=sn(e),d=new Int32Array(1+m+b);if(Yi("Constructing initial basis..."),0==m||0==b)return void Du(e);for(c=new Int32Array(1+m),f=new Int32Array(1+m+b),s=a(m,m+b,e,l,c,f),In(e,e_)>=3&&Yi("Size of triangular part = "+s),_=new Int32Array(1+m),p=new Int32Array(1+m+b),t=1;m>=t;t++)_[c[t]]=t;for(o=1;m+b>=o;o++)p[f[o]]=o;for(u=1;m+b>=u;u++)d[u]=-1;for(i=1;s>=i;i++)o=p[i],d[o]=qf;for(i=s+1;m>=i;i++)t=_[i],n(t>=1&&m>=t),n(f[t]>s),d[t]=qf;for(u=1;m+b>=u;u++)d[u]!=qf&&(m>=u?pn(e,u,r):vn(e,u-m,r));for(u=1;m+b>=u;u++)m>=u?kn(e,u,d[u]):yn(e,u-m,d[u])}0!=t&&r("glp_adv_basis: flags = "+t+"; invalid flags"),0==e.m||0==e.n?Du(e):o(e)}function W(e,r){var t=J(e),a={};return e.slot[t].node=a,a.p=t,a.up=r,a.level=null==r?0:r.level+1,a.count=0,a.b_ptr=null,a.s_ptr=null,a.r_ptr=null,a.solved=0,a.lp_obj=null==r?e.mip.dir==Vs?-Xi:+Xi:r.lp_obj,a.bound=null==r?e.mip.dir==Vs?-Xi:+Xi:r.bound,a.br_var=0,a.br_val=0,a.ii_cnt=0,a.ii_sum=0,a.changed=0,0==e.parm.cb_size?a.data=null:a.data={},a.temp=null,a.prev=e.tail,a.next=null,null==e.head?e.head=a:e.tail.next=a,e.tail=a,e.a_cnt++,e.n_cnt++,e.t_cnt++,null==r?n(1==t):r.count++,a}function J(e){var r;if(0==e.avail){var t=e.nslots,l=e.slot;for(0==t?e.nslots=20:(e.nslots=t+t,n(e.nslots>t)),e.slot=new Array(1+e.nslots),o(e.slot,0,1+e.nslots),null!=l&&a(e.slot,1,l,1,t),r=e.nslots;r>t;r--)e.slot[r].node=null,e.slot[r].next=e.avail,e.avail=r}return r=e.avail,e.avail=e.slot[r].next,n(null==e.slot[r].node),e.slot[r].next=0,r}function Q(e,r){var t,a,l,o=e.m,u=e.n;for(n(null==e.tree),e.tree=t={},t.n=u,t.orig_m=o,t.orig_type=new Int8Array(1+o+u),t.orig_lb=new Float64Array(1+o+u),t.orig_ub=new Float64Array(1+o+u),t.orig_stat=new Int8Array(1+o+u),t.orig_prim=new Float64Array(1+o+u),t.orig_dual=new Float64Array(1+o+u),a=1;o>=a;a++){var s=e.row[a];t.orig_type[a]=s.type,t.orig_lb[a]=s.lb,t.orig_ub[a]=s.ub,t.orig_stat[a]=s.stat,t.orig_prim[a]=s.prim,t.orig_dual[a]=s.dual}for(l=1;u>=l;l++){var c=e.col[l];t.orig_type[o+l]=c.type,t.orig_lb[o+l]=c.lb,t.orig_ub[o+l]=c.ub,t.orig_stat[o+l]=c.stat,t.orig_prim[o+l]=c.prim,t.orig_dual[o+l]=c.dual}return t.orig_obj=e.obj_val,t.nslots=0,t.avail=0,t.slot=null,t.head=t.tail=null,t.a_cnt=t.n_cnt=t.t_cnt=0,t.root_m=0,t.root_type=null,t.root_lb=t.root_ub=null,t.root_stat=null,t.curr=null,t.mip=e,t.non_int=new Int8Array(1+u),t.pred_m=t.pred_max=0,t.pred_type=null,t.pred_lb=t.pred_ub=null,t.pred_stat=null,t.local=ie(t),t.mir_gen=null,t.clq_gen=null,t.pcost=null,t.iwrk=new Int32Array(1+u),t.dwrk=new Float64Array(1+u),t.parm=r,t.tm_beg=i(),t.tm_lag=0,t.sol_cnt=0,t.reason=0,t.reopt=0,t.reinv=0,t.br_var=0,t.br_sel=0,t.child=0,t.next_p=0,t.stop=0,W(t,null),t}function Y(e,r){var t,a,l,o,i,u,s=e.mip;if(n(r>=1&&r<=e.nslots),t=e.slot[r].node,n(null!=t),n(0==t.count),n(null==e.curr),e.curr=t,a=e.slot[1].node,n(null!=a),t!=a){for(n(s.m==e.root_m),t.temp=null;null!=t;t=t.up)null==t.up?n(t==a):t.up.temp=t;for(t=a;null!=t;t=t.temp){var c=s.m,f=s.n;if(null==t.temp){var _,p;if(e.pred_m=c,e.pred_max<c+f){var m=c+f+100;e.pred_max=m,e.pred_type=new Int8Array(1+m),e.pred_lb=new Float64Array(1+m),e.pred_ub=new Float64Array(1+m),e.pred_stat=new Int8Array(1+m)}for(_=1;c>=_;_++){var b=s.row[_];e.pred_type[_]=b.type,e.pred_lb[_]=b.lb,e.pred_ub[_]=b.ub,e.pred_stat[_]=b.stat}for(p=1;f>=p;p++){var d=s.col[p];e.pred_type[s.m+p]=d.type,e.pred_lb[s.m+p]=d.lb,e.pred_ub[s.m+p]=d.ub,e.pred_stat[s.m+p]=d.stat}}for(l=t.b_ptr;null!=l;l=l.next)l.k<=c?su(s,l.k,l.type,l.lb,l.ub):cu(s,l.k-c,l.type,l.lb,l.ub);for(i=t.s_ptr;null!=i;i=i.next)i.k<=c?Xu(s,i.k,i.stat):Bu(s,i.k-c,i.stat);if(null!=t.r_ptr){var v,g,h;for(g=new Int32Array(1+f),h=new Float64Array(1+f),o=t.r_ptr;null!=o;o=o.next){for(_=lu(s,1),iu(s,_,o.name),n(0==s.row[_].level),s.row[_].level=t.level,s.row[_].origin=o.origin,s.row[_].klass=o.klass,su(s,_,o.type,o.lb,o.ub),v=0,u=o.ptr;null!=u;u=u.next)v++,g[v]=u.j,h[v]=u.val;_u(s,_,v,g,h),Ou(s,_,o.rii),Xu(s,_,o.stat)}}}for(t=e.curr;null!=t.b_ptr;)l=t.b_ptr,t.b_ptr=l.next;for(;null!=t.s_ptr;)i=t.s_ptr,t.s_ptr=i.next;for(;null!=t.r_ptr;)for(o=t.r_ptr,t.r_ptr=o.next,n(null==o.name);null!=o.ptr;)u=o.ptr,o.ptr=u.next}}function $(e){var r=e.mip,t=r.m,a=r.n,l=e.curr;n(null!=l);var o,i,u,s;if(null==l.up)for(n(1==l.p),n(0==e.root_m),n(null==e.root_type),n(null==e.root_lb),n(null==e.root_ub),n(null==e.root_stat),e.root_m=t,e.root_type=new Int8Array(1+t+a),e.root_lb=new Float64Array(1+t+a),e.root_ub=new Float64Array(1+t+a),e.root_stat=new Int8Array(1+t+a),o=1;t+a>=o;o++)t>=o?(u=r.row[o],e.root_type[o]=u.type,e.root_lb[o]=u.lb,e.root_ub[o]=u.ub,e.root_stat[o]=u.stat):(s=r.col[o-t],e.root_type[o]=s.type,e.root_lb[o]=s.lb,e.root_ub[o]=s.ub,e.root_stat[o]=s.stat);else{var c,f=e.root_m,_=e.pred_m;for(n(t>=_),n(null==l.b_ptr),n(null==l.s_ptr),o=1;_+a>=o;o++){var p,m,b,d,v,g,h,k;if(p=e.pred_type[o],v=e.pred_lb[o],g=e.pred_ub[o],m=e.pred_stat[o],_>=o?(u=r.row[o],b=u.type,h=u.lb,k=u.ub,d=u.stat):(s=r.col[o-_],b=s.type,h=s.lb,k=s.ub,d=s.stat),p!=b||v!=h||g!=k){var y={};y.k=o,y.type=b,y.lb=h,y.ub=k,y.next=l.b_ptr,l.b_ptr=y}if(m!=d){var w={};w.k=o,w.stat=d,w.next=l.s_ptr,l.s_ptr=w}}if(n(null==l.r_ptr),t>_){var x,A,M;for(A=new Int32Array(1+a),M=new Float64Array(1+a),i=t;i>_;i--){u=r.row[i];var j={},P=wu(r,i);for(null==P?j.name=null:j.name=P,j.type=u.type,j.lb=u.lb,j.ub=u.ub,j.ptr=null,x=Iu(r,i,A,M),o=1;x>=o;o++){var L={};L.j=A[o],L.val=M[o],L.next=j.ptr,j.ptr=L}j.rii=u.rii,j.stat=u.stat,j.next=l.r_ptr,l.r_ptr=j}}if(t!=f){var z=t-f;n(z>0);var I=new Int32Array(1+z);for(i=1;z>=i;i++)I[i]=f+i;bu(r,z,I)}for(t=r.m,n(t==f),i=1;t>=i;i++)su(r,i,e.root_type[i],e.root_lb[i],e.root_ub[i]),Xu(r,i,e.root_stat[i]);for(c=1;a>=c;c++)cu(r,c,e.root_type[t+c],e.root_lb[t+c],e.root_ub[t+c]),Bu(r,c,e.root_stat[t+c])}e.curr=null}function Z(e,r,t,a){var l,o;for(n(r>=1&&r<=e.nslots),l=e.slot[r].node,n(null!=l),n(0==l.count),n(e.curr!=l),null==l.prev?e.head=l.next:l.prev.next=l.next,null==l.next?e.tail=l.prev:l.next.prev=l.prev,l.prev=l.next=null,e.a_cnt--,n(t>0),o=1;t>=o;o++)a[o]=W(e,l).p}function ee(e,r){var t,a;for(n(r>=1&&r<=e.nslots),t=e.slot[r].node,n(null!=t),n(0==t.count),n(e.curr!=t),null==t.prev?e.head=t.next:t.prev.next=t.next,null==t.next?e.tail=t.prev:t.next.prev=t.prev,t.prev=t.next=null,e.a_cnt--;;){for(var l;null!=t.b_ptr;)l=t.b_ptr,t.b_ptr=l.next;for(var o;null!=t.s_ptr;)o=t.s_ptr,t.s_ptr=o.next;for(;null!=t.r_ptr;){var i;for(i=t.r_ptr,i.name=null;null!=i.ptr;){var u;u=i.ptr,i.ptr=u.next}t.r_ptr=i.next}if(0==e.parm.cb_size&&n(null==t.data),r=t.p,n(e.slot[r].node==t),e.slot[r].node=null,e.slot[r].next=e.avail,e.avail=r,a=t.up,e.n_cnt--,t=a,null==t||(n(t.count>0),t.count--,0!=t.count))break}}function ne(e){var r,t,a=e.mip,l=a.m,o=a.n;if(n(a.tree==e),l!=e.orig_m){var i,u;for(i=l-e.orig_m,n(i>0),u=new Int32Array(1+i),r=1;i>=r;r++)u[r]=e.orig_m+r;bu(a,i,u)}for(l=e.orig_m,n(l==e.orig_m),n(o==e.n),r=1;l>=r;r++)su(a,r,e.orig_type[r],e.orig_lb[r],e.orig_ub[r]),Xu(a,r,e.orig_stat[r]),a.row[r].prim=e.orig_prim[r],a.row[r].dual=e.orig_dual[r];for(t=1;o>=t;t++)cu(a,t,e.orig_type[l+t],e.orig_lb[l+t],e.orig_ub[l+t]),Bu(a,t,e.orig_stat[l+t]),a.col[t].prim=e.orig_prim[l+t],a.col[t].dual=e.orig_dual[l+t];a.pbs_stat=a.dbs_stat=dc,a.obj_val=e.orig_obj,n(null!=e.local),ce(e.local),n(null==e.mir_gen),n(null==e.clq_gen),a.tree=null}function re(e,r,t){var a,l,o,i,u,s,c,f,_,p,m,b,d=e.mip,v=d.m,g=d.n,h=e.iwrk,k=e.dwrk;for(n(Vu(d)==hc),n(cs(d)),n(r>=1&&g>=r),c=d.col[r].prim,a=Mn(d,v+r,h,k),l=-1;1>=l;l+=2)if(o=jn(d,a,h,k,l,1e-9),0!=o){for(n(o>=1&&v+g>=o),i=1;a>=i&&h[i]!=o;i++);n(i>=1&&a>=i),s=k[i],v>=o?(u=d.row[o].stat,f=d.row[o].dual):(u=d.col[o-v].stat,f=d.col[o-v].dual),n(u==tc||u==ac||u==lc),d.dir==Vs?(u==tc&&0>f||u==ac&&f>0||u==lc)&&(f=0):d.dir==Hs?(u==tc&&f>0||u==ac&&0>f||u==lc)&&(f=0):n(d!=d),_=(0>l?Math.floor(c):Math.ceil(c))-c,_/=s,p=f*_,n(d.dir==Vs?p>=0:d.dir==Hs?0>=p:d!=d),0>l?m=d.obj_val+p:b=d.obj_val+p}else d.dir==Vs?0>l?m=+Xi:b=+Xi:d.dir==Hs?0>l?m=-Xi:b=-Xi:n(d!=d);t(m,b)}function te(e,r){var t,a,l,o,i,u=e.mip,s=u.n,c=e.iwrk;for(l=0,o=u.c0,t=0,a=1;s>=a;a++){var f=u.col[a];if(0!=f.coef)if(f.type==nc)o+=f.coef*f.prim;else{if(f.kind!=Js)return r;if(f.coef!=Math.floor(f.coef))return r;Math.abs(f.coef)<=Ui?c[++l]=0|Math.abs(f.coef):t=1}}if(0==t){if(0==l)return r;t=Ue(l,c)}return n(t>0),u.dir==Vs?r!=+Xi&&(i=(r-o)/t,i>=Math.floor(i)+.001&&(i=Math.ceil(i),r=t*i+o)):u.dir==Hs?r!=-Xi&&(i=(r-o)/t,i<=Math.ceil(i)-.001&&(i=Math.floor(i),r=t*i+o)):n(u!=u),r}function ae(e,r){var t,a=e.mip,l=1;if(a.mip_stat==dc)switch(t=e.parm.tol_obj*(1+Math.abs(a.mip_obj)),a.dir){case Vs:r>=a.mip_obj-t&&(l=0);break;case Hs:r<=a.mip_obj+t&&(l=0);break;default:n(a!=a)}else switch(a.dir){case Vs:r==+Xi&&(l=0);break;case Hs:r==-Xi&&(l=0);break;default:n(a!=a)}return l}function le(e){var r,t=null;switch(e.mip.dir){case Vs:for(r=e.head;null!=r;r=r.next)(null==t||t.bound>r.bound)&&(t=r);break;case Hs:for(r=e.head;null!=r;r=r.next)(null==t||t.bound<r.bound)&&(t=r);break;default:n(e!=e)}return null==t?0:t.p}function oe(e){var r,t=e.mip;n(null!=e.curr);var a=new Ku;switch(e.parm.msg_lev){case Ac:a.msg_lev=Ac;break;case Mc:a.msg_lev=Mc;break;case jc:case Pc:a.msg_lev=jc;break;case Lc:a.msg_lev=Pc;break;default:n(e!=e)}if(a.meth=Ic,e.parm.msg_lev<Lc?a.out_dly=e.parm.out_dly:a.out_dly=0,t.mip_stat==dc)switch(e.mip.dir){case Vs:a.obj_ul=t.mip_obj;break;case Hs:a.obj_ll=t.mip_obj;break;default:n(t!=t)}return r=Uu(t,a),e.curr.solved++,r}function ie(e){n(e==e);var r={};return r.size=0,r.head=r.tail=null,r.ord=0,r.curr=null,r}function ue(e,t,a,l,o,i,u,s,c,f){var _,p,m;for(n(null!=t),_={},null==a||"\x00"==a[0]?_.name=null:_.name=a,l>=0&&255>=l||r("glp_ios_add_row: klass = "+l+"; invalid cut class"),_.klass=l,0!=o&&r("glp_ios_add_row: flags = "+o+"; invalid cut flags"),_.ptr=null,i>=0&&i<=e.n||r("glp_ios_add_row: len = "+i+"; invalid cut length"),m=1;i>=m;m++)p={},1<=u[m]&&u[m]<=e.n||r("glp_ios_add_row: ind["+m+"] = "+u[m]+"; column index out of range"),p.j=u[m],p.val=s[m],p.next=_.ptr,_.ptr=p;return c!=$s&&c!=Zs&&c!=nc&&r("glp_ios_add_row: type = "+c+"; invalid cut type"),_.type=c,_.rhs=f,_.prev=t.tail,_.next=null,null==_.prev?t.head=_:_.prev.next=_,t.tail=_,t.size++,t.size}function se(e){for(n(null!=e);null!=e.head;){var r=e.head;for(e.head=r.next;null!=r.ptr;){var t=r.ptr;r.ptr=t.next}}e.size=0,e.head=e.tail=null,e.ord=0,e.curr=null}function ce(e){n(null!=e),se(e)}function fe(e,r){function t(e,r,t,a,l){var o,i,u,s,c;for(n(e>=0),s=0,i=0,o=1;e>=o;o++)if(r[o]>0)if(t[o]==-Xi){if(0!=i){s=-Xi,i=0;break}i=o}else s+=r[o]*t[o];else if(r[o]<0)if(a[o]==+Xi){if(0!=i){s=-Xi,i=0;break}i=o}else s+=r[o]*a[o];else n(r!=r);for(l.f_min=s,l.j_min=i,c=0,u=0,o=1;e>=o;o++)if(r[o]>0)if(a[o]==+Xi){if(0!=u){c=+Xi,u=0;break}u=o}else c+=r[o]*a[o];else if(r[o]<0)if(t[o]==-Xi){if(0!=u){c=+Xi,u=0;break}u=o}else c+=r[o]*t[o];else n(r!=r);l.f_max=c,l.j_max=u}function a(e,n){n(0==e.j_min?e.f_min:-Xi,0==e.j_max?e.f_max:+Xi)}function l(e,r,t,a,l,o,i,u,s){var c,f,_,p;n(r>=0),n(u>=1&&r>=u),a==-Xi||e.f_max==+Xi?c=-Xi:0==e.j_max?t[u]>0?(n(i[u]!=+Xi),c=a-(e.f_max-t[u]*i[u])):t[u]<0?(n(o[u]!=-Xi),c=a-(e.f_max-t[u]*o[u])):n(t!=t):c=e.j_max==u?a-e.f_max:-Xi,l==+Xi||e.f_min==-Xi?f=+Xi:0==e.j_min?t[u]>0?(n(o[u]!=-Xi),f=l-(e.f_min-t[u]*o[u])):t[u]<0?(n(i[u]!=+Xi),f=l-(e.f_min-t[u]*i[u])):n(t!=t):f=e.j_min==u?l-e.f_min:+Xi,Math.abs(t[u])<1e-6?(_=-Xi,p=+Xi):t[u]>0?(_=c==-Xi?-Xi:c/t[u],p=f==+Xi?+Xi:f/t[u]):t[u]<0?(_=f==+Xi?-Xi:f/t[u],p=c==-Xi?+Xi:c/t[u]):n(t!=t),s(_,p)}function o(e,n,r,t,l){var o,i=0,u=n[r],s=t[l],c=null,f=null;return a(e,function(e,n){c=e,f=n}),u!=-Xi&&(o=.001*(1+Math.abs(u)),u-o>f)?i=1:s!=+Xi&&(o=.001*(1+Math.abs(s)),c>s+o)?i=1:(u!=-Xi&&(o=1e-12*(1+Math.abs(u)),c>u-o&&(n[r]=-Xi)),s!=+Xi&&(o=1e-12*(1+Math.abs(s)),s+o>f&&(t[l]=+Xi)),i)}function i(e,r,t,a,o,i,u,s,c,f){var _,p,m,b=0,d=null,v=null;if(n(r>=0),n(c>=1&&r>=c),p=i[c],m=u[c],l(e,r,t,a,o,i,u,c,function(e,n){d=e,v=n}),s&&(d!=-Xi&&(d=d-Math.floor(d)<.001?Math.floor(d):Math.ceil(d)),v!=+Xi&&(v=Math.ceil(v)-v<.001?Math.ceil(v):Math.floor(v))),p!=-Xi&&(_=.001*(1+Math.abs(p)),p-_>v))return b=1;if(m!=+Xi&&(_=.001*(1+Math.abs(m)),d>m+_))return b=1;if(d!=-Xi&&(_=.001*(1+Math.abs(d)),d-_>p&&(p=d)),v!=+Xi&&(_=.001*(1+Math.abs(v)),m>v+_&&(m=v)),p!=-Xi&&m!=+Xi){var g=Math.abs(p),h=Math.abs(m);_=1e-10*(1+(h>=g?g:h)),p>m-_&&(p==i[c]?m=p:m==u[c]?p=m:h>=g?m=p:p=m)}return f(p,m),b}function u(e,n,r,t,a){var l,o=0;return t>n&&(e||n==-Xi?o++:(l=r==+Xi?1+Math.abs(n):1+(r-n),t-n>=.25*l&&o++)),r>a&&(e||r==+Xi?o++:(l=n==-Xi?1+Math.abs(r):1+(r-n),r-a>=.25*l&&o++)),o}function s(e,r,a,l,s,c,f,_){var p,m,b,d,v,g,h,k,y,w,x,A,M,j,P=e.m,L=e.n,z={},I=0;for(n(c>=0&&P+1>=c),n(_>0),g=new Int32Array(1+L),h=new Int32Array(1+P+1),k=new Int32Array(1+P+1),y=new Int32Array(1+P+1),w=new Float64Array(1+L),x=new Float64Array(1+L),A=new Float64Array(1+L),v=0,b=1;c>=b;b++)p=f[b],n(p>=0&&P>=p),n(!k[p]),h[++v]=p,k[p]=1;for(n(v==c);v>0;)if(p=h[v--],k[p]=0,y[p]++,r[p]!=-Xi||a[p]!=+Xi){if(d=0,0==p)for(m=1;L>=m;m++)j=e.col[m],0!=j.coef&&(d++,g[d]=m,w[d]=j.coef);else{var E=e.row[p];for(M=E.ptr;null!=M;M=M.r_next)d++,g[d]=M.col.j,w[d]=M.val}for(b=1;d>=b;b++)m=g[b],x[b]=l[m],A[b]=s[m];if(t(d,w,x,A,z),o(z,r,p,a,p))return I=1;if(r[p]!=-Xi||a[p]!=+Xi)for(b=1;d>=b;b++){var F,S,q=null,N=null;if(m=g[b],j=e.col[m],F=j.kind!=Ws,i(z,d,w,r[p],a[p],x,A,F,b,function(e,n){q=e,N=n}))return I=1;if(S=u(F,l[m],s[m],q,N),l[m]=q,s[m]=N,S>0)for(M=j.ptr;null!=M;M=M.c_next){var O=M.row.i;y[O]>=_||(r[O]!=-Xi||a[O]!=+Xi)&&0==k[O]&&(n(P>=v),h[++v]=O,k[O]=1)}}}return I}var c,f,_,p,m,b,d,v,g=e.mip,h=g.m,k=g.n,y=0;switch(n(null!=e.curr),m=new Float64Array(1+h),b=new Float64Array(1+h),g.mip_stat){case bc:m[0]=-Xi,b[0]=+Xi;break;case dc:switch(g.dir){case Vs:m[0]=-Xi,b[0]=g.mip_obj-g.c0;break;case Hs:m[0]=g.mip_obj-g.c0,b[0]=+Xi;break;default:n(g!=g)}break;default:n(g!=g)}for(c=1;h>=c;c++)m[c]=Mu(g,c),b[c]=ju(g,c);for(d=new Float64Array(1+k),v=new Float64Array(1+k),f=1;k>=f;f++)d[f]=Lu(g,f),v[f]=zu(g,f);for(_=h+1,p=new Int32Array(1+_),c=1;_>=c;c++)p[c]=c-1;if(s(g,m,b,d,v,_,p,r))return y=1;for(c=1;h>=c;c++)Qu(g,c)==rc&&(m[c]==-Xi&&b[c]==+Xi?su(g,c,Ys,0,0):b[c]==+Xi?su(g,c,$s,m[c],0):m[c]==-Xi&&su(g,c,Zs,0,b[c]));for(f=1;k>=f;f++){var w;w=d[f]==-Xi&&v[f]==+Xi?Ys:v[f]==+Xi?$s:d[f]==-Xi?Zs:d[f]!=v[f]?ec:nc,cu(g,f,w,d[f],v[f])}return y}function _e(e){function r(e,r){var t,a,l,o,u,s;l=e.mip.mip_stat==dc?String(e.mip.mip_obj):"not found yet",t=le(e),0==t?o="tree is empty":(a=e.slot[t].node.bound,o=a==-Xi?"-inf":a==+Xi?"+inf":a),e.mip.dir==Vs?u=">=":e.mip.dir==Hs?u="<=":n(e!=e),a=Gs(e),s=0==a?"  0.0%":.001>a?" < 0.1%":9.999>=a?"  "+Number(100*a).toFixed(1)+"%":"",Yi("+"+e.mip.it_cnt+": "+(r?">>>>>":"mip =")+" "+l+" "+u+" "+o+" "+s+" ("+e.a_cnt+"; "+(e.t_cnt-e.n_cnt)+")"),e.tm_lag=i()}function t(e,r){return n(r>=1&&r<=e.nslots),n(null!=e.slot[r].node),ae(e,e.slot[r].node.bound)}function a(e){var r,t,a,l,o,i,u,s=e.mip,c=0,f=0;for(r=1;r<=s.n;r++){var _=s.col[r];if(e.non_int[r]=0,_.kind==Js&&_.stat==rc){if(t=_.type,a=_.lb,l=_.ub,o=_.prim,t==$s||t==ec||t==nc){if(i=a-e.parm.tol_int,u=a+e.parm.tol_int,o>=i&&u>=o)continue;if(a>o)continue}if(t==Zs||t==ec||t==nc){if(i=l-e.parm.tol_int,u=l+e.parm.tol_int,o>=i&&u>=o)continue;if(o>l)continue}i=Math.floor(o+.5)-e.parm.tol_int,u=Math.floor(o+.5)+e.parm.tol_int,o>=i&&u>=o||(e.non_int[r]=1,c++,i=o-Math.floor(o),u=Math.ceil(o)-o,n(i>0&&u>0),f+=u>=i?i:u)}}n(null!=e.curr),e.curr.ii_cnt=c,e.curr.ii_sum=f,e.parm.msg_lev>=Lc&&Yi(0==c?"There are no fractional columns":1==c?"There is one fractional column, integer infeasibility is "+f:"There are "+c+" fractional columns, integer infeasibility is "+f)}function l(e){var r,t,a=e.mip;for(a.mip_stat=dc,a.mip_obj=a.obj_val,r=1;r<=a.m;r++){var l=a.row[r];l.mipx=l.prim}for(t=1;t<=a.n;t++){var o=a.col[t];o.kind==Ws?o.mipx=o.prim:o.kind==Js?o.mipx=Math.floor(o.prim+.5):n(o!=o)}e.sol_cnt++}function o(e,r,t){var a,l,o,i,u,s,c,f,_,p,m,b,d,v,g,h=e.mip,k=h.m,y=h.n,w=new Array(3),x=null,A=null;switch(n(r>=1&&y>=r),l=h.col[r].type,_=h.col[r].lb,p=h.col[r].ub,m=h.col[r].prim,b=Math.floor(m),d=Math.ceil(m),l){case Ys:o=Zs,i=$s;break;case $s:n(b>=_),o=_==b?nc:ec,n(d>=_+1),i=$s;break;case Zs:n(p-1>=b),o=Zs,n(p>=d),i=d==p?nc:ec;break;case ec:n(b>=_&&p-1>=b),o=_==b?nc:ec,n(d>=_+1&&p>=d),i=d==p?nc:ec;break;default:n(l!=l)}return re(e,r,function(e,n){x=e,A=n}),v=te(e,x),g=te(e,A),u=!ae(e,v),s=!ae(e,g),u&&s?(e.parm.msg_lev>=Lc&&Yi("Both down- and up-branches are hopeless"),f=2):s?(e.parm.msg_lev>=Lc&&Yi("Up-branch is hopeless"),cu(h,r,o,_,b),e.curr.lp_obj=x,h.dir==Vs?e.curr.bound<v&&(e.curr.bound=v):h.dir==Hs?e.curr.bound>v&&(e.curr.bound=v):n(h!=h),f=1):u?(e.parm.msg_lev>=Lc&&Yi("Down-branch is hopeless"),cu(h,r,i,d,p),e.curr.lp_obj=A,h.dir==Vs?e.curr.bound<g&&(e.curr.bound=g):h.dir==Hs?e.curr.bound>g&&(e.curr.bound=g):n(h!=h),
f=1):(e.parm.msg_lev>=Lc&&Yi("Branching on column "+r+", primal value is "+m),n(null!=e.curr),c=e.curr.p,e.curr.br_var=r,e.curr.br_val=m,$(e),Z(e,c,2,w),e.parm.msg_lev>=Lc&&Yi("Node "+w[1]+" begins down branch, node "+w[2]+" begins up branch "),a=e.slot[w[1]].node,n(null!=a),n(null!=a.up),n(null==a.b_ptr),a.b_ptr={},a.b_ptr.k=k+r,a.b_ptr.type=o,a.b_ptr.lb=_,a.b_ptr.ub=b,a.b_ptr.next=null,a.lp_obj=x,h.dir==Vs?a.bound<v&&(a.bound=v):h.dir==Hs?a.bound>v&&(a.bound=v):n(h!=h),a=e.slot[w[2]].node,n(null!=a),n(null!=a.up),n(null==a.b_ptr),a.b_ptr={},a.b_ptr.k=k+r,a.b_ptr.type=i,a.b_ptr.lb=d,a.b_ptr.ub=p,a.b_ptr.next=null,a.lp_obj=A,h.dir==Vs?a.bound<g&&(a.bound=g):h.dir==Hs?a.bound>g&&(a.bound=g):n(h!=h),n(0==e.child),t==cf?e.child=0:t==ff?e.child=w[1]:t==_f?e.child=w[2]:n(t!=t),f=0)}function s(e){var r,t,a,l,o,i,u=e.mip,s=0;for(n(e.mip.mip_stat==dc),n(u.pbs_stat==dc&&u.dbs_stat==dc),a=u.obj_val,r=1;r<=u.n;r++){var c=u.col[r];if(c.kind==Js)switch(l=c.lb,o=c.ub,t=c.stat,i=c.dual,u.dir){case Vs:t==tc?(0>i&&(i=0),a+i>=u.mip_obj&&(cu(u,r,nc,l,l),s++)):t==ac&&(i>0&&(i=0),a-i>=u.mip_obj&&(cu(u,r,nc,o,o),s++));break;case Hs:t==tc?(i>0&&(i=0),a+i<=u.mip_obj&&(cu(u,r,nc,l,l),s++)):t==ac&&(0>i&&(i=0),a-i<=u.mip_obj&&(cu(u,r,nc,o,o),s++));break;default:n(e!=e)}}e.parm.msg_lev>=Lc&&(0==s||Yi(1==s?"One column has been fixed by reduced cost":s+" columns have been fixed by reduced costs")),n(u.pbs_stat==dc&&u.dbs_stat==dc)}function c(e){var r,t=0,a=null;for(n(null!=e.curr),r=e.orig_m+1;r<=e.mip.m;r++)e.mip.row[r].origin==Jc&&e.mip.row[r].level==e.curr.level&&e.mip.row[r].stat==rc&&(null==a&&(a=new Int32Array(1+e.mip.m)),a[++t]=r);t>0&&(bu(e.mip,t,a),n(0==fs(e.mip)))}function f(e){var r,t=e.mip,a=0,l=0,o=0,i=0,u=0;for(r=t.m;r>0;r--){var s=t.row[r];s.origin==Jc&&(s.klass==Qc?a++:s.klass==Yc?l++:s.klass==$c?o++:s.klass==Zc?i++:u++)}n(null!=e.curr),a+l+o+i+u>0&&(Yi("Cuts on level "+e.curr.level+":"),a>0&&Yi(" gmi = "+a+";"),l>0&&Yi(" mir = "+l+";"),o>0&&Yi(" cov = "+o+";"),i>0&&Yi(" clq = "+i+";"),u>0&&Yi(" app = "+u+";"),Yi(""))}function _(e){if(e.parm.mir_cuts==ef||e.parm.gmi_cuts==ef||e.parm.cov_cuts==ef||e.parm.clq_cuts==ef){var r,t,a;for(t=e.n,1e3>t&&(t=1e3),a=0,r=e.orig_m+1;r<=e.mip.m;r++)e.mip.row[r].origin==Jc&&a++;a>=t||(e.parm.gmi_cuts==ef&&e.curr.changed<5&&ye(e),e.parm.mir_cuts==ef&&(n(null!=e.mir_gen),xe(e,e.mir_gen)),e.parm.cov_cuts==ef&&je(e),e.parm.clq_cuts==ef&&null!=e.clq_gen&&(0==e.curr.level&&e.curr.changed<50||e.curr.level>0&&e.curr.changed<5)&&Ee(e,e.clq_gen))}}function p(e){var r,a,l=0;for(n(e.mip.mip_stat==dc),r=e.head;null!=r;r=a)a=r.next,t(e,r.p)||(ee(e,r.p),l++);e.parm.msg_lev>=Lc&&(1==l?Yi("One hopeless branch has been pruned"):l>1&&Yi(l+" hopeless branches have been pruned"))}for(var m,b,d,v,g,h=0,k=e.tm_beg,y=0,w=1,x=2,A=3,M=y;;){var j=null;switch(M){case y:if(n(null==e.curr),null==e.head){e.parm.msg_lev>=Lc&&Yi("Active list is empty!"),g=0,j=A;break}if(n(0==e.next_p),null!=e.parm.cb_func&&(n(0==e.reason),e.reason=uf,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop)){g=Mf,j=A;break}0!=e.next_p||(1==e.a_cnt?(n(null==e.head.next),e.next_p=e.head.p):0!=e.child?e.next_p=e.child:e.next_p=Be(e)),Y(e,e.next_p),e.next_p=e.child=0,null!=e.curr.up&&e.curr.up.p!=h&&(h=0),m=e.curr.p,e.parm.msg_lev>=Lc&&(Yi("------------------------------------------------------------------------"),Yi("Processing node "+m+" at level "+e.curr.level)),1==m&&(e.parm.gmi_cuts==ef&&e.parm.msg_lev>=Pc&&Yi("Gomory's cuts enabled"),e.parm.mir_cuts==ef&&(e.parm.msg_lev>=Pc&&Yi("MIR cuts enabled"),n(null==e.mir_gen),e.mir_gen=we(e)),e.parm.cov_cuts==ef&&e.parm.msg_lev>=Pc&&Yi("Cover cuts enabled"),e.parm.clq_cuts==ef&&(n(null==e.clq_gen),e.parm.msg_lev>=Pc&&Yi("Clique cuts enabled"),e.clq_gen=Ie(e)));case w:if((e.parm.msg_lev>=Lc||e.parm.msg_lev>=jc&&e.parm.out_frq-1<=1e3*u(i(),e.tm_lag))&&r(e,0),e.parm.msg_lev>=Pc&&u(i(),k)>=60&&(Yi("Time used: "+u(i(),e.tm_beg)+" secs"),k=i()),e.parm.mip_gap>0&&Gs(e)<=e.parm.mip_gap){e.parm.msg_lev>=Lc&&Yi("Relative gap tolerance reached; search terminated "),g=jf,j=A;break}if(e.parm.tm_lim<Ui&&e.parm.tm_lim-1<=1e3*u(i(),e.tm_beg)){e.parm.msg_lev>=Lc&&Yi("Time limit exhausted; search terminated"),g=yf,j=A;break}if(null!=e.parm.cb_func&&(n(0==e.reason),e.reason=sf,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop)){g=Mf,j=A;break}if(e.parm.pp_tech==Kc);else if(e.parm.pp_tech==Vc){if(0==e.curr.level&&fe(e,100)){j=x;break}}else if(e.parm.pp_tech==Hc){if(fe(e,0==e.curr.level?100:10)){j=x;break}}else n(e!=e);if(!t(e,m)){Yi("*** not tested yet ***"),j=x;break}if(e.parm.msg_lev>=Lc&&Yi("Solving LP relaxation..."),g=oe(e),0!=g&&g!=gf&&g!=hf){e.parm.msg_lev>=Mc&&Yi("ios_driver: unable to solve current LP relaxation; glp_simplex returned "+g),g=vf,j=A;break}if(d=e.mip.pbs_stat,v=e.mip.dbs_stat,d==dc&&v==dc)e.parm.msg_lev>=Lc&&Yi("Found optimal solution to LP relaxation");else{if(v==gc){e.parm.msg_lev>=Mc&&Yi("ios_driver: current LP relaxation has no dual feasible solution"),g=vf,j=A;break}if(d==vc&&v==dc){n(e.mip.mip_stat==dc),e.parm.msg_lev>=Lc&&Yi("LP relaxation has no solution better than incumbent objective value"),j=x;break}if(d==gc){e.parm.msg_lev>=Lc&&Yi("LP relaxation has no feasible solution"),j=x;break}n(e.mip!=e.mip)}n(d==dc&&v==dc),n(null!=e.curr),e.curr.lp_obj=e.mip.obj_val;var P=e.mip.obj_val;if(P=te(e,P),e.mip.dir==Vs?e.curr.bound<P&&(e.curr.bound=P):e.mip.dir==Hs?e.curr.bound>P&&(e.curr.bound=P):n(e.mip!=e.mip),e.parm.msg_lev>=Lc&&Yi("Local bound is "+P),!t(e,m)){e.parm.msg_lev>=Lc&&Yi("Current branch is hopeless and can be pruned"),j=x;break}if(n(0==e.reopt),n(0==e.reinv),null!=e.parm.cb_func){if(n(0==e.reason),e.reason=rf,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop){g=Mf,j=A;break}if(e.reopt){e.reopt=e.reinv=0,j=w;break}e.reinv&&(e.reinv=0,n(0==fs(e.mip)))}if(a(e),0==e.curr.ii_cnt){if(e.parm.msg_lev>=Lc&&Yi("New integer feasible solution found"),e.parm.msg_lev>=Pc&&f(e),l(e),e.parm.msg_lev>=jc&&r(e,1),null!=e.parm.cb_func&&(n(0==e.reason),e.reason=tf,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop)){g=Mf,j=A;break}j=x;break}if(e.mip.mip_stat==dc&&s(e),null!=e.parm.cb_func){if(n(0==e.reason),e.reason=af,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop){g=Mf,j=A;break}if(!t(e,m)){e.parm.msg_lev>=Lc&&Yi("Current branch became hopeless and can be pruned"),j=x;break}}if(e.parm.fp_heur&&(n(0==e.reason),e.reason=af,Ce(e),e.reason=0,!t(e,m))){e.parm.msg_lev>=Lc&&Yi("Current branch became hopeless and can be pruned"),j=x;break}if(n(null!=e.local),n(0==e.local.size),null!=e.parm.cb_func&&(n(0==e.reason),e.reason=lf,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop)){g=Mf,j=A;break}if((0==e.curr.level||0==h)&&(n(0==e.reason),e.reason=lf,_(e),e.reason=0),e.local.size>0&&(n(0==e.reason),e.reason=lf,Xe(e),e.reason=0),se(e.local),e.reopt){e.reopt=0,e.curr.changed++,j=w;break}if(c(e),e.parm.msg_lev>=Pc&&0==e.curr.level&&f(e),null!=e.pcost&&Ge(e),n(0==e.br_var),n(0==e.br_sel),null!=e.parm.cb_func&&(n(0==e.reason),n(0==e.br_var),n(0==e.br_sel),e.reason=of,e.parm.cb_func(e,e.parm.cb_info),e.reason=0,e.stop)){g=Mf,j=A;break}if(0==e.br_var&&(e.br_var=Fe(e,function(n){e.br_sel=n})),b=e.curr.p,g=o(e,e.br_var,e.br_sel),e.br_var=e.br_sel=0,0==g){h=b,j=y;break}if(1==g){e.curr.solved=e.curr.changed=0,j=w;break}if(2==g){j=x;break}n(g!=g);case x:e.parm.msg_lev>=Lc&&Yi("Node "+m+" fathomed"),$(e),ee(e,m),e.mip.mip_stat==dc&&p(e),h=0,j=y;break;case A:return e.parm.msg_lev>=jc&&r(e,0),e.mir_gen=null,e.clq_gen=null,g}if(null==j)break;M=j}}function pe(e){var r;return n(e>=0),r={},r.n=e,r.nnz=0,r.pos=new Int32Array(1+e),r.ind=new Int32Array(1+e),r.val=new Float64Array(1+e),r}function me(e){var r,t,a;for(n(e.n>=0),a=0,r=e.n;r>=1;r--)t=e.pos[r],n(t>=0&&t<=e.nnz),0!=t&&(n(e.ind[t]==r),a++);n(e.nnz==a)}function be(e,r){var t;return n(r>=1&&r<=e.n),t=e.pos[r],n(t>=0&&t<=e.nnz),0==t?0:e.val[t]}function de(e,r,t){n(r>=1&&r<=e.n);var a=e.pos[r];0==t?0!=a&&(e.pos[r]=0,a<e.nnz&&(e.pos[e.ind[e.nnz]]=a,e.ind[a]=e.ind[e.nnz],e.val[a]=e.val[e.nnz]),e.nnz--):(0==a&&(a=++e.nnz,e.pos[r]=a,e.ind[a]=r),e.val[a]=t)}function ve(e){for(var n=1;n<=e.nnz;n++)e.pos[e.ind[n]]=0;e.nnz=0}function ge(e,n){for(var r=0,t=1;t<=e.nnz;t++)0==Math.abs(e.val[t])||Math.abs(e.val[t])<n?e.pos[e.ind[t]]=0:(r++,e.pos[e.ind[t]]=r,e.ind[r]=e.ind[t],e.val[r]=e.val[t]);e.nnz=r}function he(e,r){n(e!=r),n(e.n==r.n),ve(e),e.nnz=r.nnz,a(e.ind,1,r.ind,1,e.nnz),a(e.val,1,r.val,1,e.nnz);for(var t=1;t<=e.nnz;t++)e.pos[e.ind[t]]=t}function ke(e,r,t){var a,l,o;n(e!=t),n(e.n==t.n);for(var i=1;i<=t.nnz;i++)a=t.ind[i],l=be(e,a),o=t.val[i],de(e,a,l+r*o)}function ye(e){function r(e){return e-Math.floor(e)}function t(e,t,a){var l,o,i,u,s,c,f,_,p,m,b,d,v,g,h=e.mip,k=h.m,y=h.n,w=t.ind,x=t.val,M=t.phi;for(i=hs(h,k+a,w,x),p=h.col[a].prim,o=1;k+y>=o;o++)M[o]=0;for(d=r(p),a=1;i>=a;a++){if(o=w[a],n(o>=1&&k+y>=o),k>=o?(v=h.row[o],u=Ws,c=v.lb,f=v.ub,s=v.stat):(g=h.col[o-k],u=g.kind,c=g.lb,f=g.ub,s=g.stat),n(s!=rc),m=x[a],Math.abs(m)>1e5)return;if(!(Math.abs(m)<1e-10)){switch(s){case lc:return;case tc:_=-m;break;case ac:_=+m;break;case oc:continue;default:n(s!=s)}switch(u){case Js:if(Math.abs(_-Math.floor(_+.5))<1e-10)continue;b=r(_)<=r(p)?r(_):r(p)/(1-r(p))*(1-r(_));break;case Ws:b=_>=0?+_:r(p)/(1-r(p))*-_;break;default:n(u!=u)}switch(s){case tc:M[o]=+b,d+=b*c;break;case ac:M[o]=-b,d-=b*f;break;default:n(s!=s)}}}for(l=1;k>=l;l++){var j;if(!(Math.abs(M[l])<1e-10))for(v=h.row[l],n(v.type!=nc),j=v.ptr;null!=j;j=j.r_next)M[k+j.col.j]+=M[l]*j.val}for(i=0,a=1;y>=a;a++)Math.abs(M[k+a])<1e-10||(g=h.col[a],g.type==nc?d-=M[k+a]*g.lb:(i++,w[i]=a,x[i]=M[k+a]));for(Math.abs(d)<1e-12&&(d=0),o=1;i>=o;o++){if(Math.abs(x[o])<.001)return;if(Math.abs(x[o])>1e3)return}A(e,null,Qc,0,i,w,x,$s,d)}var a,l,o,i,u,c=50,f=e.mip,_=f.m,p=f.n,m={};for(a=new Array(1+p),m.ind=new Int32Array(1+p),m.val=new Float64Array(1+p),m.phi=new Float64Array(1+_+p),o=0,i=1;p>=i;i++){var b,d=f.col[i];d.kind==Js&&d.type!=nc&&d.stat==rc&&(b=r(d.prim),b>=.05&&.95>=b&&(o++,a[o].j=i,a[o].f=b))}for(s(a,1,o,function(e,n){return e.f>n.f?-1:e.f<n.f?1:0}),u=x(e),l=1;o>=l&&!(x(e)-u>=c);l++)t(e,m,a[l].j)}function we(e){function r(e,r){var t,a=e.mip,l=r.m;for(t=1;l>=t;t++){var o=a.row[t];switch(r.skip[t]=0,r.isint[t]=0,o.type){case Ys:r.lb[t]=-Xi,r.ub[t]=+Xi;break;case $s:r.lb[t]=o.lb,r.ub[t]=+Xi;break;case Zs:r.lb[t]=-Xi,r.ub[t]=o.ub;break;case ec:r.lb[t]=o.lb,r.ub[t]=o.ub;break;case nc:r.lb[t]=r.ub[t]=o.lb;break;default:n(o!=o)}r.vlb[t]=r.vub[t]=0}}function t(e,r){var t,a=e.mip,l=r.m,o=r.n;for(t=l+1;l+o>=t;t++){var i=a.col[t-l];switch(i.kind){case Ws:r.isint[t]=0;break;case Js:r.isint[t]=1;break;default:n(i!=i)}switch(i.type){case Ys:r.lb[t]=-Xi,r.ub[t]=+Xi;break;case $s:r.lb[t]=i.lb,r.ub[t]=+Xi;break;case Zs:r.lb[t]=-Xi,r.ub[t]=i.ub;break;case ec:r.lb[t]=i.lb,r.ub[t]=i.ub;break;case nc:r.lb[t]=r.ub[t]=i.lb;break;default:n(i!=i)}r.vlb[t]=r.vub[t]=0}}function a(e,n){var r,t,a,l,o,i,u=e.mip,s=n.m;for(t=1;s>=t;t++)if((0==n.lb[t]&&n.ub[t]==+Xi||n.lb[t]==-Xi&&0==n.ub[t])&&(r=u.row[t].ptr,null!=r&&(a=s+r.col.j,o=r.val,r=r.r_next,null!=r&&(l=s+r.col.j,i=r.val,null==r.r_next)))){if(!n.isint[a]&&n.isint[l]);else{if(!n.isint[a]||n.isint[l])continue;l=a,i=o,a=s+r.col.j,o=r.val}n.lb[l]!=-Xi&&n.ub[l]!=+Xi&&n.lb[l]!=n.ub[l]&&(0==n.ub[t]&&(o=-o,i=-i),o>0?0==n.vlb[a]&&(n.lb[a]=-i/o,n.vlb[a]=l,n.skip[t]=1):0==n.vub[a]&&(n.ub[a]=-i/o,n.vub[a]=l,n.skip[t]=1))}}function l(e,n){var r,t,a,l,o=e.mip,i=n.m;for(t=1;i>=t;t++)if(n.lb[t]!=-Xi||n.ub[t]!=+Xi){for(l=0,r=o.row[t].ptr;null!=r;r=r.r_next){if(a=i+r.col.j,n.lb[a]==-Xi&&n.ub[a]==+Xi){n.skip[t]=1;break}if(n.isint[a]&&n.lb[a]==-Xi||n.isint[a]&&n.ub[a]==+Xi){n.skip[t]=1;break}(0!=n.vlb[a]||0!=n.vub[a]||n.lb[a]!=n.ub[a])&&l++}0==l&&(n.skip[t]=1)}else n.skip[t]=1}var o,i=e.mip,u=i.m,s=i.n;return Rs&&Yi("ios_mir_init: warning: debug mode enabled"),o={},o.m=u,o.n=s,o.skip=new Int8Array(1+u),o.isint=new Int8Array(1+u+s),o.lb=new Float64Array(1+u+s),o.vlb=new Int32Array(1+u+s),o.ub=new Float64Array(1+u+s),o.vub=new Int32Array(1+u+s),o.x=new Float64Array(1+u+s),o.agg_row=new Int32Array(1+Cs),o.agg_vec=pe(u+s),o.subst=new Int8Array(1+u+s),o.mod_vec=pe(u+s),o.cut_vec=pe(u+s),r(e,o),t(e,o),a(e,o),l(e,o),o}function xe(e,r){function t(e,r,t,a,l,o,i){function u(e,n){return e.v<n.v?-1:e.v>n.v?1:0}function c(e,n,r,t,a,l,o){function i(e,n,r,t){var a,l,o;if(Math.abs(r-Math.floor(r+.5))<.01)return 1;for(l=r-Math.floor(r),a=1;e>=a;a++)o=n[a]-Math.floor(n[a])-l,0>=o?t[a]=Math.floor(n[a]):t[a]=Math.floor(n[a])+o/(1-l);return y=Math.floor(r),w=1/(1-l),0}var u,s,c;for(s=o,c=r,u=1;e>=u;u++)s[u]=n[u]/l,a[u]&&(s[u]=-s[u]),c-=n[u]*t[u];if(c/=l,i(e,s,c,o))return 1;for(u=1;e>=u;u++)a[u]&&(o[u]=-o[u],y+=o[u]*t[u]);return w/=l,0}var f,_,p,m,b,d,v,g,h,k,x,A=new Array(4);for(k=new Int8Array(1+e),x=new Array(1+e),_=1;e>=_;_++)k[_]=l[_]>=.5*a[_];for(h=d=0,_=1;e>=_;_++)if(n(0!=r[_]),v=1e-9*(1+Math.abs(a[_])),!(l[_]<v||l[_]>a[_]-v||(f=c(e,r,t,a,k,Math.abs(r[_]),i)))){for(g=-y-w*o,p=1;e>=p;p++)g+=i[p]*l[p];g>h&&(h=g,d=Math.abs(r[_]))}if(.001>h&&(h=0),0==h)return h;for(n(d>0),A[1]=d/2,A[2]=d/4,A[3]=d/8,_=1;3>=_;_++)if(f=c(e,r,t,a,k,A[_],i),!f){for(g=-y-w*o,p=1;e>=p;p++)g+=i[p]*l[p];g>h&&(h=g,d=A[_])}for(m=0,_=1;e>=_;_++)v=1e-9*(1+Math.abs(a[_])),l[_]<v||l[_]>a[_]-v||(m++,x[m].j=_,x[m].v=Math.abs(l[_]-.5*a[_]));for(s(x,1,m,u),b=1;m>=b;b++)if(_=x[b].j,k[_]=!k[_],f=c(e,r,t,a,k,d,i),k[_]=!k[_],!f){for(g=-y-w*o,p=1;e>=p;p++)g+=i[p]*l[p];g>h&&(h=g,k[_]=!k[_])}return f=c(e,r,t,a,k,d,i),n(!f),h}function a(e,n){var r,t=e.mip,a=n.m,l=n.n;for(r=1;a>=r;r++)n.x[r]=t.row[r].prim;for(r=a+1;a+l>=r;r++)n.x[r]=t.col[r-a].prim}function o(e){var r,t,a,l,o,i=e.m,u=e.n;for(r=1;i+u>=r;r++)a=e.lb[r],t=e.vlb[r],0!=t&&(n(a!=-Xi),n(!e.isint[r]),n(e.isint[t]),a*=e.x[t]),a!=-Xi&&(o=1e-6*(1+Math.abs(a)),n(e.x[r]>=a-o)),l=e.ub[r],t=e.vub[r],0!=t&&(n(l!=+Xi),n(!e.isint[r]),n(e.isint[t]),l*=e.x[t]),l!=+Xi&&(o=1e-6*(1+Math.abs(l)),n(e.x[r]<=l+o))}function i(e,r,t){var a,l=e.mip,o=r.m;for(n(t>=1&&o>=t),n(!r.skip[t]),r.skip[t]=2,r.agg_cnt=1,r.agg_row[1]=t,ve(r.agg_vec),de(r.agg_vec,t,1),a=l.row[t].ptr;null!=a;a=a.r_next)de(r.agg_vec,o+a.col.j,-a.val);r.agg_rhs=0,Rs&&me(r.agg_vec)}function u(e){var r,t,a,l,o=e.m,i=e.n;for(a=0,l=1,r=1;r<=e.agg_vec.nnz;r++)t=e.agg_vec.ind[r],n(t>=1&&o+i>=t),a+=e.agg_vec.val[r]*e.x[t],l<Math.abs(e.agg_vec.val[r])&&(l=Math.abs(e.agg_vec.val[r]));a-=e.agg_rhs,l<Math.abs(e.agg_rhs)&&(l=Math.abs(e.agg_rhs)),n(Math.abs(a)<=1e-6*l)}function c(e){var r,t,a=e.m,l=e.n;for(r=1;r<=e.agg_vec.nnz;r++)t=e.agg_vec.ind[r],n(t>=1&&a+l>=t),0==e.vlb[t]&&0==e.vub[t]&&e.lb[t]==e.ub[t]&&(e.agg_rhs-=e.agg_vec.val[r]*e.lb[t],e.agg_vec.val[r]=0);ge(e.agg_vec,Ki),Rs&&me(e.agg_vec)}function f(e){var r,t,a,l,o,i=e.m,u=e.n;for(r=1;r<=e.agg_vec.nnz;r++)t=e.agg_vec.ind[r],n(t>=1&&i+u>=t),e.isint[t]||(a=e.vlb[t],0==a?l=e.lb[t]==-Xi?Xi:e.x[t]-e.lb[t]:(n(a>=1&&i+u>=a),n(e.isint[a]),n(e.lb[t]!=-Xi),l=e.x[t]-e.lb[t]*e.x[a]),a=e.vub[t],0==a?o=e.vub[t]==+Xi?Xi:e.ub[t]-e.x[t]:(n(a>=1&&i+u>=a),n(e.isint[a]),n(e.ub[t]!=+Xi),o=e.ub[t]*e.x[a]-e.x[t]),n(l!=Xi||o!=Xi),n(e.subst[t]==Xs),o>=l?e.subst[t]=Bs:e.subst[t]=Ds)}function _(e){var r,t,a,l,o=e.m,i=e.n;for(he(e.mod_vec,e.agg_vec),e.mod_rhs=e.agg_rhs,Rs&&me(e.mod_vec),r=e.mod_vec.nnz;r>=1;r--)a=e.mod_vec.ind[r],n(a>=1&&o+i>=a),e.isint[a]||(e.subst[a]==Bs?(n(e.lb[a]!=-Xi),l=e.vlb[a],0==l?e.mod_rhs-=e.mod_vec.val[r]*e.lb[a]:(n(e.isint[l]),t=e.mod_vec.pos[l],0==t&&(de(e.mod_vec,l,1),t=e.mod_vec.pos[l],e.mod_vec.val[t]=0),e.mod_vec.val[t]+=e.mod_vec.val[r]*e.lb[a])):e.subst[a]==Ds?(n(e.ub[a]!=+Xi),l=e.vub[a],0==l?e.mod_rhs-=e.mod_vec.val[r]*e.ub[a]:(n(e.isint[l]),t=e.mod_vec.pos[l],0==t&&(de(e.mod_vec,l,1),t=e.mod_vec.pos[l],e.mod_vec.val[t]=0),e.mod_vec.val[t]+=e.mod_vec.val[r]*e.ub[a]),e.mod_vec.val[r]=-e.mod_vec.val[r]):n(a!=a));for(Rs&&me(e.mod_vec),r=1;r<=e.mod_vec.nnz;r++)a=e.mod_vec.ind[r],n(a>=1&&o+i>=a),e.isint[a]&&(n(e.subst[a]==Xs),n(0==e.vlb[a]&&0==e.vub[a]),n(e.lb[a]!=-Xi&&e.ub[a]!=+Xi),Math.abs(e.lb[a])<=Math.abs(e.ub[a])?(e.subst[a]=Bs,e.mod_rhs-=e.mod_vec.val[r]*e.lb[a]):(e.subst[a]=Ds,e.mod_rhs-=e.mod_vec.val[r]*e.ub[a],e.mod_vec.val[r]=-e.mod_vec.val[r]));Rs&&me(e.mod_vec)}function p(e){var r,t,a,l,o,i,u=e.m,s=e.n;for(l=0,o=1,r=1;r<=e.mod_vec.nnz;r++)t=e.mod_vec.ind[r],n(t>=1&&u+s>=t),e.subst[t]==Bs?(n(e.lb[t]!=-Xi),a=e.vlb[t],i=0==a?e.x[t]-e.lb[t]:e.x[t]-e.lb[t]*e.x[a]):e.subst[t]==Ds?(n(e.ub[t]!=+Xi),a=e.vub[t],i=0==a?e.ub[t]-e.x[t]:e.ub[t]*e.x[a]-e.x[t]):n(t!=t),l+=e.mod_vec.val[r]*i,o<Math.abs(e.mod_vec.val[r])&&(o=Math.abs(e.mod_vec.val[r]));l-=e.mod_rhs,o<Math.abs(e.mod_rhs)&&(o=Math.abs(e.mod_rhs)),n(Math.abs(l)<=1e-6*o)}function m(e){var r,a,l,o,i,u,s,c,f,_=e.m,p=e.n,m=0,b=null,d=null;for(he(e.cut_vec,e.mod_vec),e.cut_rhs=e.mod_rhs,ge(e.cut_vec,Ki),Rs&&me(e.cut_vec),r=1;r<=e.cut_vec.nnz;r++)a=e.cut_vec.ind[r],n(a>=1&&_+p>=a),!e.isint[a]&&e.cut_vec.val[r]>0&&(e.cut_vec.val[r]=0);for(ge(e.cut_vec,0),Rs&&me(e.cut_vec),o=0,r=1;r<=e.cut_vec.nnz;r++)if(a=e.cut_vec.ind[r],n(a>=1&&_+p>=a),e.isint[a]){var v;o++,l=e.cut_vec.ind[o],e.cut_vec.pos[a]=o,e.cut_vec.pos[l]=r,e.cut_vec.ind[o]=a,e.cut_vec.ind[r]=l,v=e.cut_vec.val[o],e.cut_vec.val[o]=e.cut_vec.val[r],e.cut_vec.val[r]=v}if(Rs&&me(e.cut_vec),0==o)return m;for(u=new Float64Array(1+o),s=new Float64Array(1+o),c=new Float64Array(1+o),r=1;o>=r;r++)a=e.cut_vec.ind[r],n(a>=_+1&&_+p>=a),n(e.isint[a]),u[r]=e.ub[a]-e.lb[a],n(u[r]>=1),e.subst[a]==Bs?s[r]=e.x[a]-e.lb[a]:e.subst[a]==Ds?s[r]=e.ub[a]-e.x[a]:n(a!=a),n(s[r]>=-.001),s[r]<0&&(s[r]=0);for(i=0,r=o+1;r<=e.cut_vec.nnz;r++)a=e.cut_vec.ind[r],n(a>=1&&_+p>=a),n(!e.isint[a]),e.subst[a]==Bs?(n(e.lb[a]!=-Xi),l=e.vlb[a],s=0==l?e.x[a]-e.lb[a]:e.x[a]-e.lb[a]*e.x[l]):e.subst[a]==Ds?(n(e.ub[a]!=+Xi),l=e.vub[a],s=0==l?e.ub[a]-e.x[a]:e.ub[a]*e.x[l]-e.x[a]):n(a!=a),n(s>=-.001),0>s&&(s=0),i-=e.cut_vec.val[r]*s;if(n(i>=0),f=e.cut_rhs,m=t(o,e.cut_vec.val,f,u,s,i,c),0==m)return m;for(n(m>0),r=1;o>=r;r++)e.cut_vec.val[r]=c[r];for(r=o+1;r<=e.cut_vec.nnz;r++)a=e.cut_vec.ind[r],_+p>=a&&(e.cut_vec.val[r]*=d);return e.cut_rhs=b,Rs&&me(e.cut_vec),m}function b(e,r){var t,a,l,o,i,u,s=e.m,c=e.n;for(o=0,i=1,t=1;t<=e.cut_vec.nnz;t++)a=e.cut_vec.ind[t],n(a>=1&&s+c>=a),e.subst[a]==Bs?(n(e.lb[a]!=-Xi),l=e.vlb[a],u=0==l?e.x[a]-e.lb[a]:e.x[a]-e.lb[a]*e.x[l]):e.subst[a]==Ds?(n(e.ub[a]!=+Xi),l=e.vub[a],u=0==l?e.ub[a]-e.x[a]:e.ub[a]*e.x[l]-e.x[a]):n(a!=a),o+=e.cut_vec.val[t]*u,i<Math.abs(e.cut_vec.val[t])&&(i=Math.abs(e.cut_vec.val[t]));o-=e.cut_rhs,i<Math.abs(e.cut_rhs)&&(i=Math.abs(e.cut_rhs)),n(Math.abs(o-r)<=1e-6*i)}function d(e){var r,t,a,l,o=e.m,i=e.n;for(r=1;r<=e.cut_vec.nnz;r++)a=e.cut_vec.ind[r],n(a>=1&&o+i>=a),e.isint[a]&&(e.subst[a]==Bs?(n(e.lb[a]!=-Xi),n(0==e.vlb[a]),e.cut_rhs+=e.cut_vec.val[r]*e.lb[a]):e.subst[a]==Ds?(n(e.ub[a]!=+Xi),n(0==e.vub[a]),e.cut_rhs-=e.cut_vec.val[r]*e.ub[a],e.cut_vec.val[r]=-e.cut_vec.val[r]):n(a!=a));for(r=1;r<=e.cut_vec.nnz;r++)a=e.cut_vec.ind[r],n(a>=1&&o+i>=a),e.isint[a]||(e.subst[a]==Bs?(n(e.lb[a]!=-Xi),l=e.vlb[a],0==l?e.cut_rhs+=e.cut_vec.val[r]*e.lb[a]:(t=e.cut_vec.pos[l],0==t&&(de(e.cut_vec,l,1),t=e.cut_vec.pos[l],n(0!=t),e.cut_vec.val[t]=0),e.cut_vec.val[t]-=e.cut_vec.val[r]*e.lb[a])):e.subst[a]==Ds?(n(e.ub[a]!=+Xi),l=e.vub[a],0==l?e.cut_rhs-=e.cut_vec.val[r]*e.ub[a]:(t=e.cut_vec.pos[l],0==t&&(de(e.cut_vec,l,1),t=e.cut_vec.pos[l],n(0!=t),e.cut_vec.val[t]=0),e.cut_vec.val[t]+=e.cut_vec.val[r]*e.ub[a]),e.cut_vec.val[r]=-e.cut_vec.val[r]):n(a!=a));Rs&&me(e.cut_vec)}function v(e,r){var t,a,l,o,i=e.m,u=e.n;for(l=0,o=1,t=1;t<=e.cut_vec.nnz;t++)a=e.cut_vec.ind[t],n(a>=1&&i+u>=a),l+=e.cut_vec.val[t]*e.x[a],o<Math.abs(e.cut_vec.val[t])&&(o=Math.abs(e.cut_vec.val[t]));l-=e.cut_rhs,o<Math.abs(e.cut_rhs)&&(o=Math.abs(e.cut_rhs)),n(Math.abs(l-r)<=1e-6*o)}function g(e,r){var t,a,l,o,i,u=e.mip,s=r.m,c=r.n;for(a=r.cut_vec.nnz;a>=1;a--)if(l=r.cut_vec.ind[a],n(l>=1&&s+c>=l),!(l>s)){for(t=u.row[l].ptr;null!=t;t=t.r_next)o=s+t.col.j,i=r.cut_vec.pos[o],0==i&&(de(r.cut_vec,o,1),i=r.cut_vec.pos[o],r.cut_vec.val[i]=0),r.cut_vec.val[i]+=r.cut_vec.val[a]*t.val;r.cut_vec.val[a]=0}ge(r.cut_vec,0)}function h(e,r){var t,a,l,o=r.m,i=r.n,u=new Int32Array(1+i),s=new Float64Array(1+i);for(l=0,t=r.cut_vec.nnz;t>=1;t--)a=r.cut_vec.ind[t],n(a>=o+1&&o+i>=a),l++,u[l]=a-o,s[l]=r.cut_vec.val[t];A(e,null,Yc,0,l,u,s,Zs,r.cut_rhs)}function k(e,r){var t,a,l,o,i,u,s,c,f,_,p=e.mip,m=r.m,b=r.n,d=0,v=0,g=0;for(o=1;o<=r.agg_vec.nnz;o++)u=r.agg_vec.ind[o],n(u>=1&&m+b>=u),m>=u||r.isint[u]||Math.abs(r.agg_vec.val[o])<.001||(s=r.vlb[u],0==s?c=r.lb[u]==-Xi?Xi:r.x[u]-r.lb[u]:(n(s>=1&&m+b>=s),n(r.isint[s]),n(r.lb[u]!=-Xi),c=r.x[u]-r.lb[u]*r.x[s]),s=r.vub[u],0==s?f=r.vub[u]==+Xi?Xi:r.ub[u]-r.x[u]:(n(s>=1&&m+b>=s),n(r.isint[s]),n(r.ub[u]!=+Xi),f=r.ub[u]*r.x[s]-r.x[u]),n(c!=Xi||f!=Xi),_=f>=c?c:f,n(_!=Xi),.001>_||_>g&&(g=_,d=u));if(0==d)return v=1;for(n(d>=m+1&&m+b>=d),n(!r.isint[d]),l=1;m>=l;l++)if(!r.skip[l]){for(t=p.row[l].ptr;null!=t&&t.col.j!=d-m;t=t.r_next);if(null!=t&&Math.abs(t.val)>=.001)break}if(l>m)return v=2;for(r.agg_cnt++,n(r.agg_cnt<=Cs),r.agg_row[r.agg_cnt]=l,r.skip[l]=2,a=pe(m+b),de(a,l,1),t=p.row[l].ptr;null!=t;t=t.r_next)de(a,m+t.col.j,-t.val);return Rs&&me(a),o=r.agg_vec.pos[d],n(0!=o),i=a.pos[d],n(0!=i),ke(r.agg_vec,-r.agg_vec.val[o]/a.val[i],a),de(r.agg_vec,d,0),Rs&&me(r.agg_vec),v}var y,w,x,M,j,P=e.mip,L=r.m,z=r.n;for(n(P.m>=L),n(P.n==z),a(e,r),Rs&&o(r),l(r.subst,1,Xs,L+z),x=1;L>=x;x++)if(!r.skip[x]){for(i(e,r,x);;){if(Rs&&u(r),c(r),Rs)for(u(r),M=1;L+z>=M;M++)n(r.subst[M]==Xs);f(r),_(r),Rs&&p(r),j=m(r),j>0&&(Rs&&b(r,j),d(r),Rs&&v(r,j),g(e,r),Rs&&v(r,j),h(e,r));for(var I=1;I<=r.mod_vec.nnz;I++)M=r.mod_vec.ind[I],n(M>=1&&L+z>=M),n(r.subst[M]!=Xs),r.subst[M]=Xs;if(!(0==j&&r.agg_cnt<Cs&&0==k(e,r)))break}var E;for(M=1;M<=r.agg_cnt;M++)E=r.agg_row[M],n(E>=1&&L>=E),n(2==r.skip[E]),r.skip[E]=0}}function Ae(e,r,t,a,l){function o(e,n,r,t,a,l,o){var i,u,s,c,f=0,_=0,p=.001;for(s=.001*(1+Math.abs(r)),i=1;e>=i;i++)for(u=i+1;e>=u;u++){if(f++,f>y)return _;n[i]+n[u]+l>r+s&&(c=n[i]+n[u]-r,h=1/(c+t),k=2-h*c,c=a[i]+a[u]+h*l-k,c>p&&(p=c,o[1]=i,o[2]=u,_=1))}return _}function i(e,n,r,t,a,l,o){var i,u,s,c,f,_=0,p=0,m=.001;for(c=.001*(1+Math.abs(r)),i=1;e>=i;i++)for(u=i+1;e>=u;u++)for(s=u+1;e>=s;s++){if(_++,_>y)return p;n[i]+n[u]+n[s]+l>r+c&&(f=n[i]+n[u]+n[s]-r,h=1/(f+t),k=3-h*f,f=a[i]+a[u]+a[s]+h*l-k,f>m&&(m=f,o[1]=i,o[2]=u,o[3]=s,p=1))}return p}function u(e,n,r,t,a,l,o){var i,u,s,c,f,_,p=0,m=0,b=.001;for(f=.001*(1+Math.abs(r)),i=1;e>=i;i++)for(u=i+1;e>=u;u++)for(s=u+1;e>=s;s++)for(c=s+1;e>=c;c++){if(p++,p>y)return m;n[i]+n[u]+n[s]+n[c]+l>r+f&&(_=n[i]+n[u]+n[s]+n[c]-r,h=1/(_+t),k=4-h*_,_=a[i]+a[u]+a[s]+a[c]+h*l-k,_>b&&(b=_,o[1]=i,o[2]=u,o[3]=s,o[4]=c,m=1))}return m}function s(e,r,t,a,l,s,c){var f;for(n(e>=2),f=1;e>=f;f++)n(r[f]>0);for(n(t>-1e-5),n(a>=0),f=1;e>=f;f++)n(0<=l[f]&&l[f]<=1);return n(s>=0&&a>=s),o(e,r,t,a,l,s,c)?2:i(e,r,t,a,l,s,c)?3:u(e,r,t,a,l,s,c)?4:0}var c,f,_,p,m,b,d,v,g,h=null,k=null,y=1e3,w=new Array(5);for(p=0,f=1;r>=f;f++)c=t[f],mn(e,c)==Sf?a[0]-=a[f]*bn(e,c):(p++,t[p]=t[f],a[p]=a[f]);for(r=p,_=0,f=1;r>=f;f++)if(c=t[f],Pn(e,c)==Cf&&mn(e,c)==Ff&&0==bn(e,c)&&1==dn(e,c)){var x,A;_++,x=t[_],A=a[_],t[_]=t[f],a[_]=a[f],t[f]=x,a[f]=A}if(2>_)return 0;for(b=d=0,f=_+1;r>=f;f++){if(c=t[f],mn(e,c)!=Ff)return 0;a[f]>0?(b+=a[f]*bn(e,c),d+=a[f]*dn(e,c)):(b+=a[f]*dn(e,c),d+=a[f]*bn(e,c))}for(v=d-b,g=0,f=_+1;r>=f;f++)c=t[f],g+=a[f]*An(e,c);for(g-=b,0>g&&(g=0),g>v&&(g=v),a[0]-=b,f=1;_>=f;f++)c=t[f],l[f]=An(e,c),l[f]<0&&(l[f]=0),l[f]>1&&(l[f]=1);for(f=1;_>=f;f++)a[f]<0&&(t[f]=-t[f],a[f]=-a[f],a[0]+=a[f],l[f]=1-l[f]);if(m=s(_,a,a[0],v,l,g,w),0==m)return 0;for(n(m>=2&&4>=m),t[0]=0,a[0]=k,c=1;m>=c;c++)w[c]=t[w[c]];for(n(_>=m),f=1;m>=f;f++)w[f]>0?(t[f]=+w[f],a[f]=1):(t[f]=-w[f],a[f]=-1,a[0]-=1);for(f=_+1;r>=f;f++)m++,t[m]=t[f],a[m]=h*a[f];return a[0]+=h*b,n(r>=m),r=m}function Me(e,n,t,a){var l,o,i=sn(e),u=0;for(0>n&&r("lpx_eval_row: len = "+n+"; invalid row length"),o=1;n>=o;o++)l=t[o],l>=1&&i>=l||r("lpx_eval_row: j = "+l+"; column number out of range"),u+=a[o]*An(e,l);return u}function je(e){var r,t,a,l,o,i,u,s,c,f=e.mip,_=un(f),p=sn(f);for(n(wn(f)==Xf),i=new Int32Array(1+p),s=new Float64Array(1+p),c=new Float64Array(1+p),r=1;_>=r;r++)for(l=1;2>=l;l++){if(a=cn(f,r),1==l){if(a!=Ef&&a!=Ff)continue;o=gn(f,r,i,s),s[0]=_n(f,r)}else{if(a!=If&&a!=Ff)continue;for(o=gn(f,r,i,s),t=1;o>=t;t++)s[t]=-s[t];s[0]=-fn(f,r)}o=Ae(f,o,i,s,c),0!=o&&(u=Me(f,o,i,s)-s[0],.001>u||A(e,null,$c,0,o,i,s,Zs,s[0]))}}function Pe(e){function r(e,r){var t;switch(cn(e,r)){case zf:case Ef:t=-Xi;break;case If:case Ff:case Sf:t=fn(e,r);break;default:n(e!=e)}return t}function t(e,r){var t;switch(cn(e,r)){case zf:case If:t=+Xi;break;case Ef:case Ff:case Sf:t=_n(e,r);break;default:n(e!=e)}return t}function a(e,r){var t;switch(mn(e,r)){case zf:case Ef:t=-Xi;break;case If:case Ff:case Sf:t=bn(e,r);break;default:n(e!=e)}return t}function l(e,r){var t;switch(mn(e,r)){case zf:case If:t=+Xi;break;case Ef:case Ff:case Sf:t=dn(e,r);break;default:n(e!=e)}return t}function o(e,n){return Pn(e,n)==Cf&&mn(e,n)==Ff&&0==bn(e,n)&&1==dn(e,n)}function i(e,r,t,o){var i,u,s,c,f;for(f=0,u=1;r>=u;u++)if(i=t[u],o[u]>0){if(s=a(e,i),s==-Xi){f=-Xi;break}f+=o[u]*s}else if(o[u]<0){if(c=l(e,i),c==+Xi){f=-Xi;break}f+=o[u]*c}else n(o!=o);return f}function u(e,r,t,o){var i,u,s,c,f;for(f=0,u=1;r>=u;u++)if(i=t[u],o[u]>0){if(c=l(e,i),c==+Xi){f=+Xi;break}f+=o[u]*c}else if(o[u]<0){if(s=a(e,i),s==-Xi){f=+Xi;break}f+=o[u]*s}else n(o!=o);return f}function s(e,r,t,a,l,o,i,u,s){var c;return n(i>=1&&s>i&&e>=s),t!=-Xi&&u&&(t-=r[i]),a!=+Xi&&u&&(a-=r[i]),l!=-Xi&&(r[i]<0&&(l-=r[i]),r[s]<0&&(l-=r[s])),o!=+Xi&&(r[i]>0&&(o-=r[i]),r[s]>0&&(o-=r[s])),c=r[s]>0?t==-Xi||o==+Xi?-Xi:(t-o)/r[s]:a==+Xi||l==-Xi?-Xi:(a-l)/r[s],c>.001?2:(c=r[s]>0?a==+Xi||l==-Xi?+Xi:(a-l)/r[s]:t==-Xi||o==+Xi?+Xi:(t-o)/r[s],.999>c?1:0)}var c,f,_,p,m,b,d,v,g,h,k,y,w,x,A,M,j=4e3,P=500,L=null;for(Yi("Creating the conflict graph..."),c=un(e),f=sn(e),_=0,h=new Int32Array(1+f),k=new Int32Array(1+f),g=new Int32Array(1+f),M=new Float64Array(1+f),p=1;c>=p;p++)if(y=r(e,p),w=t(e,p),!(y==-Xi&&w==+Xi||(v=gn(e,p,g,M),v>P)))for(x=i(e,v,g,M),A=u(e,v,g,M),b=1;v>=b;b++)if(o(e,g[b]))for(d=b+1;v>=d;d++)o(e,g[d])&&(s(v,M,y,w,x,A,b,0,d)||s(v,M,y,w,x,A,b,1,d))&&(m=g[b],0==h[m]&&(_++,h[m]=_,k[_]=m),m=g[d],0==h[m]&&(_++,h[m]=_,k[_]=m));if(0==_||_>j)return Yi("The conflict graph is either empty or too big"),L;for(L={},L.n=f,L.nb=_,L.ne=0,L.vert=h,L.orig=k,v=_+_,v=v*(v-1)/2,v=(v+(Vi-1))/Vi,L.a=new Array(v),m=1;_>=m;m++)Le(L,+k[m],-k[m]);for(p=1;c>=p;p++)if(y=r(e,p),w=t(e,p),!(y==-Xi&&w==+Xi||(v=gn(e,p,g,M),v>P)))for(x=i(e,v,g,M),A=u(e,v,g,M),b=1;v>=b;b++)if(o(e,g[b]))for(d=b+1;v>=d;d++)if(o(e,g[d])){switch(s(v,M,y,w,x,A,b,0,d)){case 0:break;case 1:Le(L,-g[b],+g[d]);break;case 2:Le(L,-g[b],-g[d]);break;default:n(e!=e)}switch(s(v,M,y,w,x,A,b,1,d)){case 0:break;case 1:Le(L,+g[b],+g[d]);break;case 2:Le(L,+g[b],-g[d]);break;default:n(e!=e)}}return Yi("The conflict graph has 2*"+L.nb+" vertices and "+L.ne+" edges"),L}function Le(e,r,t){var a;n(r!=t),r>0?(n(r>=1&&r<=e.n),r=e.vert[r],n(0!=r)):(r=-r,n(r>=1&&r<=e.n),r=e.vert[r],n(0!=r),r+=e.nb),t>0?(n(t>=1&&t<=e.n),t=e.vert[t],n(0!=t)):(t=-t,n(t>=1&&t<=e.n),t=e.vert[t],n(0!=t),t+=e.nb),t>r&&(a=r,r=t,t=a),a=(r-1)*(r-2)/2+(t-1),e.a[a/Vi]|=1<<Vi-1-a%Vi,e.ne++}function ze(e,r,t,a){function l(e,n,r){return n==r?0:n>r?o(e,n,r):o(e,r,n)}function o(e,n,r){return s(e,n*(n-1)/2+r)}function s(e,n){return e.a[n/Vi]&1<<Vi-1-n%Vi}function c(e,n,r,t,a,o){var i,u,s,f,_,p,m,b;if(b=new Int32Array(e.n),0>=n){if(0==n&&(e.set[t++]=r[0],a+=o),a>e.record)for(e.record=a,e.rec_level=t,i=0;t>i;i++)e.rec[i+1]=e.set[i]}else for(i=n;i>=0;i--){if(0==t&&n>i)return;if(s=r[i],t>0&&e.clique[s]<=e.record-a)return;if(e.set[t]=s,f=a+e.wt[s+1],o-=e.wt[s+1],o<=e.record-f)return;for(p=0,m=0,_=0;r+i>m;)u=r[m],m++,l(e,u,s)&&(b[p]=u,p++,_+=e.wt[u+1]);_<=e.record-f||c(e,p-1,b,t+1,f,_)}}function f(e,n,r,t){var a,o,s,f,_,p,m,b,d,v,g={};for(g.n=e,g.wt=n,g.a=r,g.record=0,g.rec_level=0,g.rec=t,g.clique=new Int32Array(g.n),g.set=new Int32Array(g.n),m=new Int32Array(g.n),b=new Int32Array(g.n),d=new Int32Array(g.n),v=i(),a=0;a<g.n;a++)for(b[a]=0,o=0;o<g.n;o++)l(g,a,o)&&(b[a]+=g.wt[o+1]);for(a=0;a<g.n;a++)m[a]=0;for(a=g.n-1;a>=0;a--){for(f=-1,_=-1,o=0;o<g.n;o++)!m[o]&&(g.wt[o+1]>f||g.wt[o+1]==f&&b[o]>_)&&(f=g.wt[o+1],_=b[o],s=o);for(d[a]=s,m[s]=1,o=0;o<g.n;o++)!m[o]&&o!=s&&l(g,s,o)&&(b[o]-=g.wt[s+1])}for(p=0,a=0;a<g.n;a++)p+=g.wt[d[a]+1],c(g,a,d,0,0,p),g.clique[d[a]]=g.record,u(i(),v)>=4.999&&(Yi("level = "+a+"1 ("+g.n+"); best = "+g.record),v=i());for(a=1;a<=g.rec_level;a++)t[a]++;return g.rec_level}var _,p,m,b,d,v,g,h,k,y,w,x=sn(e),A=0;for(v=new Int32Array(1+2*r.nb),g=new Int32Array(1+2*r.nb),w=new Float64Array(1+x),p=1;p<=r.nb;p++)_=r.orig[p],h=An(e,_),d=100*h+.5|0,0>d&&(d=0),d>100&&(d=100),v[p]=d,v[r.nb+p]=100-d;for(b=f(2*r.nb,v,r.a,g),k=0,p=1;b>=p;p++)m=g[p],n(m>=1&&m<=2*r.nb),m<=r.nb?(_=r.orig[m],h=An(e,_),k+=h):(_=r.orig[m-r.nb],h=An(e,_),k+=1-h);if(k>=1.01){for(y=1,p=1;b>=p;p++)m=g[p],m<=r.nb?(_=r.orig[m],n(_>=1&&x>=_),w[_]+=1):(_=r.orig[m-r.nb],n(_>=1&&x>=_),w[_]-=1,y-=1);for(n(0==A),_=1;x>=_;_++)0!=w[_]&&(A++,t[A]=_,a[A]=w[_]);t[0]=0,a[0]=y}return A}function Ie(e){var r=e.mip;return n(null!=r),Pe(r)}function Ee(e,r){var t,a,l,o=sn(e.mip);n(null!=r),a=new Int32Array(1+o),l=new Float64Array(1+o),t=ze(e.mip,r,a,l),t>0&&A(e,null,Zc,0,t,a,l,Zs,l[0])}function Fe(e,r){var t;return e.parm.br_tech==Oc?t=Se(e,r):e.parm.br_tech==Tc?t=qe(e,r):e.parm.br_tech==Gc?t=Ne(e,r):e.parm.br_tech==Rc?t=Oe(e,r):e.parm.br_tech==Cc?t=Re(e,r):n(e!=e),t}function Se(e,r){var t,a,l;for(t=1;t<=e.n&&!e.non_int[t];t++);return n(t>=1&&t<=e.n),l=es(e.mip,t),a=l-Math.floor(l)<Math.ceil(l)-l?ff:_f,r(a),t}function qe(e,r){var t,a,l;for(t=e.n;t>=1&&!e.non_int[t];t--);return n(t>=1&&t<=e.n),l=es(e.mip,t),a=l-Math.floor(l)<Math.ceil(l)-l?ff:_f,r(a),t}function Ne(e,n){var r,t,a,l,o,i;for(t=0,o=Xi,r=1;r<=e.n;r++)e.non_int[r]&&(l=es(e.mip,r),i=Math.floor(l)+.5,o>Math.abs(l-i)&&(t=r,o=Math.abs(l-i),a=i>l?ff:_f));return n(a),t}function Oe(e,r){var t,a,l,o,i,u,s,c,f,_,p,m,b,d,v,g,h,k,y,w,x,A=e.mip,M=A.m,j=A.n,P=e.non_int;for(n(Vu(A)==hc),f=new Int32Array(1+j),x=new Float64Array(1+j),a=0,w=-1,t=1;j>=t;t++)if(P[t]){for(_=es(A,t),s=hs(A,M+t,f,x),u=-1;1>=u;u+=2){if(l=xs(A,s,f,x,u,1e-9),0!=l&&(l=f[l]),0==l)v=e.mip.dir==Vs?+Xi:-Xi;else{for(o=1;s>=o&&f[o]!=l;o++);switch(n(o>=1&&s>=o),m=x[o],b=(0>u?Math.floor(_):Math.ceil(_))-_,d=b/m,l>M&&ts(A,l-M)!=Ws&&Math.abs(d-Math.floor(d+.5))>.001&&(d=d>0?Math.ceil(d):Math.floor(d)),M>=l?(c=Qu(A,l),p=$u(A,l)):(c=Zu(A,l-M),p=ns(A,l-M)),e.mip.dir){case Vs:(c==tc&&0>p||c==ac&&p>0||c==lc)&&(p=0);break;case Hs:(c==tc&&p>0||c==ac&&0>p||c==lc)&&(p=0);break;default:n(e!=e)}v=p*d}switch(e.mip.dir){case Vs:n(v>=0);break;case Hs:n(0>=v);break;default:n(e!=e)}0>u?g=v:h=v}if((w<Math.abs(g)||w<Math.abs(h))&&(a=t,Math.abs(g)<Math.abs(h)?(i=ff,w=Math.abs(h)):(i=_f,w=Math.abs(g)),k=g,y=h,w==Xi))break}return n(a>=1&&j>=a),w<1e-6*(1+.001*Math.abs(A.obj_val))?a=Ne(e,r):(e.parm.msg_lev>=Lc&&(Yi("branch_drtom: column "+a+" chosen to branch on"),Yi(Math.abs(k)==Xi?"branch_drtom: down-branch is infeasible":"branch_drtom: down-branch bound is "+(xn(A)+k)),Yi(Math.abs(y)==Xi?"branch_drtom: up-branch   is infeasible":"branch_drtom: up-branch   bound is "+(xn(A)+y))),r(i),a)}function Te(e){var n,r=e.n,t={};for(t.dn_cnt=new Int32Array(1+r),t.dn_sum=new Float64Array(1+r),t.up_cnt=new Int32Array(1+r),t.up_sum=new Float64Array(1+r),n=1;r>=n;n++)t.dn_cnt[n]=t.up_cnt[n]=0,t.dn_sum[n]=t.up_sum[n]=0;return t}function Ge(e){var r,t,a,l,o=e.pcost;n(null!=o),n(null!=e.curr),null!=e.curr.up&&(r=e.curr.up.br_var,n(r>=1&&r<=e.n),t=e.mip.col[r].prim-e.curr.up.br_val,n(0!=t),a=e.mip.obj_val-e.curr.up.lp_obj,l=Math.abs(a/t),0>t?(o.dn_cnt[r]++,o.dn_sum[r]+=l):(o.up_cnt[r]++,o.up_sum[r]+=l))}function Re(e,r){function t(e,r,t){var a,l,o;n(Vu(e)==hc),a=nu(),du(a,e,0),cu(a,r,nc,t,t);var i=new Ku;return i.msg_lev=Ac,i.meth=Ec,i.it_lim=30,i.out_dly=1e3,i.meth=Ec,l=Uu(a,i),0==l||l==kf?Hu(a)==gc?o=Xi:Wu(a)==dc?(e.dir==Vs?o=a.obj_val-e.obj_val:e.dir==Hs?o=e.obj_val-a.obj_val:n(e!=e),o<1e-6*(1+.001*Math.abs(e.obj_val))&&(o=0)):o=0:o=0,o}function a(e,r,a){var l,o,i,u=e.pcost;if(n(null!=u),
n(r>=1&&r<=e.n),a==ff){if(0==u.dn_cnt[r]){if(l=e.mip.col[r].prim,o=t(e.mip,r,Math.floor(l)),o==Xi)return i=Xi;u.dn_cnt[r]=1,u.dn_sum[r]=o/(l-Math.floor(l))}i=u.dn_sum[r]/u.dn_cnt[r]}else if(a==_f){if(0==u.up_cnt[r]){if(l=e.mip.col[r].prim,o=t(e.mip,r,Math.ceil(l)),o==Xi)return i=Xi;u.up_cnt[r]=1,u.up_sum[r]=o/(Math.ceil(l)-l)}i=u.up_sum[r]/u.up_cnt[r]}else n(a!=a);return i}function l(e){var n,r=e.pcost,t=0,a=0;for(n=1;n<=e.n;n++)M(e,n)&&(t++,r.dn_cnt[n]>0&&r.up_cnt[n]>0&&a++);Yi("Pseudocosts initialized for "+a+" of "+t+" variables")}var o,s,c,f,_,p,m,b,d,v=i();for(null==e.pcost&&(e.pcost=Te(e)),s=0,d=-1,o=1;o<=e.n;o++)if(M(e,o)){if(f=e.mip.col[o].prim,_=a(e,o,ff),_==Xi)return s=o,c=ff,r(c),s;if(p=_*(f-Math.floor(f)),_=a(e,o,_f),_==Xi)return s=o,c=_f,r(c),s;m=_*(Math.ceil(f)-f),b=p>m?p:m,b>d&&(d=b,s=o,c=m>=p?ff:_f),e.parm.msg_lev>=ef&&u(i(),v)>=10&&(l(e),v=i())}return 0==d?s=Ne(e,r):(r(c),s)}function Ce(e){for(var r,t,a,l,c,f,_,p,m,b,d,v,g=e.mip,h=g.n,k=null,y=null,w=null,x=0,A=1,M=2,P=3,L=4,z=5,I=x;;){var E=null;switch(I){case x:if(n(Vu(g)==hc),0!=e.curr.level||1!=e.curr.solved){E=z;break}for(p=0,a=1;h>=a;a++)if(r=g.col[a],r.kind!=Ws&&r.type!=nc){if(n(r.kind==Js),r.type!=ec||0!=r.lb||1!=r.ub){e.parm.msg_lev>=Pc&&Yi("FPUMP heuristic cannot be applied due to general integer variables"),E=z;break}p++}if(null!=E)break;if(0==p){E=z;break}for(e.parm.msg_lev>=Pc&&Yi("Applying FPUMP heuristic..."),y=new Array(1+p),o(y,1,p),l=0,a=1;h>=a;a++)r=g.col[a],r.kind==Js&&r.type==ec&&(y[++l].j=a);n(l==p),k=nu();case A:if(du(k,g,nf),g.mip_stat==dc){var F,S,q;for(lu(k,1),F=new Int32Array(1+h),S=new Float64Array(1+h),a=1;h>=a;a++)F[a]=a,S[a]=g.col[a].coef;_u(k,k.m,h,F,S),q=.1*g.obj_val+.9*g.mip_obj,g.dir==Vs?su(k,k.m,Zs,0,q-g.c0):g.dir==Hs?su(k,k.m,$s,q-g.c0,0):n(g!=g)}for(_=0,l=1;p>=l;l++)y[l].x=-1;case M:if(_++,e.parm.msg_lev>=Pc&&Yi("Pass "+_),d=Xi,f=0,_>1){var N,O;for(null==w&&(w=hi()),l=1;p>=l;l++)a=y[l].j,r=k.col[a],N=Ai(w,-.3,.7),0>N&&(N=0),O=Math.abs(y[l].x-r.prim),O+N>.5&&(y[l].x=1-y[l].x);E=L;break}case P:for(b=1,l=1;p>=l;l++)r=k.col[y[l].j],c=r.prim<.5?0:1,y[l].x!=c&&(b=0,y[l].x=c);if(b){for(l=1;p>=l;l++)r=k.col[y[l].j],y[l].d=Math.abs(r.prim-y[l].x);for(s(y,1,p,function(e,n){return e.d>n.d?-1:e.d<n.d?1:0}),l=1;p>=l&&!(l>=5&&y[l].d<.35||l>=10);l++)y[l].x=1-y[l].x}case L:if(e.parm.tm_lim<Ui&&e.parm.tm_lim-1<=1e3*u(i(),e.tm_beg)){E=z;break}for(k.dir=Vs,k.c0=0,a=1;h>=a;a++)k.col[a].coef=0;for(l=1;p>=l;l++)a=y[l].j,0==y[l].x?k.col[a].coef=1:(k.col[a].coef=-1,k.c0+=1);if(t=new Ku,e.parm.msg_lev<=Mc?t.msg_lev=e.parm.msg_lev:e.parm.msg_lev<=Pc&&(t.msg_lev=jc,t.out_dly=1e4),m=Uu(k,t),0!=m){e.parm.msg_lev>=Mc&&Yi("Warning: glp_simplex returned "+m),E=z;break}if(m=Vu(k),m!=hc){e.parm.msg_lev>=Mc&&Yi("Warning: glp_get_status returned "+m),E=z;break}for(e.parm.msg_lev>=Lc&&Yi("delta = "+k.obj_val),v=.3*e.parm.tol_int,l=1;p>=l&&(r=k.col[y[l].j],!(v<r.prim&&r.prim<1-v));l++);if(l>p){var T=new Float64Array(1+h);for(a=1;h>=a;a++)T[a]=k.col[a].prim,g.col[a].kind==Js&&(T[a]=Math.floor(T[a]+.5));for(k.c0=g.c0,k.dir=g.dir,l=1;p>=l;l++)k.col[y[l].j].lb=T[y[l].j],k.col[y[l].j].ub=T[y[l].j],k.col[y[l].j].type=nc;for(a=1;h>=a;a++)k.col[a].coef=g.col[a].coef;if(m=Uu(k,t),0!=m){e.parm.msg_lev>=Mc&&Yi("Warning: glp_simplex returned "+m),E=z;break}if(m=Vu(k),m!=hc){e.parm.msg_lev>=Mc&&Yi("Warning: glp_get_status returned "+m),E=z;break}for(a=1;h>=a;a++)g.col[a].kind!=Js&&(T[a]=k.col[a].prim);if(m=j(e,T),0==m){if(ae(e,e.curr.bound)){E=A;break}E=z;break}}if(d==Xi||k.obj_val<=d-1e-6*(1+d)?(f=0,d=k.obj_val):f++,3>f){E=P;break}if(5>_){E=M;break}case z:}if(null==E)break;I=E}}function Xe(e){function r(e,n,r){var t,a,l=0,o=0,i=0;for(t=e.ptr;null!=t;t=t.next)r[t.j]=t.val,o+=t.val*t.val;for(t=n.ptr;null!=t;t=t.next)l+=r[t.j]*t.val,i+=t.val*t.val;for(t=e.ptr;null!=t;t=t.next)r[t.j]=0;return a=Math.sqrt(o)*Math.sqrt(i),Ki*Ki>a&&(a=Ki),l/a}var t,a,l,o,i,u,c,f,_,p,m,b;for(n(null!=e.curr),t=e.local,n(null!=t),n(t.size>0),o=new Array(1+t.size),p=new Int32Array(1+e.n),m=new Float64Array(1+e.n),b=new Float64Array(1+e.n),i=0,a=t.head;null!=a;a=a.next)i++,o[i].cut=a,o[i].flag=0;for(n(i==t.size),i=1;i<=t.size;i++){var d,v=null,g=null;for(a=o[i].cut,f=0,d=0,l=a.ptr;null!=l;l=l.next)n(1<=l.j&&l.j<=e.n),f++,p[f]=l.j,m[f]=l.val,d+=l.val*l.val;Ki*Ki>d&&(d=Ki),f=ys(e.mip,f,p,m),_=w(e.mip,f,p,m,a.type,a.rhs,1e-9,function(e,n,r,t,a,l){v=a,g=l}),0==_?(o[i].eff=Math.abs(v)/Math.sqrt(d),e.mip.dir==Vs?(0>g&&(g=0),o[i].deg=+g):(g>0&&(g=0),o[i].deg=-g)):1==_?o[i].eff=o[i].deg=0:2==_?(o[i].eff=1,o[i].deg=Xi):n(_!=_),o[i].deg<.01&&(o[i].deg=0)}for(s(o,1,t.size,function(e,n){if(0==e.deg&&0==n.deg){if(e.eff>n.eff)return-1;if(e.eff<n.eff)return 1}else{if(e.deg>n.deg)return-1;if(e.deg<n.deg)return 1}return 0}),c=0==e.curr.level?90:10,c>t.size&&(c=t.size),i=1;c>=i;i++){var h;if(!(o[i].deg<.01&&o[i].eff<.01)){for(u=1;i>u&&!(o[u].flag&&r(o[i].cut,o[u].cut,b)>.9);u++);if(!(i>u)){for(a=o[i].cut,o[i].flag=1,h=lu(e.mip,1),null!=a.name&&iu(e.mip,h,a.name),n(e.mip.row[h].origin==Jc),e.mip.row[h].klass=a.klass,f=0,l=a.ptr;null!=l;l=l.next)f++,p[f]=l.j,m[f]=l.val;_u(e.mip,h,f,p,m),n(a.type==$s||a.type==Zs),su(e.mip,h,a.type,a.rhs,a.rhs)}}}}function Be(e){function r(e){var r,t,a;for(t=0,a=Xi,r=e.head;null!=r;r=r.next)n(null!=r.up),a>r.up.ii_sum&&(t=r.p,a=r.up.ii_sum);return t}function t(e){var r,t,a,l,o,i;for(n(e.mip.mip_stat==dc),r=e.slot[1].node,n(null!=r),n(r.ii_sum>0),o=(e.mip.mip_obj-r.bound)/r.ii_sum,a=0,l=Xi,t=e.head;null!=t;t=t.next)n(null!=t.up),i=t.up.bound+o*t.up.ii_sum,e.mip.dir==Hs&&(i=-i),l>i&&(a=t.p,l=i);return a}function a(e){var r,t,a,l=null;switch(e.mip.dir){case Vs:for(t=+Xi,r=e.head;null!=r;r=r.next)t>r.bound&&(t=r.bound);for(n(t!=+Xi),a=.001*(1+Math.abs(t)),r=e.head;null!=r;r=r.next)r.bound<=t+a&&(n(null!=r.up),(null==l||l.up.ii_sum>r.up.ii_sum)&&(l=r));break;case Hs:for(t=-Xi,r=e.head;null!=r;r=r.next)t<r.bound&&(t=r.bound);for(n(t!=-Xi),a=.001*(1+Math.abs(t)),r=e.head;null!=r;r=r.next)r.bound>=t-a&&(n(null!=r.up),(null==l||l.lp_obj<r.lp_obj)&&(l=r));break;default:n(e!=e)}return n(null!=l),l.p}var l;return e.parm.bt_tech==Xc?(n(null!=e.tail),l=e.tail.p):e.parm.bt_tech==Bc?(n(null!=e.head),l=e.head.p):e.parm.bt_tech==Dc?l=a(e):e.parm.bt_tech==Uc?l=e.mip.mip_stat==bc?r(e):t(e):n(e!=e),l}function De(e,r){var t;for(n(e>0&&r>0);r>0;)t=e%r,e=r,r=t;return e}function Ue(e,r){var t,a=0;for(n(e>0),t=1;e>=t&&(n(r[t]>0),a=1==t?r[1]:De(a,r[t]),1!=a);t++);return a}function Ke(e){n(e>0);var r=Math.floor(Math.log(e)/Math.log(2))+1,t=e/Math.pow(2,r);return Math.pow(2,.75>=t?r-1:r)}function Ve(e,n){var r=Number(e);if(isNaN(r))return 2;switch(r){case Number.POSITIVE_INFINITY:case Number.NEGATIVE_INFINITY:return 1;default:return n(r),0}}function He(e,n){var r=Number(e);if(isNaN(r))return 2;switch(r){case Number.POSITIVE_INFINITY:case Number.NEGATIVE_INFINITY:return 1;default:return r%1==0?(n(r),0):2}}function We(e,n,r){var t,a,l,o;return e>=1&&31>=e&&n>=1&&12>=n&&r>=1&&4e3>=r?(n>=3?n-=3:(n+=9,r--),t=r/100|0,a=r-100*t,l=146097*t/4|0,l+=1461*a/4|0,l+=(153*n+2)/5|0,l+=e+1721119,Je(l,function(e){o=e}),e!=o&&(l=-1),l):-1}function Je(e,n){var r,t,a,l=0;return e>=1721426&&3182395>=e?(e-=1721119,a=(4*e-1)/146097|0,e=(4*e-1)%146097,r=e/4|0,e=(4*r+3)/1461|0,r=(4*r+3)%1461,r=(r+4)/4|0,t=(5*r-3)/153|0,r=(5*r-3)%153,r=(r+5)/5|0,a=100*a+e,9>=t?t+=3:(t-=9,a++),n(r,t,a),l):1}function Qe(){var e;return Lf&&Yi("lpf_create_it: warning: debug mode enabled"),e={},e.valid=0,e.m0_max=e.m0=0,e.luf=Fn(),e.m=0,e.B=null,e.n_max=50,e.n=0,e.R_ptr=e.R_len=null,e.S_ptr=e.S_len=null,e.scf=null,e.P_row=e.P_col=null,e.Q_row=e.Q_col=null,e.v_size=1e3,e.v_ptr=0,e.v_ind=null,e.v_val=null,e.work1=e.work2=null,e}function Ye(e,t,a,l,o){var i,u;if(Lf)var s,c,f,_,p,m;switch(n(a==a),1>t&&r("lpf_factorize: m = "+t+"; invalid parameter"),t>Hi&&r("lpf_factorize: m = "+t+"; matrix too big"),e.m0=e.m=t,e.valid=0,null==e.R_ptr&&(e.R_ptr=new Int32Array(1+e.n_max)),null==e.R_len&&(e.R_len=new Int32Array(1+e.n_max)),null==e.S_ptr&&(e.S_ptr=new Int32Array(1+e.n_max)),null==e.S_len&&(e.S_len=new Int32Array(1+e.n_max)),null==e.scf&&(e.scf=Mi(e.n_max)),null==e.v_ind&&(e.v_ind=new Int32Array(1+e.v_size)),null==e.v_val&&(e.v_val=new Float64Array(1+e.v_size)),e.m0_max<t&&(e.m0_max=t+100,e.P_row=new Int32Array(1+e.m0_max+e.n_max),e.P_col=new Int32Array(1+e.m0_max+e.n_max),e.Q_row=new Int32Array(1+e.m0_max+e.n_max),e.Q_col=new Int32Array(1+e.m0_max+e.n_max),e.work1=new Float64Array(1+e.m0_max+e.n_max),e.work2=new Float64Array(1+e.m0_max+e.n_max)),Bn(e.luf,t,l,o)){case 0:break;case O_:return u=Pf;case T_:return u=LPF_ECOND;default:n(e!=e)}if(e.valid=1,Lf){for(n(32767>=t),e.B=p=new Float64Array(1+t*t),_=new Int32Array(1+t),m=new Float64Array(1+t),i=1;t*t>=i;i++)p[i]=0;for(c=1;t>=c;c++)for(f=l(o,c,_,m),n(f>=0&&t>=f),i=1;f>=i;i++)s=_[i],n(s>=1&&t>=s),n(0==p[(s-1)*t+c]),n(0!=m[i]),p[(s-1)*t+c]=m[i]}for(e.n=0,Ti(e.scf),i=1;t>=i;i++)e.P_row[i]=e.P_col[i]=i,e.Q_row[i]=e.Q_col[i]=i;return e.v_ptr=1,u=0}function $e(e,n,r,t,a){var l,o,i,u,s,c=e.n,f=e.R_ptr,_=e.R_len,p=e.v_ind,m=e.v_val;for(l=1;c>=l;l++)if(0!=t[l+a])for(s=r*t[l+a],o=f[l],i=o+_[l],u=o;i>u;u++)n[p[u]]+=s*m[u]}function Ze(e,n,r,t,a){var l,o,i,u,s,c=e.n,f=e.R_ptr,_=e.R_len,p=e.v_ind,m=e.v_val;for(l=1;c>=l;l++){for(s=0,o=f[l],i=o+_[l],u=o;i>u;u++)s+=m[u]*a[p[u]];n[l+r]+=t*s}}function en(e,n,r,t,a){var l,o,i,u,s,c=e.n,f=e.S_ptr,_=e.S_len,p=e.v_ind,m=e.v_val;for(l=1;c>=l;l++){for(s=0,o=f[l],i=o+_[l],u=o;i>u;u++)s+=m[u]*a[p[u]];n[l+r]+=t*s}}function nn(e,n,r,t,a){var l,o,i,u,s,c=e.n,f=e.S_ptr,_=e.S_len,p=e.v_ind,m=e.v_val;for(l=1;c>=l;l++)if(0!=t[l+a])for(s=r*t[l+a],o=f[l],i=o+_[l],u=o;i>u;u++)n[p[u]]+=s*m[u]}function rn(e,n,r,t){var a,l,o,i,u,s,c=e.m,f=e.B,_=0;for(a=1;c>=a;a++){for(i=0,s=1,l=1;c>=l;l++)u=n?f[c*(l-1)+a]*r[l]:f[c*(a-1)+l]*r[l],s<Math.abs(u)&&(s=Math.abs(u)),i+=u;o=Math.abs(i-t[a])/s,o>_&&(_=o)}_>1e-8&&Yi((n?"lpf_btran":"lpf_ftran")+": dmax = "+_+"; relative error too large")}function tn(e,t){var a,l,o=e.m0,i=e.m,u=e.n,s=e.P_col,c=e.Q_col,f=e.work1,_=f,p=f;if(Lf)var m;if(e.valid||r("lpf_ftran: the factorization is not valid"),n(i>=0&&o+u>=i),Lf)for(m=new Float64Array(1+i),a=1;i>=a;a++)m[a]=t[a];for(a=1;o+u>=a;a++)f[a]=(l=s[a])<=i?t[l]:0;for(Dn(e.luf,0,_),en(e,p,o,-1,_),Oi(e.scf,0,p,o),$e(e,_,-1,p,o),Un(e.luf,0,_),a=1;i>=a;a++)t[a]=f[c[a]];Lf&&rn(e,0,t,m)}function an(e,t){var a,l,o=e.m0,i=e.m,u=e.n,s=e.P_row,c=e.Q_row,f=e.work1,_=f,p=f;if(Lf)var m;if(e.valid||r("lpf_btran: the factorization is not valid"),n(i>=0&&o+u>=i),Lf)for(m=new Float64Array(1+i),a=1;i>=a;a++)m[a]=t[a];for(a=1;o+u>=a;a++)f[a]=(l=c[a])<=i?t[l]:0;for(Un(e.luf,1,_),Ze(e,p,o,-1,_),Oi(e.scf,1,p,o),nn(e,_,-1,p,o),Dn(e.luf,1,_),a=1;i>=a;a++)t[a]=f[s[a]];Lf&&rn(e,1,t,m)}function ln(e,r){var t=e.v_size,l=e.v_ptr-1,o=e.v_ind,i=e.v_val;for(n(r>t);r>t;)t+=t;e.v_size=t,e.v_ind=new Int32Array(1+t),e.v_val=new Float64Array(1+t),n(l>=0),a(e.v_ind,1,o,1,l),a(e.v_val,1,i,1,l)}function on(e,t,a,l,o,i,u){var s=e.m0,c=e.m;if(Lf)var f=e.B;var _,p,m,b,d,v=e.n,g=e.R_ptr,h=e.R_len,k=e.S_ptr,y=e.S_len,w=e.P_row,x=e.P_col,A=e.Q_row,M=e.Q_col,j=e.v_ptr,P=e.v_ind,L=e.v_val,z=e.work2,I=e.work1,E=I,F=I,S=e.work2,q=S,N=S,O=F,T=N;if(n(a==a),e.valid||r("lpf_update_it: the factorization is not valid"),t>=1&&c>=t||r("lpf_update_it: j = "+t+"; column number out of range"),n(c>=0&&s+v>=c),v==e.n_max)return e.valid=0,d=LPF_ELIMIT;for(p=1;c>=p;p++)z[p]=0;for(b=1;l>=b;b++)p=o[i+b],p>=1&&c>=p||r("lpf_update_it: ind["+b+"] = "+p+"; row number out of range"),0!=z[p]&&r("lpf_update_it: ind["+b+"] = "+p+"; duplicate row index not allowed"),0==u[b]&&r("lpf_update_it: val["+b+"] = "+u[b]+"; zero element not allowed"),z[p]=u[b];if(Lf)for(p=1;c>=p;p++)f[(p-1)*c+t]=z[p];for(p=1;s+v>=p;p++)I[p]=(m=x[p])<=c?z[m]:0;for(p=1;s+v>=p;p++)S[p]=0;for(S[M[t]]=1,Dn(e.luf,0,E),Un(e.luf,1,q),e.v_size<j+s+s&&(ln(e,j+s+s),P=e.v_ind,L=e.v_val),g[v+1]=j,p=1;s>=p;p++)0!=E[p]&&(P[j]=p,L[j]=E[p],j++);for(h[v+1]=j-e.v_ptr,e.v_ptr=j,k[v+1]=j,p=1;s>=p;p++)0!=q[p]&&(P[j]=p,L[j]=q[p],j++);for(y[v+1]=j-e.v_ptr,e.v_ptr=j,en(e,O,0,-1,E),Ze(e,T,0,-1,q),_=0,p=1;s>=p;p++)_-=q[p]*E[p];switch(Si(e.scf,O,s,T,s,_)){case 0:break;case Rd:return e.valid=0,d=Pf;case Cd:n(e!=e);default:n(e!=e)}return w[s+v+1]=x[s+v+1]=s+v+1,A[s+v+1]=M[s+v+1]=s+v+1,p=M[t],m=M[s+v+1],A[p]=s+v+1,M[s+v+1]=p,A[m]=t,M[t]=m,e.n++,n(e.n<=e.n_max),d=0}function un(e){return ku(e)}function sn(e){return yu(e)}function cn(e,n){return Au(e,n)-Ys+zf}function fn(e,n){var r=Mu(e,n);return r==-Xi&&(r=0),r}function _n(e,n){var r=ju(e,n);return r==+Xi&&(r=0),r}function pn(e,n,r){r(cn(e,n),fn(e,n),_n(e,n))}function mn(e,n){return Pu(e,n)-Ys+zf}function bn(e,n){var r=Lu(e,n);return r==-Xi&&(r=0),r}function dn(e,n){var r=zu(e,n);return r==+Xi&&(r=0),r}function vn(e,n,r){r(mn(e,n),bn(e,n),dn(e,n))}function gn(e,n,r,t){return Iu(e,n,r,t)}function hn(e,n,r,t){return Eu(e,n,r,t)}function kn(e,n,r){Xu(e,n,r-qf+rc)}function yn(e,n,r){Bu(e,n,r-qf+rc)}function wn(e){var r;switch(Vu(e)){case hc:r=Xf;break;case dc:r=Bf;break;case vc:r=Df;break;case gc:r=Uf;break;case kc:r=Kf;break;case bc:r=Vf;break;default:n(e!=e)}return r}function xn(e){return Ju(e)}function An(e,n){return es(e,n)}function Mn(e,n,r,t){return hs(e,n,r,t)}function jn(e,r,t,a,l,o){var i=xs(e,r,t,a,l,o);return n(i>=0&&r>=i),0==i?0:t[i]}function Pn(e,n){return ts(e,n)==Ws?Rf:Cf}function Ln(e){var r=e.parms;n(null!=r),r.msg_lev=3,r.scale=1,r.dual=0,r.price=1,r.relax=.07,r.tol_bnd=1e-7,r.tol_dj=1e-7,r.tol_piv=1e-9,r.round=0,r.obj_ll=-Xi,r.obj_ul=+Xi,r.it_lim=-1,r.tm_lim=-1,r.out_frq=200,r.out_dly=0,r.branch=2,r.btrack=3,r.tol_int=1e-5,r.tol_obj=1e-7,r.mps_info=1,r.mps_obj=2,r.mps_orig=0,r.mps_wide=1,r.mps_free=0,r.mps_skip=0,r.lpt_orig=0,r.presol=0,r.binarize=0,r.use_cuts=0,r.mip_gap=0}function zn(e){return null==e.parms&&(e.parms={},Ln(e)),e.parms}function In(e,t){var a=zn(e),l=0;switch(t){case e_:l=a.msg_lev;break;case n_:l=a.scale;break;case r_:l=a.dual;break;case t_:l=a.price;break;case u_:l=a.round;break;case f_:l=a.it_lim;break;case __:l=e.it_cnt;break;case m_:l=a.out_frq;break;case d_:l=a.branch;break;case v_:l=a.btrack;break;case k_:l=a.mps_info;break;case y_:l=a.mps_obj;break;case w_:l=a.mps_orig;break;case x_:l=a.mps_wide;break;case A_:l=a.mps_free;break;case M_:l=a.mps_skip;break;case j_:l=a.lpt_orig;break;case P_:l=a.presol;break;case L_:l=a.binarize;break;case z_:l=a.use_cuts;break;case I_:switch(t={},_s(e,t),t.type){case yc:l=1;break;case wc:l=2;break;case xc:l=3;break;default:n(e!=e)}break;default:r("lpx_get_int_parm: parm = "+t+"; invalid parameter")}return l}function En(e,n){var t=zn(e),a=0;switch(n){case a_:a=t.relax;break;case l_:a=t.tol_bnd;break;case o_:a=t.tol_dj;break;case i_:a=t.tol_piv;break;case s_:a=t.obj_ll;break;case c_:a=t.obj_ul;break;case p_:a=t.tm_lim;break;case b_:a=t.out_dly;break;case g_:a=t.tol_int;break;case h_:a=t.tol_obj;break;case E_:a=t.mip_gap;break;default:r("lpx_get_real_parm: parm = "+n+"; invalid parameter")}return a}function Fn(){var e={};return e.n_max=e.n=0,e.valid=0,e.fr_ptr=e.fr_len=null,e.fc_ptr=e.fc_len=null,e.vr_ptr=e.vr_len=e.vr_cap=null,e.vr_piv=null,e.vc_ptr=e.vc_len=e.vc_cap=null,e.pp_row=e.pp_col=null,e.qq_row=e.qq_col=null,e.sv_size=0,e.sv_beg=e.sv_end=0,e.sv_ind=null,e.sv_val=null,e.sv_head=e.sv_tail=0,e.sv_prev=e.sv_next=null,e.vr_max=null,e.rs_head=e.rs_prev=e.rs_next=null,e.cs_head=e.cs_prev=e.cs_next=null,e.flag=null,e.work=null,e.new_sva=0,e.piv_tol=.1,e.piv_lim=4,e.suhl=1,e.eps_tol=1e-15,e.max_gro=1e10,e.nnz_a=e.nnz_f=e.nnz_v=0,e.max_a=e.big_v=0,e.rank=0,e}function Sn(e){var n,r,t,l=e.n,o=e.vr_ptr,i=e.vr_len,u=e.vr_cap,s=e.vc_ptr,c=e.vc_len,f=e.vc_cap,_=e.sv_ind,p=e.sv_val,m=e.sv_next,b=1;for(t=e.sv_head;0!=t;t=m[t])if(l>=t){if(n=t,o[n]!=b)break;u[n]=i[n],b+=u[n]}else{if(r=t-l,s[r]!=b)break;f[r]=c[r],b+=f[r]}for(;0!=t;t=m[t])l>=t?(n=t,a(_,b,_,o[n],i[n]),a(p,b,p,o[n],i[n]),o[n]=b,u[n]=i[n],b+=u[n]):(r=t-l,a(_,b,_,s[r],c[r]),a(p,b,p,s[r],c[r]),s[r]=b,f[r]=c[r],b+=f[r]);e.sv_beg=b}function qn(e,r,t){var l,o,i,u=e.n,s=e.vr_ptr,c=e.vr_len,f=e.vr_cap,_=e.vc_cap,p=e.sv_ind,m=e.sv_val,b=e.sv_prev,d=e.sv_next,v=0;return n(r>=1&&u>=r),n(f[r]<t),e.sv_end-e.sv_beg<t&&(Sn(e),e.sv_end-e.sv_beg<t)?v=1:(l=f[r],a(p,e.sv_beg,p,s[r],c[r]),a(m,e.sv_beg,m,s[r],c[r]),s[r]=e.sv_beg,f[r]=t,e.sv_beg+=t,o=r,0==b[o]?e.sv_head=d[o]:(i=b[o],u>=i?f[i]+=l:_[i-u]+=l,d[b[o]]=d[o]),0==d[o]?e.sv_tail=b[o]:b[d[o]]=b[o],b[o]=e.sv_tail,d[o]=0,0==b[o]?e.sv_head=o:d[b[o]]=o,e.sv_tail=o,v)}function Nn(e,r,t){var l,o,i,u=e.n,s=e.vr_cap,c=e.vc_ptr,f=e.vc_len,_=e.vc_cap,p=e.sv_ind,m=e.sv_val,b=e.sv_prev,d=e.sv_next,v=0;return n(r>=1&&u>=r),n(_[r]<t),e.sv_end-e.sv_beg<t&&(Sn(e),e.sv_end-e.sv_beg<t)?v=1:(l=_[r],a(p,e.sv_beg,p,c[r],f[r]),a(m,e.sv_beg,m,c[r],f[r]),c[r]=e.sv_beg,_[r]=t,e.sv_beg+=t,o=u+r,0==b[o]?e.sv_head=d[o]:(i=b[o],u>=i?s[i]+=l:_[i-u]+=l,d[b[o]]=d[o]),0==d[o]?e.sv_tail=b[o]:b[d[o]]=b[o],b[o]=e.sv_tail,d[o]=0,0==b[o]?e.sv_head=o:d[b[o]]=o,e.sv_tail=o,v)}function On(e,n){var r=e.n_max;e.n=n,r>=n||(e.n_max=r=n+100,e.fr_ptr=new Int32Array(1+r),e.fr_len=new Int32Array(1+r),e.fc_ptr=new Int32Array(1+r),e.fc_len=new Int32Array(1+r),e.vr_ptr=new Int32Array(1+r),e.vr_len=new Int32Array(1+r),e.vr_cap=new Int32Array(1+r),e.vr_piv=new Float64Array(1+r),e.vc_ptr=new Int32Array(1+r),e.vc_len=new Int32Array(1+r),e.vc_cap=new Int32Array(1+r),e.pp_row=new Int32Array(1+r),e.pp_col=new Int32Array(1+r),e.qq_row=new Int32Array(1+r),e.qq_col=new Int32Array(1+r),e.sv_prev=new Int32Array(1+r+r),e.sv_next=new Int32Array(1+r+r),e.vr_max=new Float64Array(1+r),e.rs_head=new Int32Array(1+r),e.rs_prev=new Int32Array(1+r),e.rs_next=new Int32Array(1+r),e.cs_head=new Int32Array(1+r),e.cs_prev=new Int32Array(1+r),e.cs_next=new Int32Array(1+r),e.flag=new Int32Array(1+r),e.work=new Float64Array(1+r))}function Tn(e,n,t){var a,l,o,i,u,s,c,f,_,p,m,b,d,v=e.n,g=e.fc_ptr,h=e.fc_len,k=e.vr_ptr,y=e.vr_len,w=e.vr_cap,x=e.vc_ptr,A=e.vc_len,M=e.vc_cap,j=e.pp_row,P=e.pp_col,L=e.qq_row,z=e.qq_col,I=e.sv_ind,E=e.sv_val,F=e.sv_prev,S=e.sv_next,q=e.vr_max,N=e.rs_head,O=e.rs_prev,T=e.rs_next,G=e.cs_head,R=e.cs_prev,C=e.cs_next,X=e.flag,B=e.work,D=0;for(_=1,p=e.sv_size+1,o=1;v>=o;o++)g[o]=p,h[o]=0;for(a=1;v>=a;a++)y[a]=w[a]=0,X[a]=0;for(f=0,b=0,o=1;v>=o;o++){var U=j,K=B;if(c=n(t,o,U,K),c>=0&&v>=c||r("luf_factorize: j = "+o+"; len = "+c+"; invalid column length"),c>p-_)return D=1;for(x[o]=_,A[o]=M[o]=c,f+=c,m=1;c>=m;m++)a=U[m],d=K[m],a>=1&&v>=a||r("luf_factorize: i = "+a+"; j = "+o+"; invalid row index"),X[a]&&r("luf_factorize: i = "+a+"; j = "+o+"; duplicate element not allowed"),0==d&&r("luf_factorize: i = "+a+"; j = "+o+"; zero element not allowed"),I[_]=a,E[_]=d,_++,0>d&&(d=-d),d>b&&(b=d),X[a]=1,w[a]++;for(m=1;c>=m;m++)X[U[m]]=0}for(a=1;v>=a;a++){if(c=w[a],c>p-_)return D=1;k[a]=_,_+=c}for(o=1;v>=o;o++)for(i=x[o],u=i+A[o]-1,s=i;u>=s;s++)a=I[s],d=E[s],l=k[a]+y[a],I[l]=o,E[l]=d,y[a]++;for(s=1;v>=s;s++)j[s]=P[s]=L[s]=z[s]=s;for(e.sv_beg=_,e.sv_end=p,e.sv_head=v+1,e.sv_tail=v,a=1;v>=a;a++)F[a]=a-1,S[a]=a+1;for(F[1]=v+v,S[v]=0,o=1;v>=o;o++)F[v+o]=v+o-1,S[v+o]=v+o+1;for(F[v+1]=0,S[v+v]=1,s=1;v>=s;s++)X[s]=0,B[s]=0;for(e.nnz_a=f,e.nnz_f=0,e.nnz_v=f,e.max_a=b,e.big_v=b,e.rank=-1,a=1;v>=a;a++)q[a]=-1;for(c=0;v>=c;c++)N[c]=0;for(a=1;v>=a;a++)c=y[a],O[a]=0,T[a]=N[c],0!=T[a]&&(O[T[a]]=a),N[c]=a;for(c=0;v>=c;c++)G[c]=0;for(o=1;v>=o;o++)c=A[o],R[o]=0,C[o]=G[c],0!=C[o]&&(R[C[o]]=o),G[c]=o;return D}function Gn(e,r){function t(){return r(a,l),0==a}var a,l,o,i,u,s,c,f,_,p,m,b,d,v,g,h,k,y,w,x,A=e.n,M=e.vr_ptr,j=e.vr_len,P=e.vc_ptr,L=e.vc_len,z=e.sv_ind,I=e.sv_val,E=e.vr_max,F=e.rs_head,S=e.rs_next,q=e.cs_head,N=e.cs_prev,O=e.cs_next,T=e.piv_tol,G=e.piv_lim,R=e.suhl;if(a=l=0,k=Xi,b=0,f=q[1],0!=f)return n(1==L[f]),a=z[P[f]],l=f,t();if(i=F[1],0!=i)return n(1==j[i]),a=i,l=z[M[i]],t();for(o=2;A>=o;o++){for(f=q[o];0!=f;f=d){for(_=P[f],p=_+L[f]-1,d=O[f],v=g=0,h=Ui,m=_;p>=m;m++)if(i=z[m],u=M[i],s=u+j[i]-1,!(j[i]>=h)){if(w=E[i],0>w){for(c=u;s>=c;c++)x=I[c],0>x&&(x=-x),x>w&&(w=x);E[i]=w}for(c=M[i];z[c]!=f;c++);if(n(s>=c),x=I[c],0>x&&(x=-x),!(T*w>x)&&(v=i,g=f,h=j[i],o>=h))return a=v,l=g,t()}if(0!=v){if(b++,y=(h-1)*(o-1),k>y&&(a=v,l=g,k=y),b==G)return t()}else R&&(0==N[f]?q[o]=O[f]:O[N[f]]=O[f],0==O[f]||(N[O[f]]=N[f]),N[f]=O[f]=f)}for(i=F[o];0!=i;i=S[i]){if(u=M[i],s=u+j[i]-1,w=E[i],0>w){for(c=u;s>=c;c++)x=I[c],0>x&&(x=-x),x>w&&(w=x);E[i]=w}for(v=g=0,h=Ui,c=u;s>=c;c++)if(f=z[c],!(L[f]>=h)&&(x=I[c],0>x&&(x=-x),!(T*w>x)&&(v=i,g=f,h=L[f],o>=h)))return a=v,l=g,t();if(0!=v){if(b++,y=(o-1)*(h-1),k>y&&(a=v,l=g,k=y),b==G)return t()}else n(v!=v)}}return t()}function Rn(e,r,t){var a,l,o,i,u,s,c,f,_,p,m,b,d,v,g,h,k,y,w,x,A,M=e.n,j=e.fc_ptr,P=e.fc_len,L=e.vr_ptr,z=e.vr_len,I=e.vr_cap,E=e.vr_piv,F=e.vc_ptr,S=e.vc_len,q=e.vc_cap,N=e.sv_ind,O=e.sv_val,T=e.sv_prev,G=e.sv_next,R=e.vr_max,C=e.rs_head,X=e.rs_prev,B=e.rs_next,D=e.cs_head,U=e.cs_prev,K=e.cs_next,V=e.flag,H=e.work,W=e.eps_tol,J=e.fr_len,Q=0;for(n(r>=1&&M>=r),n(t>=1&&M>=t),0==X[r]?C[z[r]]=B[r]:B[X[r]]=B[r],0==B[r]||(X[B[r]]=X[r]),0==U[t]?D[S[t]]=K[t]:K[U[t]]=K[t],0==K[t]||(U[K[t]]=U[t]),b=L[r],d=b+z[r]-1,v=b;N[v]!=t;v++);for(n(d>=v),x=E[r]=O[v],N[v]=N[d],O[v]=O[d],z[r]--,d--,g=F[t],h=g+S[t]-1,k=g;N[k]!=r;k++);for(n(h>=k),N[k]=N[h],S[t]--,h--,v=b;d>=v;v++){for(c=N[v],V[c]=1,H[c]=O[v],0==U[c]?D[S[c]]=K[c]:K[U[c]]=K[c],0==K[c]||(U[K[c]]=U[c]),f=F[c],_=f+S[c]-1,p=f;N[p]!=r;p++);n(_>=p),N[p]=N[_],S[c]--}for(;h>=g;){for(o=N[g],0==X[o]?C[z[o]]=B[o]:B[X[o]]=B[o],0==B[o]||(X[B[o]]=X[o]),i=L[o],u=i+z[o]-1,s=i;N[s]!=t;s++);for(n(u>=s),y=O[s]/x,N[s]=N[u],O[s]=O[u],z[o]--,u--,N[g]=N[h],S[t]--,h--,l=z[r],s=i;u>=s;s++)if(c=N[s],V[c])if(A=O[s]-=y*H[c],0>A&&(A=-A),V[c]=0,l--,0==A||W>A){for(N[s]=N[u],O[s]=O[u],z[o]--,s--,u--,f=F[c],_=f+S[c]-1,p=f;N[p]!=o;p++);n(_>=p),N[p]=N[_],S[c]--}else e.big_v<A&&(e.big_v=A);if(z[o]+l>I[o]){if(qn(e,o,z[o]+l))return Q=1;b=L[r],d=b+z[r]-1,g=F[t],h=g+S[t]-1}for(a=0,v=b;d>=v;v++)c=N[v],V[c]?(A=w=-y*H[c],0>A&&(A=-A),0==A||W>A||(s=L[o]+z[o],N[s]=c,O[s]=w,z[o]++,J[++a]=c,e.big_v<A&&(e.big_v=A))):V[c]=1;for(m=1;a>=m;m++){if(c=J[m],S[c]+1>q[c]){if(Nn(e,c,S[c]+10))return Q=1;b=L[r],d=b+z[r]-1,g=F[t],h=g+S[t]-1}p=F[c]+S[c],N[p]=o,S[c]++}if(X[o]=0,B[o]=C[z[o]],0!=B[o]&&(X[B[o]]=o),C[z[o]]=o,R[o]=-1,e.sv_end-e.sv_beg<1){if(Sn(e),e.sv_end-e.sv_beg<1)return Q=1;b=L[r],d=b+z[r]-1,g=F[t],h=g+S[t]-1}e.sv_end--,N[e.sv_end]=o,O[e.sv_end]=y,P[r]++}for(n(0==S[t]),q[t]=0,m=M+t,0==T[m]?e.sv_head=G[m]:G[T[m]]=G[m],0==G[m]?e.sv_tail=T[m]:T[G[m]]=T[m],j[r]=e.sv_end,v=b;d>=v;v++)c=N[v],V[c]=0,H[c]=0,(1==S[c]||U[c]!=c||K[c]!=c)&&(U[c]=0,K[c]=D[S[c]],0!=K[c]&&(U[K[c]]=c),D[S[c]]=c);return Q}function Cn(e){var n,r,t,a,l,o,i,u,s=e.n,c=e.vr_ptr,f=e.vr_len,_=e.vc_ptr,p=e.vc_len,m=e.vc_cap,b=e.sv_ind,d=e.sv_val,v=e.sv_prev,g=e.sv_next,h=0;for(u=0,n=1;s>=n;n++){for(r=c[n],t=r+f[n]-1,a=r;t>=a;a++)m[b[a]]++;u+=f[n]}if(e.nnz_v=u,e.sv_end-e.sv_beg<u)return h=1;for(l=1;s>=l;l++)_[l]=e.sv_beg,e.sv_beg+=m[l];for(n=1;s>=n;n++)for(r=c[n],t=r+f[n]-1,a=r;t>=a;a++)l=b[a],o=_[l]+p[l],b[o]=n,d[o]=d[a],p[l]++;for(i=s+1;s+s>=i;i++)v[i]=i-1,g[i]=i+1;return v[s+1]=e.sv_tail,g[e.sv_tail]=s+1,g[s+s]=0,e.sv_tail=s+s,h}function Xn(e){var n,r,t,a,l,o,i,u=e.n,s=e.fr_ptr,c=e.fr_len,f=e.fc_ptr,_=e.fc_len,p=e.sv_ind,m=e.sv_val,b=0;for(n=1;u>=n;n++)c[n]=0;for(i=0,r=1;u>=r;r++){for(t=f[r],a=t+_[r]-1,l=t;a>=l;l++)c[p[l]]++;i+=_[r]}if(e.nnz_f=i,e.sv_end-e.sv_beg<i)return b=1;for(n=1;u>=n;n++)s[n]=e.sv_end,e.sv_end-=c[n];for(r=1;u>=r;r++)for(t=f[r],a=t+_[r]-1,l=t;a>=l;l++)n=p[l],o=--s[n],p[o]=r,m[o]=m[l];return b}function Bn(e,t,a,l){function o(){if(e.new_sva>0&&(e.sv_size=e.new_sva,e.sv_ind=new Int32Array(1+e.sv_size),e.sv_val=new Float64Array(1+e.sv_size),e.new_sva=0),Tn(e,a,l))return e.new_sva=e.sv_size+e.sv_size,n(e.new_sva>e.sv_size),!0;for(p=1;t>=p;p++){if(Gn(e,function(e,n){m=e,b=n}))return e.rank=p-1,g=O_,!1;if(f=u[m],_=s[b],n(f>=p&&t>=f&&_>=p&&t>=_),d=i[p],i[f]=d,u[d]=f,i[p]=m,u[m]=p,d=c[p],c[_]=d,s[d]=_,c[p]=b,s[b]=p,Rn(e,m,b))return e.new_sva=e.sv_size+e.sv_size,n(e.new_sva>e.sv_size),!0;if(e.big_v>v*e.max_a)return e.rank=p-1,g=T_,!1}return Sn(e),Cn(e)?(e.new_sva=e.sv_size+e.sv_size,n(e.new_sva>e.sv_size),!0):Xn(e)?(e.new_sva=e.sv_size+e.sv_size,n(e.new_sva>e.sv_size),!0):!1}var i,u,s,c,f,_,p,m,b,d,v=e.max_gro,g=null;for(1>t&&r("luf_factorize: n = "+t+"; invalid parameter"),t>Wi&&r("luf_factorize: n = "+t+"; matrix too big"),e.valid=0,On(e,t),i=e.pp_row,u=e.pp_col,s=e.qq_row,c=e.qq_col,0==e.sv_size&&0==e.new_sva&&(e.new_sva=5*(t+10));o(););if(null!=g)return g;if(e.valid=1,e.rank=t,g=0,d=3*(t+e.nnz_v)+2*e.nnz_f,e.sv_size<d)for(e.new_sva=e.sv_size;e.new_sva<d;)p=e.new_sva,e.new_sva=p+p,n(e.new_sva>p);return g}function Dn(e,n,t){var a,l,o,i,u,s,c,f=e.n,_=e.fr_ptr,p=e.fr_len,m=e.fc_ptr,b=e.fc_len,d=e.pp_row,v=e.sv_ind,g=e.sv_val;if(e.valid||r("luf_f_solve: LU-factorization is not valid"),n){for(a=f;a>=1;a--)if(o=d[a],c=t[o],0!=c)for(i=_[o],u=i+p[o]-1,s=i;u>=s;s++)t[v[s]]-=g[s]*c}else for(l=1;f>=l;l++)if(o=d[l],c=t[o],0!=c)for(i=m[o],u=i+b[o]-1,s=i;u>=s;s++)t[v[s]]-=g[s]*c}function Un(e,n,t){var a,l,o,i,u,s,c,f=e.n,_=e.vr_ptr,p=e.vr_len,m=e.vr_piv,b=e.vc_ptr,d=e.vc_len,v=e.pp_row,g=e.qq_col,h=e.sv_ind,k=e.sv_val,y=e.work;for(e.valid||r("luf_v_solve: LU-factorization is not valid"),o=1;f>=o;o++)y[o]=t[o],t[o]=0;if(n){for(o=1;f>=o;o++)if(a=v[o],l=g[o],c=y[l],0!=c)for(t[a]=c/=m[a],i=_[a],u=i+p[a]-1,s=i;u>=s;s++)y[h[s]]-=k[s]*c}else for(o=f;o>=1;o--)if(a=v[o],l=g[o],c=y[a],0!=c)for(t[l]=c/=m[a],i=b[l],u=i+d[l]-1,s=i;u>=s;s++)y[h[s]]-=k[s]*c}function Kn(){return{index:{},par:{},set:{},var_:{},con:{},arg:{},loop:{}}}function Vn(e){var r;r=e.token==mp?"_|_":e.token==gp?"'...'":e.image,n(0<=e.c_ptr&&e.c_ptr<_p),e.context[e.c_ptr++]=" ",e.c_ptr==_p&&(e.c_ptr=0);for(var t=0;t<r.length;t++)e.context[e.c_ptr++]=r[t],e.c_ptr==_p&&(e.c_ptr=0)}function Hn(e){for(var n;e.c_ptr>0;)e.c_ptr--,n=e.context[0],a(e.context,0,e.context,1,_p-1),e.context[_p-1]=n;Yi("Context: "+e.line+" > "+(" "==e.context[0]?"":"...")+e.context.join("").trim())}function Wn(e){var n;e.c!=G_&&("\n"==e.c&&(e.line++,e.column=0),n=Wl(e),e.column++,n==G_?"\n"==e.c?e.line--:no(e,"final NL missing before end of file"):"\n"==n||(f(n)?n=" ":_(n)&&(Vn(e),eo(e,"control character "+n+" not allowed"))),e.c=n)}function Jn(e){n(0<=e.imlen),e.image+=e.c,e.imlen++,Wn(e)}function Qn(e){function r(){Vn(e),eo(e,"keyword s.t. incomplete")}function t(){Vn(e),eo(e,"cannot convert numeric literal "+e.image+" to floating-point number")}function a(){if("e"==e.c||"E"==e.c)for(Jn(e),("+"==e.c||"-"==e.c)&&Jn(e),b(e.c)||(Vn(e),eo(e,"numeric literal "+e.image+" incomplete"));b(e.c);)Jn(e);(p(e.c)||"_"==e.c)&&(Vn(e),eo(e,"symbol "+e.image+e.c+"... should be enclosed in quotes"))}function l(){for(;;){if(("\n"==e.c&&!u||e.c==G_)&&(Vn(e),eo(e,"unexpected end of line; string literal incomplete")),e.c==i)if(Wn(e),e.c==i){if(u){if(Wn(e),e.c==i){Wn(e);break}e.image+='""',e.imlen+=2}}else{if(!u)break;e.image+='"',e.imlen++}Jn(e)}}if(e.b_token=e.token,e.b_imlen=e.imlen,e.b_image=e.image,e.b_value=e.value,e.f_scan)return e.f_scan=0,e.token=e.f_token,e.imlen=e.f_imlen,e.image=e.f_image,void(e.value=e.f_value);for(;;){for(e.token=0,e.imlen=0,e.image="",e.value=0;" "==e.c||"\n"==e.c;)Wn(e);if(e.c==G_)e.token=mp;else{if("#"==e.c){for(;"\n"!=e.c&&e.c!=G_;)Wn(e);continue}if(e.flag_d||!p(e.c)&&"_"!=e.c)if(!e.flag_d&&b(e.c)){for(e.token=vp;b(e.c);)Jn(e);var o=!1;if("."==e.c)if(Jn(e),"."==e.c)e.imlen--,e.image=e.image.substr(0,e.image.length-1),e.f_dots=1,o=!0;else for(;b(e.c);)Jn(e);o||a(),Ve(e.image,function(n){e.value=n})&&t()}else if("'"==e.c||'"'==e.c){var i=e.c,u=!1;e.token=gp,Wn(e),e.c==i?(Wn(e),e.c==i&&(u=!0,Wn(e),l())):l()}else if(e.flag_d||"+"!=e.c)if(e.flag_d||"-"!=e.c){if("*"==e.c)e.token=Cp,Jn(e),"*"==e.c&&(e.token=Bp,Jn(e));else if("/"==e.c){if(e.token=Xp,Jn(e),"*"==e.c){for(Wn(e);;)if(e.c==G_)eo(e,"unexpected end of file; comment sequence incomplete");else if("*"==e.c){if(Wn(e),"/"==e.c)break}else Wn(e);Wn(e);continue}}else if("^"==e.c)e.token=Bp,Jn(e);else if("<"==e.c)e.token=Dp,Jn(e),"="==e.c?(e.token=Up,Jn(e)):">"==e.c?(e.token=Wp,Jn(e)):"-"==e.c&&(e.token=fm,Jn(e));else if("="==e.c)e.token=Kp,Jn(e),"="==e.c&&Jn(e);else if(">"==e.c)e.token=Hp,Jn(e),"="==e.c?(e.token=Vp,Jn(e)):">"==e.c&&(e.token=sm,Jn(e));else if("!"==e.c)e.token=Ep,Jn(e),"="==e.c&&(e.token=Wp,Jn(e));else if("&"==e.c)e.token=Jp,Jn(e),"&"==e.c&&(e.token=hp,Jn(e));else if("|"==e.c)e.token=Qp,Jn(e),"|"==e.c&&(e.token=Fp,Jn(e));else if(e.flag_d||"."!=e.c)if(","==e.c)e.token=$p,Jn(e);else if(":"==e.c)e.token=Zp,Jn(e),"="==e.c&&(e.token=nm,Jn(e));else if(";"==e.c)e.token=em,Jn(e);else if("("==e.c)e.token=tm,Jn(e);else if(")"==e.c)e.token=am,Jn(e);else if("["==e.c)e.token=lm,Jn(e);else if("]"==e.c)e.token=om,Jn(e);else if("{"==e.c)e.token=im,Jn(e);else if("}"==e.c)e.token=um,Jn(e);else if("~"==e.c)e.token=cm,Jn(e);else if(m(e.c)||d("+-._",e.c)>=0){for(n(e.flag_d),e.token=dp;m(e.c)||d("+-._",e.c)>=0;)Jn(e);switch(Ve(e.image,function(n){e.value=n})){case 0:e.token=vp;break;case 1:t();break;case 2:break;default:n(e!=e)}}else Vn(e),eo(e,"character "+e.c+" not allowed");else if(e.token=Yp,Jn(e),e.f_dots)e.token=rm,e.imlen=2,e.image="..",e.f_dots=0;else if("."==e.c)e.token=rm,Jn(e);else if(b(e.c)){for(e.token=vp,Jn(e);b(e.c);)Jn(e);a(),Ve(e.image,function(n){e.value=n})&&t()}}else e.token=Rp,Jn(e);else e.token=Gp,Jn(e);else{for(e.token=bp;m(e.c)||"_"==e.c;)Jn(e);"and"==e.image?e.token=hp:"by"==e.image?e.token=kp:"cross"==e.image?e.token=yp:"diff"==e.image?e.token=wp:"div"==e.image?e.token=xp:"else"==e.image?e.token=Ap:"if"==e.image?e.token=Mp:"in"==e.image?e.token=jp:"Infinity"==e.image?e.token=Pp:"inter"==e.image?e.token=Lp:"less"==e.image?e.token=zp:"mod"==e.image?e.token=Ip:"not"==e.image?e.token=Ep:"or"==e.image?e.token=Fp:"s"==e.image&&"."==e.c?(e.token=Sp,Jn(e),"t"!=e.c&&r(),Jn(e),"."!=e.c&&r(),Jn(e)):"symdiff"==e.image?e.token=qp:"then"==e.image?e.token=Np:"union"==e.image?e.token=Op:"within"==e.image&&(e.token=Tp)}}break}Vn(e),e.flag_x=0}function Yn(e){n(!e.f_scan),e.f_scan=1,e.f_token=e.token,e.f_imlen=e.imlen,e.f_image=e.image,e.f_value=e.value,e.token=e.b_token,e.imlen=e.b_imlen,e.image=e.b_image,e.value=e.b_value}function $n(e,n){return e.token==bp&&e.image==n}function Zn(e){return e.token==hp&&"a"==e.image[0]||e.token==kp||e.token==yp||e.token==wp||e.token==xp||e.token==Ap||e.token==Mp||e.token==jp||e.token==Lp||e.token==zp||e.token==Ip||e.token==Ep&&"n"==e.image[0]||e.token==Fp&&"o"==e.image[0]||e.token==qp||e.token==Np||e.token==Op||e.token==Tp}function er(e,r,t,a,l){var o,i,u,s={};switch(s.op=r,s.vflag=0,s.arg=Kn(),s.value={},r){case gm:s.arg.num=t.num;break;case hm:s.arg.str=t.str;break;case km:s.arg.index.slot=t.index.slot,s.arg.index.next=t.index.next;break;case ym:case wm:for(u=t.par.list;null!=u;u=u.next)n(null!=u.x),n(null==u.x.up),u.x.up=s,s.vflag|=u.x.vflag;s.arg.par.par=t.par.par,s.arg.par.list=t.par.list;break;case xm:for(u=t.set.list;null!=u;u=u.next)n(null!=u.x),n(null==u.x.up),u.x.up=s,s.vflag|=u.x.vflag;s.arg.set.set=t.set.set,s.arg.set.list=t.set.list;break;case Am:for(u=t.var_.list;null!=u;u=u.next)n(null!=u.x),n(null==u.x.up),u.x.up=s,s.vflag|=u.x.vflag;s.arg.var_.var_=t.var_.var_,s.arg.var_.list=t.var_.list,s.arg.var_.suff=t.var_.suff;break;case Mm:for(u=t.con.list;null!=u;u=u.next)n(null!=u.x),n(null==u.x.up),u.x.up=s,s.vflag|=u.x.vflag;s.arg.con.con=t.con.con,s.arg.con.list=t.con.list,s.arg.con.suff=t.con.suff;break;case jm:case Pm:for(u=t.list;null!=u;u=u.next)n(null!=u.x),n(null==u.x.up),u.x.up=s,s.vflag|=u.x.vflag;s.arg.list=t.list;break;case Lm:n(null!=t.slice),s.arg.slice=t.slice;break;case zm:case Im:case Em:case Fm:s.vflag=1;break;case Sm:case qm:case Nm:case Om:case Tm:case Gm:case Rm:case Cm:case Xm:case Bm:case Dm:case Um:case Km:case Vm:case Hm:case Wm:case Jm:case Qm:case Ym:case $m:case Zm:case eb:n(null!=t.arg.x),n(null==t.arg.x.up),t.arg.x.up=s,s.vflag|=t.arg.x.vflag,s.arg.arg.x=t.arg.x;break;case nb:case rb:case tb:case ab:case lb:case ob:case ib:case ub:case sb:case cb:case fb:case _b:r==_b&&(s.vflag=1);case pb:r==pb&&(s.vflag=1);case mb:case bb:case db:case vb:case gb:case hb:case kb:case yb:case wb:case xb:case Ab:case Mb:case jb:case Pb:case Lb:case zb:case Ib:case Eb:case Fb:case Sb:
case qb:n(null!=t.arg.x),n(null==t.arg.x.up),t.arg.x.up=s,s.vflag|=t.arg.x.vflag,n(null!=t.arg.y),n(null==t.arg.y.up),t.arg.y.up=s,s.vflag|=t.arg.y.vflag,s.arg.arg.x=t.arg.x,s.arg.arg.y=t.arg.y;break;case Nb:case Ob:case Tb:n(null!=t.arg.x),n(null==t.arg.x.up),t.arg.x.up=s,s.vflag|=t.arg.x.vflag,n(null!=t.arg.y),n(null==t.arg.y.up),t.arg.y.up=s,s.vflag|=t.arg.y.vflag,null!=t.arg.z&&(n(null==t.arg.z.up),t.arg.z.up=s,s.vflag|=t.arg.z.vflag),s.arg.arg.x=t.arg.x,s.arg.arg.y=t.arg.y,s.arg.arg.z=t.arg.z;break;case Gb:case Rb:for(u=t.list;null!=u;u=u.next)n(null!=u.x),n(null==u.x.up),u.x.up=s,s.vflag|=u.x.vflag;s.arg.list=t.list;break;case Cb:case Xb:case Bb:case Db:case Ub:case Kb:case Vb:case Hb:for(o=t.loop.domain,n(null!=o),null!=o.code&&(n(null==o.code.up),o.code.up=s,s.vflag|=o.code.vflag),i=o.list;null!=i;i=i.next)n(null!=i.code),n(null==i.code.up),i.code.up=s,s.vflag|=i.code.vflag;null!=t.loop.x&&(n(null==t.loop.x.up),t.loop.x.up=s,s.vflag|=t.loop.x.vflag),s.arg.loop.domain=t.loop.domain,s.arg.loop.x=t.loop.x;break;default:n(r!=r)}return s.type=a,s.dim=l,s.up=null,s.valid=0,s.value={},s}function nr(e,r,t,a,l){var o,i=Kn();return n(null!=t),i.arg.x=t,o=er(e,r,i,a,l)}function rr(e,r,t,a,l,o){var i,u=Kn();return n(null!=t),n(null!=a),u.arg.x=t,u.arg.y=a,i=er(e,r,u,l,o)}function tr(e,r,t,a,l,o,i){var u,s=Kn();return n(null!=t),n(null!=a),s.arg.x=t,s.arg.y=a,s.arg.z=l,u=er(e,r,s,o,i)}function ar(e){var r,t=Kn();return n(e.token==vp),t.num=e.value,r=er(e,gm,t,rp,0),Qn(e),r}function lr(e){var r,t=Kn();return n(e.token==gp),t.str=e.image,r=er(e,hm,t,up,0),Qn(e),r}function or(e,r,t){var a,l={};if(n(null!=t),l.x=t,l.next=null,null==r)r=l;else{for(a=r;null!=a.next;a=a.next);a.next=l}return r}function ir(e,n){var r,t;for(t=0,r=n;null!=r;r=r.next)t++;return t}function ur(e){for(var r,t=null;;)if(r=qr(e),r.type==rp&&(r=nr(e,qm,r,up,0)),r.type!=up&&eo(e,"subscript expression has invalid type"),n(0==r.dim),t=or(e,t,r),e.token==$p)Qn(e);else{if(e.token==om)break;eo(e,"syntax error in subscript list")}return t}function sr(e){var r,t,a,l,o,i,u,s,c,f,_=Kn();n(e.token==bp);var p=e.tree[e.image];switch(null==p&&eo(e,e.image+" not defined"),p.type){case J_:r=p.link,s=r.name,c=0;break;case op:t=p.link,s=t.name,c=t.dim,0==t.dimen&&(t.dimen=1);break;case ap:a=p.link,s=a.name,c=a.dim;break;case fp:l=p.link,s=l.name,c=l.dim;break;case X_:o=p.link,s=o.name,c=o.dim;break;default:n(p!=p)}switch(Qn(e),e.token==lm?(0==c&&eo(e,s+" cannot be subscripted"),Qn(e),i=ur(e),c!=ir(e,i)&&eo(e,s+" must have "+c+" subscript"+(1==c?"":"s")+" rather than "+ir(e,i)),n(e.token==om),Qn(e)):(0!=c&&eo(e,s+" must be subscripted"),i=null),f=e.flag_s||p.type!=fp?dm:_m,e.token==Yp&&(Qn(e),e.token!=bp&&eo(e,"invalid use of period"),p.type!=fp&&p.type!=X_&&eo(e,s+" cannot have a suffix"),"lb"==e.image?f=pm:"ub"==e.image?f=mm:"status"==e.image?f=bm:"val"==e.image?f=dm:"dual"==e.image?f=vm:eo(e,"suffix ."+e.image+" invalid"),Qn(e)),p.type){case J_:_.index.slot=r,_.index.next=r.list,u=er(e,km,_,up,0),r.list=u;break;case op:_.set.set=t,_.set.list=i,u=er(e,xm,_,U_,t.dimen);break;case ap:_.par.par=a,_.par.list=i,u=a.type==up?er(e,wm,_,up,0):er(e,ym,_,rp,0);break;case fp:e.flag_s||f!=bm&&f!=dm&&f!=vm||eo(e,"invalid reference to status, primal value, or dual value of variable "+l.name+" above solve statement"),_.var_.var_=l,_.var_.list=i,_.var_.suff=f,u=er(e,Am,_,f==_m?W_:rp,0);break;case X_:e.flag_s||f!=bm&&f!=dm&&f!=vm||eo(e,"invalid reference to status, primal value, or dual value of "+(o.type==X_?"constraint":"objective")+" "+o.name+" above solve statement"),_.con.con=o,_.con.list=i,_.con.suff=f,u=er(e,Mm,_,rp,0);break;default:n(p!=p)}return u}function cr(e,r){var t=qr(e);return t.type==up&&(t=nr(e,Sm,t,rp,0)),t.type!=rp&&eo(e,"argument for "+r+" has invalid type"),n(0==t.dim),t}function fr(e,r){var t=qr(e);return t.type==rp&&(t=nr(e,qm,t,up,0)),t.type!=up&&eo(e,"argument for "+r+" has invalid type"),n(0==t.dim),t}function _r(e,r){var t=Gr(e);return t.type!=U_&&eo(e,"argument for "+r+" has invalid type"),n(t.dim>0),t}function pr(e){var r,t,a,l=Kn();if(n(e.token==bp),"abs"==e.image?t=Xm:"ceil"==e.image?t=Bm:"floor"==e.image?t=Dm:"exp"==e.image?t=Um:"log"==e.image?t=Km:"log10"==e.image?t=Vm:"sqrt"==e.image?t=Hm:"sin"==e.image?t=Wm:"cos"==e.image?t=Jm:"atan"==e.image?t=Qm:"min"==e.image?t=Gb:"max"==e.image?t=Rb:"round"==e.image?t=Ym:"trunc"==e.image?t=$m:"Irand224"==e.image?t=zm:"Uniform01"==e.image?t=Im:"Uniform"==e.image?t=_b:"Normal01"==e.image?t=Em:"Normal"==e.image?t=pb:"card"==e.image?t=Zm:"length"==e.image?t=eb:"substr"==e.image?t=Fb:"str2time"==e.image?t=Sb:"time2str"==e.image?t=qb:"gmtime"==e.image?t=Fm:eo(e,"function "+e.image+" unknown"),a=e.image,n(a.length<16),Qn(e),n(e.token==tm),Qn(e),t==Gb||t==Rb)for(l.list=null;;)if(l.list=or(e,l.list,cr(e,a)),e.token==$p)Qn(e);else{if(e.token==am)break;eo(e,"syntax error in argument list for "+a)}else if(t==zm||t==Im||t==Em||t==Fm)e.token!=am&&eo(e,a+" needs no arguments");else if(t==_b||t==pb)l.arg.x=cr(e,a),e.token==$p||(e.token==am?eo(e,a+" needs two arguments"):eo(e,"syntax error in argument for "+a)),Qn(e),l.arg.y=cr(e,a),e.token==$p?eo(e,a+" needs two argument"):e.token==am||eo(e,"syntax error in argument for "+a);else if(t==Qm||t==Ym||t==$m){if(l.arg.x=cr(e,a),e.token==$p){switch(t){case Qm:t=sb;break;case Ym:t=cb;break;case $m:t=fb;break;default:n(t!=t)}Qn(e),l.arg.y=cr(e,a)}e.token==$p?eo(e,a+" needs one or two arguments"):e.token==am||eo(e,"syntax error in argument for "+a)}else t==Fb?(l.arg.x=fr(e,a),e.token==$p||(e.token==am?eo(e,a+" needs two or three arguments"):eo(e,"syntax error in argument for "+a)),Qn(e),l.arg.y=cr(e,a),e.token==$p&&(t=Tb,Qn(e),l.arg.z=cr(e,a)),e.token==$p?eo(e,a+" needs two or three arguments"):e.token==am||eo(e,"syntax error in argument for "+a)):t==Sb?(l.arg.x=fr(e,a),e.token==$p||(e.token==am?eo(e,a+" needs two arguments"):eo(e,"syntax error in argument for "+a)),Qn(e),l.arg.y=fr(e,a),e.token==$p?eo(e,a+" needs two argument"):e.token==am||eo(e,"syntax error in argument for "+a)):t==qb?(l.arg.x=cr(e,a),e.token==$p||(e.token==am?eo(e,a+" needs two arguments"):eo(e,"syntax error in argument for "+a)),Qn(e),l.arg.y=fr(e,a),e.token==$p?eo(e,a+" needs two argument"):e.token==am||eo(e,"syntax error in argument for "+a)):(t==Zm?l.arg.x=_r(e,a):t==eb?l.arg.x=fr(e,a):l.arg.x=cr(e,a),e.token==$p?eo(e,a+" needs one argument"):e.token==am||eo(e,"syntax error in argument for "+a));return r=t==Fb||t==Tb||t==qb?er(e,t,l,up,0):er(e,t,l,rp,0),n(e.token==am),Qn(e),r}function mr(e,r,t){var a;if(n(null!=r),n(null!=t),n(null==t.next),null==r.list)r.list=t;else{for(a=r.list;null!=a.next;a=a.next);a.next=t}}function br(e,r,t,a){var l,o={};if(n(null!=r),o.name=t,o.code=a,o.value=null,o.list=null,o.next=null,null==r.list)r.list=o;else{for(l=r.list;null!=l.next;l=l.next);l.next=o}return o}function dr(e){function r(){t=Br(e),(e.token==$p||c>1)&&(t.type==rp&&(t=nr(e,qm,t,up,0)),t.type!=up&&eo(e,"component expression has invalid type"),n(0==t.dim)),i[c].name=null,i[c].code=t}var t,a=Kn(),l=20,i=new Array(l+1);o(i,0,l+1);var u,s,c,f,_=0;for(n(e.token==tm),u=e.flag_x,Qn(e),c=1;;c++){if(c>l&&eo(e,"too many components within parentheses"),e.token==bp)if(Qn(e),s=e.token,Yn(e),!u||s!=$p&&s!=am||null!=e.tree[e.image])r();else{for(f=1;c>f;f++)null!=i[f].name&&i[f].name==e.image&&eo(e,"duplicate dummy index "+e.image+" not allowed");i[c].name=e.image,i[c].code=null,Qn(e),_=1,1==c&&e.token==am&&eo(e,i[c].name+" not defined")}else r();if(e.token==$p)Qn(e);else{if(e.token==am)break;eo(e,"right parenthesis missing where expected")}}if(1!=c||_)if(_){for(a.slice={},f=1;c>=f;f++)br(e,a.slice,i[f].name,i[f].code);t=er(e,Lm,a,cp,c)}else{for(a.list=null,f=1;c>=f;f++)a.list=or(e,a.list,i[f].code);t=er(e,jm,a,cp,c)}else t=i[1].code;return Qn(e),_&&e.token!=jp&&eo(e,"keyword in missing where expected"),u&&e.token==jp&&!_&&(1==c?eo(e,"syntax error in indexing expression"):eo(e,"0-ary slice not allowed")),t}function vr(e,r){var t,a=Kn();for(n(null!=r),a.list=null,t=1;;t++){if(r.type==rp&&(r=nr(e,qm,r,up,0)),r.type==up&&(r=nr(e,Om,r,cp,1)),r.type!=cp&&eo(e,"member expression has invalid type"),null!=a.list&&a.list.x.dim!=r.dim&&eo(e,"member "+(t-1)+" has "+a.list.x.dim+" component"+(1==a.list.x.dim?"":"s")+" while member "+t+" has "+r.dim+" component"+(1==r.dim?"":"s")),a.list=or(e,a.list,r),e.token==$p)Qn(e);else{if(e.token==um)break;eo(e,"syntax error in literal set")}r=qr(e)}return r=er(e,Pm,a,U_,a.list.x.dim)}function gr(e){var r,t,a,l;for(n(e.token==im),Qn(e),e.token==um&&eo(e,"empty indexing expression not allowed"),r={};;){if(t=null,l=null,e.token==bp){var o,i;Qn(e),o=e.token,Yn(e),o==jp&&null==e.tree[e.image]&&(t={},i=e.image,br(e,t,i,null),Qn(e),n(e.token==jp),Qn(e))}else e.token==tm&&(e.flag_x=1,l=Gr(e),l.op==Lm&&(t=l.arg.slice,l=null,n(e.token==jp),Qn(e)));if(null==l&&(l=Gr(e)),l.type!=U_&&(null!=t&&eo(e,"domain expression has invalid type"),l=vr(e,l)),n(null!=l),n(l.type==U_),n(l.dim>0),null==t){var u;for(t={},u=1;u<=l.dim;u++)br(e,t,null,null)}var s=0;for(a=t.list;null!=a;a=a.next)s++;for(s!=l.dim&&eo(e,s+" "+(1==s?"index":"indices")+" specified for set of dimension "+l.dim),n(null==t.code),t.code=l,mr(e,r,t),a=t.list;null!=a;a=a.next)if(null!=a.name){var c;n(null==e.tree[a.name]),e.tree[a.name]=c={type:J_,link:a}}if(e.token==$p)Qn(e);else{if(e.token==Zp||e.token==um)break;eo(e,"syntax error in indexing expression")}}return e.token==Zp&&(Qn(e),l=Br(e),l.type==up&&(l=nr(e,Sm,l,rp,0)),l.type==rp&&(l=nr(e,Nm,l,$_,0)),l.type!=$_&&eo(e,"expression following colon has invalid type"),n(0==l.dim),r.code=l,e.token!=um&&eo(e,"syntax error in indexing expression")),Qn(e),r}function hr(e,r){var t,a,l;for(n(null!=r),t=r.list;null!=t;t=t.next)for(a=t.list;null!=a;a=a.next)null!=a.name&&(l=e.tree[a.name],n(null!=l),n(l.type==J_),delete e.tree[a.name])}function kr(e){var r,t;for(r=e.arg.loop.domain.list;null!=r;r=r.next)for(t=r.list;null!=t;t=t.next)null!=t.code&&(n(null==t.code.up),t.code.up=e)}function yr(e){function r(){eo(e,"integrand following "+l+"{...} has invalid type")}var t,a,l,o=Kn();switch(n(e.token==bp),"sum"==e.image?a=Cb:"prod"==e.image?a=Xb:"min"==e.image?a=Bb:"max"==e.image?a=Db:"forall"==e.image?a=Ub:"exists"==e.image?a=Kb:"setof"==e.image?a=Vb:eo(e,"operator "+e.image+" unknown"),l=e.image,n(l.length<8),Qn(e),n(e.token==im),o.loop.domain=gr(e),a){case Cb:case Xb:case Bb:case Db:o.loop.x=Fr(e),o.loop.x.type==up&&(o.loop.x=nr(e,Sm,o.loop.x,rp,0)),o.loop.x.type==rp||a==Cb&&o.loop.x.type==W_||r(),n(0==o.loop.x.dim),t=er(e,a,o,o.loop.x.type,0);break;case Ub:case Kb:o.loop.x=Xr(e),o.loop.x.type==up&&(o.loop.x=nr(e,Sm,o.loop.x,rp,0)),o.loop.x.type==rp&&(o.loop.x=nr(e,Nm,o.loop.x,$_,0)),o.loop.x.type!=$_&&r(),n(0==o.loop.x.dim),t=er(e,a,o,$_,0);break;case Vb:o.loop.x=qr(e),o.loop.x.type==rp&&(o.loop.x=nr(e,qm,o.loop.x,up,0)),o.loop.x.type==up&&(o.loop.x=nr(e,Om,o.loop.x,cp,1)),o.loop.x.type!=cp&&r(),n(o.loop.x.dim>0),t=er(e,a,o,U_,o.loop.x.dim);break;default:n(a!=a)}return hr(e,o.loop.domain),kr(t),t}function wr(e,n){for(var r=0,t=n.list;null!=t;t=t.next)for(var a=t.list;null!=a;a=a.next)null==a.code&&r++;return r}function xr(e){var r,t=Kn();return n(e.token==im),Qn(e),e.token==um?(t.list=null,r=er(e,Pm,t,U_,1),Qn(e)):(Yn(e),t.loop.domain=gr(e),t.loop.x=null,hr(e,t.loop.domain),r=er(e,Hb,t,U_,wr(e,t.loop.domain)),kr(r)),r}function Ar(e){var r,t,a;return n(e.token==Mp),Qn(e),r=Br(e),r.type==up&&(r=nr(e,Sm,r,rp,0)),r.type==rp&&(r=nr(e,Nm,r,$_,0)),r.type!=$_&&eo(e,"expression following if has invalid type"),n(0==r.dim),e.token!=Np&&eo(e,"keyword then missing where expected"),Qn(e),t=Gr(e),t.type!=rp&&t.type!=up&&t.type!=U_&&t.type!=W_&&eo(e,"expression following then has invalid type"),e.token!=Ap?(t.type==U_&&eo(e,"keyword else missing where expected"),a=null):(Qn(e),a=Gr(e),a.type!=rp&&a.type!=up&&a.type!=U_&&a.type!=W_&&eo(e,"expression following else has invalid type"),(t.type==W_||a.type==W_)&&(t.type==up&&(t=nr(e,Sm,t,rp,0)),t.type==rp&&(t=nr(e,Tm,t,W_,0)),a.type==up&&(a=nr(e,Sm,a,rp,0)),a.type==rp&&(a=nr(e,Tm,a,W_,0))),(t.type==up||a.type==up)&&(t.type==rp&&(t=nr(e,qm,t,up,0)),a.type==rp&&(a=nr(e,qm,a,up,0))),t.type!=a.type&&eo(e,"expressions following then and else have incompatible types"),t.dim!=a.dim&&eo(e,"expressions following then and else have different dimensions "+t.dim+" and "+a.dim+", respectively")),tr(e,Ob,r,t,a,t.type,t.dim)}function Mr(e){var n;if(e.token==vp)n=ar(e);else if(e.token==Pp){var r=Kn();r.num=Xi,n=er(e,gm,r,rp,0),Qn(e)}else if(e.token==gp)n=lr(e);else if(e.token==bp){var t;switch(Qn(e),t=e.token,Yn(e),t){case lm:n=sr(e);break;case tm:n=pr(e);break;case im:n=yr(e);break;default:n=sr(e)}}else e.token==tm?n=dr(e):e.token==im?n=xr(e):e.token==Mp?n=Ar(e):Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"syntax error in expression");return n}function jr(e,n){eo(e,"operand preceding "+n+" has invalid type")}function Pr(e,n){eo(e,"operand following "+n+" has invalid type")}function Lr(e,n,r,t){eo(e,"operands preceding and following "+n+" have different dimensions "+r+" and "+t+", respectively")}function zr(e){return Mr(e)}function Ir(e){var r,t=zr(e);if(e.token==Bp){var a=e.image;n(a.length<8),t.type==up&&(t=nr(e,Sm,t,rp,0)),t.type!=rp&&jr(e,a),Qn(e),r=e.token==Gp||e.token==Rp?Er(e):Ir(e),r.type==up&&(r=nr(e,Sm,r,rp,0)),r.type!=rp&&Pr(e,a),t=rr(e,ub,t,r,rp,0)}return t}function Er(e){var n;return e.token==Gp?(Qn(e),n=Ir(e),n.type==up&&(n=nr(e,Sm,n,rp,0)),n.type!=rp&&n.type!=W_&&Pr(e,"+"),n=nr(e,Gm,n,n.type,0)):e.token==Rp?(Qn(e),n=Ir(e),n.type==up&&(n=nr(e,Sm,n,rp,0)),n.type!=rp&&n.type!=W_&&Pr(e,"-"),n=nr(e,Rm,n,n.type,0)):n=Ir(e),n}function Fr(e){for(var n,r=Er(e);;)if(e.token==Cp)r.type==up&&(r=nr(e,Sm,r,rp,0)),r.type!=rp&&r.type!=W_&&jr(e,"*"),Qn(e),n=Er(e),n.type==up&&(n=nr(e,Sm,n,rp,0)),n.type!=rp&&n.type!=W_&&Pr(e,"*"),r.type==W_&&n.type==W_&&eo(e,"multiplication of linear forms not allowed"),r=r.type==rp&&n.type==rp?rr(e,ab,r,n,rp,0):rr(e,ab,r,n,W_,0);else if(e.token==Xp)r.type==up&&(r=nr(e,Sm,r,rp,0)),r.type!=rp&&r.type!=W_&&jr(e,"/"),Qn(e),n=Er(e),n.type==up&&(n=nr(e,Sm,n,rp,0)),n.type!=rp&&Pr(e,"/"),r=r.type==rp?rr(e,lb,r,n,rp,0):rr(e,lb,r,n,W_,0);else if(e.token==xp)r.type==up&&(r=nr(e,Sm,r,rp,0)),r.type!=rp&&jr(e,"div"),Qn(e),n=Er(e),n.type==up&&(n=nr(e,Sm,n,rp,0)),n.type!=rp&&Pr(e,"div"),r=rr(e,ob,r,n,rp,0);else{if(e.token!=Ip)break;r.type==up&&(r=nr(e,Sm,r,rp,0)),r.type!=rp&&jr(e,"mod"),Qn(e),n=Er(e),n.type==up&&(n=nr(e,Sm,n,rp,0)),n.type!=rp&&Pr(e,"mod"),r=rr(e,ib,r,n,rp,0)}return r}function Sr(e){for(var n,r=Fr(e);;)if(e.token==Gp)r.type==up&&(r=nr(e,Sm,r,rp,0)),r.type!=rp&&r.type!=W_&&jr(e,"+"),Qn(e),n=Fr(e),n.type==up&&(n=nr(e,Sm,n,rp,0)),n.type!=rp&&n.type!=W_&&Pr(e,"+"),r.type==rp&&n.type==W_&&(r=nr(e,Tm,r,W_,0)),r.type==W_&&n.type==rp&&(n=nr(e,Tm,n,W_,0)),r=rr(e,nb,r,n,r.type,0);else if(e.token==Rp)r.type==up&&(r=nr(e,Sm,r,rp,0)),r.type!=rp&&r.type!=W_&&jr(e,"-"),Qn(e),n=Fr(e),n.type==up&&(n=nr(e,Sm,n,rp,0)),n.type!=rp&&n.type!=W_&&Pr(e,"-"),r.type==rp&&n.type==W_&&(r=nr(e,Tm,r,W_,0)),r.type==W_&&n.type==rp&&(n=nr(e,Tm,n,W_,0)),r=rr(e,rb,r,n,r.type,0);else{if(e.token!=zp)break;r.type==up&&(r=nr(e,Sm,r,rp,0)),r.type!=rp&&jr(e,"less"),Qn(e),n=Fr(e),n.type==up&&(n=nr(e,Sm,n,rp,0)),n.type!=rp&&Pr(e,"less"),r=rr(e,tb,r,n,rp,0)}return r}function qr(e){for(var n,r=Sr(e);e.token==Jp;)r.type==rp&&(r=nr(e,qm,r,up,0)),r.type!=up&&jr(e,"&"),Qn(e),n=Sr(e),n.type==rp&&(n=nr(e,qm,n,up,0)),n.type!=up&&Pr(e,"&"),r=rr(e,mb,r,n,up,0);return r}function Nr(e){var n,r,t=qr(e);return e.token==rm&&(t.type==up&&(t=nr(e,Sm,t,rp,0)),t.type!=rp&&jr(e,".."),Qn(e),n=qr(e),n.type==up&&(n=nr(e,Sm,n,rp,0)),n.type!=rp&&Pr(e,".."),e.token==kp?(Qn(e),r=qr(e),r.type==up&&(r=nr(e,Sm,r,rp,0)),r.type!=rp&&Pr(e,"by")):r=null,t=tr(e,Nb,t,n,r,U_,1)),t}function Or(e){for(var n,r=Nr(e);e.token==yp;)r.type!=U_&&jr(e,"cross"),Qn(e),n=Nr(e),n.type!=U_&&Pr(e,"cross"),r=rr(e,Pb,r,n,U_,r.dim+n.dim);return r}function Tr(e){for(var n,r=Or(e);e.token==Lp;)r.type!=U_&&jr(e,"inter"),Qn(e),n=Or(e),n.type!=U_&&Pr(e,"inter"),r.dim!=n.dim&&Lr(e,"inter",r.dim,n.dim),r=rr(e,jb,r,n,U_,r.dim);return r}function Gr(e){for(var n,r=Tr(e);;)if(e.token==Op)r.type!=U_&&jr(e,"union"),Qn(e),n=Tr(e),n.type!=U_&&Pr(e,"union"),r.dim!=n.dim&&Lr(e,"union",r.dim,n.dim),r=rr(e,xb,r,n,U_,r.dim);else if(e.token==wp)r.type!=U_&&jr(e,"diff"),Qn(e),n=Tr(e),n.type!=U_&&Pr(e,"diff"),r.dim!=n.dim&&Lr(e,"diff",r.dim,n.dim),r=rr(e,Ab,r,n,U_,r.dim);else{if(e.token!=qp)break;r.type!=U_&&jr(e,"symdiff"),Qn(e),n=Tr(e),n.type!=U_&&Pr(e,"symdiff"),r.dim!=n.dim&&Lr(e,"symdiff",r.dim,n.dim),r=rr(e,Mb,r,n,U_,r.dim)}return r}function Rr(e){var r,t=-1,a="",l=Gr(e);switch(e.token){case Dp:t=bb;break;case Up:t=db;break;case Kp:t=vb;break;case Vp:t=gb;break;case Hp:t=hb;break;case Wp:t=kb;break;case jp:t=Lb;break;case Tp:t=Ib;break;case Ep:a=e.image,Qn(e),e.token==jp?t=zb:e.token==Tp?t=Eb:eo(e,"invalid use of "+a),a+=" ";break;default:return l}switch(a+=e.image,n(a.length<16),t){case vb:case kb:case bb:case db:case hb:case gb:l.type!=rp&&l.type!=up&&jr(e,a),Qn(e),r=Gr(e),r.type!=rp&&r.type!=up&&Pr(e,a),l.type==rp&&r.type==up&&(l=nr(e,qm,l,up,0)),l.type==up&&r.type==rp&&(r=nr(e,qm,r,up,0)),l=rr(e,t,l,r,$_,0);break;case Lb:case zb:l.type==rp&&(l=nr(e,qm,l,up,0)),l.type==up&&(l=nr(e,Om,l,cp,1)),l.type!=cp&&jr(e,a),Qn(e),r=Gr(e),r.type!=U_&&Pr(e,a),l.dim!=r.dim&&Lr(e,a,l.dim,r.dim),l=rr(e,t,l,r,$_,0);break;case Ib:case Eb:l.type!=U_&&jr(e,a),Qn(e),r=Gr(e),r.type!=U_&&Pr(e,a),l.dim!=r.dim&&Lr(e,a,l.dim,r.dim),l=rr(e,t,l,r,$_,0);break;default:n(t!=t)}return l}function Cr(e){var r,t;return e.token==Ep?(t=e.image,n(t.length<8),Qn(e),r=Rr(e),r.type==up&&(r=nr(e,Sm,r,rp,0)),r.type==rp&&(r=nr(e,Nm,r,$_,0)),r.type!=$_&&Pr(e,t),r=nr(e,Cm,r,$_,0)):r=Rr(e),r}function Xr(e){for(var r,t="",a=Cr(e);e.token==hp;)t=e.image,n(t.length<8),a.type==up&&(a=nr(e,Sm,a,rp,0)),a.type==rp&&(a=nr(e,Nm,a,$_,0)),a.type!=$_&&jr(e,t),Qn(e),r=Cr(e),r.type==up&&(r=nr(e,Sm,r,rp,0)),r.type==rp&&(r=nr(e,Nm,r,$_,0)),r.type!=$_&&Pr(e,t),a=rr(e,yb,a,r,$_,0);return a}function Br(e){for(var r,t=Xr(e);e.token==Fp;){var a=e.image;n(a.length<8),t.type==up&&(t=nr(e,Sm,t,rp,0)),t.type==rp&&(t=nr(e,Nm,t,$_,0)),t.type!=$_&&jr(e,a),Qn(e),r=Xr(e),r.type==up&&(r=nr(e,Sm,r,rp,0)),r.type==rp&&(r=nr(e,Nm,r,$_,0)),r.type!=$_&&Pr(e,a),t=rr(e,wb,t,r,$_,0)}return t}function Dr(e){function r(){eo(e,"at most one := or default/data allowed")}function t(){eo(e,e.image+" not a plain set")}function a(){eo(e,"dimension of "+e.image+" too small")}function l(){eo(e,"component number must be integer between 1 and "+u.set.dimen)}var o,i,u,s=0;for(n($n(e,"set")),Qn(e),e.token==bp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"symbolic name missing where expected")),null!=e.tree[e.image]&&eo(e,e.image+" multiply declared"),o={},o.name=e.image,o.alias=null,o.dim=0,o.domain=null,o.dimen=0,o.within=null,o.assign=null,o.option=null,o.gadget=null,o.data=0,o.array=null,Qn(e),e.token==gp&&(o.alias=e.image,Qn(e)),e.token==im&&(o.domain=gr(e),o.dim=wr(e,o.domain)),i=e.tree[o.name]={},i.type=op,i.link=o;;){if(e.token==$p)Qn(e);else if(e.token==em)break;if($n(e,"dimen")){var c;Qn(e),e.token==vp&&1<=e.value&&e.value<=20&&Math.floor(e.value)==e.value||eo(e,"dimension must be integer between 1 and 20"),c=e.value+.5|0,s&&eo(e,"at most one dimension attribute allowed"),o.dimen>0&&eo(e,"dimension "+c+" conflicts with dimension "+o.dimen+" already determined"),o.dimen=c,s=1,Qn(e)}else if(e.token==Tp||e.token==jp){var f,_;if(e.token!=jp||e.as_within||(no(e,"keyword in understood as within"),e.as_within=1),Qn(e),f={},f.code=null,f.next=null,null==o.within)o.within=f;else{for(_=o.within;null!=_.next;_=_.next);_.next=f}f.code=Gr(e),f.code.type!=U_&&eo(e,"expression following within has invalid type"),n(f.code.dim>0),0==o.dimen&&(o.dimen=f.code.dim),o.dimen!=f.code.dim&&eo(e,"set expression following within must have dimension "+o.dimen+" rather than "+f.code.dim)}else if(e.token==nm)(null!=o.assign||null!=o.option||null!=o.gadget)&&r(),Qn(e),o.assign=Gr(e),o.assign.type!=U_&&eo(e,"expression following := has invalid type"),n(o.assign.dim>0),0==o.dimen&&(o.dimen=o.assign.dim),o.dimen!=o.assign.dim&&eo(e,"set expression following := must have dimension "+o.dimen+" rather than "+o.assign.dim);else if($n(e,"default"))(null!=o.assign||null!=o.option)&&r(),Qn(e),o.option=Gr(e),o.option.type!=U_&&eo(e,"expression following default has invalid type"),n(o.option.dim>0),0==o.dimen&&(o.dimen=o.option.dim),o.dimen!=o.option.dim&&eo(e,"set expression following default must have dimension "+o.dimen+" rather than "+o.option.dim);else if($n(e,"data")){var p,m=0,b=new Array(20);for((null!=o.assign||null!=o.gadget)&&r(),Qn(e),o.gadget=u={},e.token==bp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"set name missing where expected")),i=e.tree[e.image],null==i&&eo(e,e.image+" not defined"),i.type!=op&&t(),u.set=i.link,0!=u.set.dim&&t(),u.set==o&&eo(e,"set cannot be initialized by itself"),o.dim>=u.set.dimen&&a(),0==o.dimen&&(o.dimen=u.set.dimen-o.dim),o.dim+o.dimen>u.set.dimen?a():o.dim+o.dimen<u.set.dimen&&eo(e,"dimension of "+e.image+" too big"),Qn(e),e.token==tm?Qn(e):eo(e,"left parenthesis missing where expected"),p=0;p<u.set.dimen;p++)b[p]=0;for(p=0;;)if(e.token!=vp&&eo(e,"component number missing where expected"),0!=He(e.image,function(e){m=e})&&l(),m>=1&&m<=u.set.dimen||l(),0!=b[m-1]&&eo(e,"component "+m+" multiply specified"),u.ind[p++]=m,b[m-1]=1,n(p<=u.set.dimen),Qn(e),e.token==$p)Qn(e);else{if(e.token==am)break;eo(e,"syntax error in data attribute")}p<u.set.dimen&&eo(e,"there are must be "+u.set.dimen+" components rather than "+p),Qn(e)}else eo(e,"syntax error in set statement")}return null!=o.domain&&hr(e,o.domain),0==o.dimen&&(o.dimen=1),n(e.token==em),Qn(e),o}function Ur(e){function r(){i&&eo(e,"at most one binary allowed"),a.type==up&&eo(e,"symbolic parameter cannot be binary"),a.type=R_,i=1,Qn(e)}function t(){eo(e,"at most one := or default allowed")}var a,l,o=0,i=0,u=0;n($n(e,"param")),Qn(e),e.token==bp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"symbolic name missing where expected")),null!=e.tree[e.image]&&eo(e,e.image+" multiply declared"),a={},a.name=e.image,a.alias=null,a.dim=0,a.domain=null,a.type=rp,a.cond=null,a.in_=null,a.assign=null,a.option=null,a.data=0,a.defval=null,a.array=null,Qn(e),e.token==gp&&(a.alias=e.image,Qn(e)),e.token==im&&(a.domain=gr(e),a.dim=wr(e,a.domain));var s=e.tree[a.name]={};for(s.type=ap,s.link=a;;){if(e.token==$p)Qn(e);else if(e.token==em)break;if($n(e,"integer"))o&&eo(e,"at most one integer allowed"),a.type==up&&eo(e,"symbolic parameter cannot be integer"),a.type!=R_&&(a.type=Y_),o=1,Qn(e);else if($n(e,"binary"))r();else if($n(e,"logical"))e.as_binary||(no(e,"keyword logical understood as binary"),e.as_binary=1),r();else if($n(e,"symbolic"))u&&eo(e,"at most one symbolic allowed"),a.type!=rp&&eo(e,"integer or binary parameter cannot be symbolic"),(null!=a.cond||null!=a.in_||null!=a.assign||null!=a.option)&&eo(e,"keyword symbolic must precede any other parameter attributes"),a.type=up,u=1,Qn(e);else if(e.token==Dp||e.token==Up||e.token==Kp||e.token==Vp||e.token==Hp||e.token==Wp){var c,f={};switch(e.token){case Dp:f.rho=bb,c=e.image;break;case Up:f.rho=db,c=e.image;break;case Kp:f.rho=vb,c=e.image;break;case Vp:f.rho=gb,c=e.image;break;case Hp:f.rho=hb,c=e.image;break;case Wp:f.rho=kb,c=e.image;break;default:n(e.token!=e.token)}if(n(c.length<8),f.code=null,f.next=null,null==a.cond)a.cond=f;else{for(l=a.cond;null!=l.next;l=l.next);l.next=f}Qn(e),f.code=qr(e),f.code.type!=rp&&f.code.type!=up&&eo(e,"expression following "+c+" has invalid type"),n(0==f.code.dim),a.type!=up&&f.code.type==up&&(f.code=nr(e,Sm,f.code,rp,0)),a.type==up&&f.code.type!=up&&(f.code=nr(e,qm,f.code,up,0))}else if(e.token==jp||e.token==Tp){var _;if(e.token!=Tp||e.as_in||(no(e,"keyword within understood as in"),e.as_in=1),Qn(e),_={},_.code=null,_.next=null,null==a.in_)a.in_=_;else{for(l=a.in_;null!=l.next;l=l.next);l.next=_}_.code=Gr(e),_.code.type!=U_&&eo(e,"expression following in has invalid type"),n(_.code.dim>0),1!=_.code.dim&&eo(e,"set expression following in must have dimension 1 rather than "+_.code.dim)}else e.token==nm?((null!=a.assign||null!=a.option)&&t(),Qn(e),a.assign=qr(e),a.assign.type!=rp&&a.assign.type!=up&&eo(e,"expression following := has invalid type"),n(0==a.assign.dim),a.type!=up&&a.assign.type==up&&(a.assign=nr(e,Sm,a.assign,rp,0)),a.type==up&&a.assign.type!=up&&(a.assign=nr(e,qm,a.assign,up,0))):$n(e,"default")?((null!=a.assign||null!=a.option)&&t(),Qn(e),a.option=qr(e),a.option.type!=rp&&a.option.type!=up&&eo(e,"expression following default has invalid type"),n(0==a.option.dim),a.type!=up&&a.option.type==up&&(a.option=nr(e,Sm,a.option,rp,0)),a.type==up&&a.option.type!=up&&(a.option=nr(e,qm,a.option,up,0))):eo(e,"syntax error in parameter statement")}return null!=a.domain&&hr(e,a.domain),n(e.token==em),Qn(e),a}function Kr(e){function r(){a&&eo(e,"at most one binary allowed"),l.type=R_,a=1,Qn(e)}var t=0,a=0;n($n(e,"var")),e.flag_s&&eo(e,"variable statement must precede solve statement"),Qn(e),e.token==bp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"symbolic name missing where expected")),null!=e.tree[e.image]&&eo(e,e.image+" multiply declared");var l={};l.name=e.image,l.alias=null,l.dim=0,l.domain=null,l.type=rp,l.lbnd=null,l.ubnd=null,l.array=null,Qn(e),e.token==gp&&(l.alias=e.image,Qn(e)),e.token==im&&(l.domain=gr(e),l.dim=wr(e,l.domain));var o=e.tree[l.name]={};for(o.type=fp,o.link=l;;){if(e.token==$p)Qn(e);else if(e.token==em)break;if($n(e,"integer"))t&&eo(e,"at most one integer allowed"),l.type!=R_&&(l.type=Y_),t=1,Qn(e);else if($n(e,"binary"))r();else if($n(e,"logical"))e.as_binary||(no(e,"keyword logical understood as binary"),e.as_binary=1),r();else if($n(e,"symbolic"))eo(e,"variable cannot be symbolic");else if(e.token==Vp)null!=l.lbnd&&(l.lbnd==l.ubnd?eo(e,"both fixed value and lower bound not allowed"):eo(e,"at most one lower bound allowed")),Qn(e),l.lbnd=qr(e),l.lbnd.type==up&&(l.lbnd=nr(e,Sm,l.lbnd,rp,0)),l.lbnd.type!=rp&&eo(e,"expression following >= has invalid type"),n(0==l.lbnd.dim);else if(e.token==Up)null!=l.ubnd&&(l.ubnd==l.lbnd?eo(e,"both fixed value and upper bound not allowed"):eo(e,"at most one upper bound allowed")),Qn(e),l.ubnd=qr(e),l.ubnd.type==up&&(l.ubnd=nr(e,Sm,l.ubnd,rp,0)),l.ubnd.type!=rp&&eo(e,"expression following <= has invalid type"),n(0==l.ubnd.dim);else if(e.token==Kp){var i;(null!=l.lbnd||null!=l.ubnd)&&(l.lbnd==l.ubnd?eo(e,"at most one fixed value allowed"):null!=l.lbnd?eo(e,"both lower bound and fixed value not allowed"):eo(e,"both upper bound and fixed value not allowed")),i=e.image,n(i.length<8),Qn(e),l.lbnd=qr(e),l.lbnd.type==up&&(l.lbnd=nr(e,Sm,l.lbnd,rp,0)),l.lbnd.type!=rp&&eo(e,"expression following "+i+" has invalid type"),n(0==l.lbnd.dim),l.ubnd=l.lbnd}else e.token==Dp||e.token==Hp||e.token==Wp?eo(e,"strict bound not allowed"):eo(e,"syntax error in variable statement")}return null!=l.domain&&hr(e,l.domain),n(e.token==em),Qn(e),l}function Vr(e){function r(){eo(e,"syntax error in constraint statement")}var t,a,l,o,i;e.flag_s&&eo(e,"constraint statement must precede solve statement"),$n(e,"subject")?(Qn(e),$n(e,"to")||eo(e,"keyword subject to incomplete"),Qn(e)):$n(e,"subj")?(Qn(e),$n(e,"to")||eo(e,"keyword subj to incomplete"),Qn(e)):e.token==Sp&&Qn(e),e.token==bp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"symbolic name missing where expected")),null!=e.tree[e.image]&&eo(e,e.image+" multiply declared");var u={};u.name=e.image,u.alias=null,u.dim=0,u.domain=null,u.type=X_,u.code=null,u.lbnd=null,u.ubnd=null,u.array=null,Qn(e),e.token==gp&&(u.alias=e.image,Qn(e)),e.token==im&&(u.domain=gr(e),u.dim=wr(e,u.domain));var s=e.tree[u.name]={};switch(s.type=X_,s.link=u,e.token!=Zp&&eo(e,"colon missing where expected"),Qn(e),t=qr(e),t.type==up&&(t=nr(e,Sm,t,rp,0)),t.type!=rp&&t.type!=W_&&eo(e,"expression following colon has invalid type"),n(0==t.dim),e.token==$p&&Qn(e),e.token){case Up:case Vp:case Kp:break;case Dp:case Hp:case Wp:eo(e,"strict inequality not allowed");break;case em:eo(e,"constraint must be equality or inequality");break;default:r()}if(o=e.token,i=e.image,n(i.length<8),Qn(e),a=qr(e),a.type==up&&(a=nr(e,Sm,a,rp,0)),a.type!=rp&&a.type!=W_&&eo(e,"expression following "+i+" has invalid type"),n(0==a.dim),e.token==$p&&(Qn(e),e.token==em&&r()),e.token==Dp||e.token==Up||e.token==Kp||e.token==Vp||e.token==Hp||e.token==Wp?((o==Kp||e.token!=o)&&eo(e,"double inequality must be ... <= ... <= ... or ... >= ... >= ..."),t.type==W_&&eo(e,"leftmost expression in double inequality cannot be linear form"),Qn(e),l=qr(e),l.type==up&&(l=nr(e,Sm,a,rp,0)),l.type!=rp&&l.type!=W_&&eo(e,"rightmost expression in double inequality constraint has invalid type"),n(0==l.dim),l.type==W_&&eo(e,"rightmost expression in double inequality cannot be linear form")):l=null,null!=u.domain&&hr(e,u.domain),t.type!=W_&&(t=nr(e,Tm,t,W_,0)),a.type!=W_&&(a=nr(e,Tm,a,W_,0)),null!=l&&(l=nr(e,Tm,l,W_,0)),null==l)switch(o){case Up:u.code=t,u.lbnd=null,u.ubnd=a;break;case Vp:u.code=t,u.lbnd=a,u.ubnd=null;break;case Kp:u.code=t,u.lbnd=a,u.ubnd=a;break;default:n(o!=o)}else switch(o){case Up:u.code=a,u.lbnd=t,u.ubnd=l;break;case Vp:u.code=a,u.lbnd=l,u.ubnd=t;break;default:n(o!=o)}return e.token!=em&&r(),Qn(e),u}function Hr(e){var r,t;$n(e,"minimize")?t=ep:$n(e,"maximize")?t=Z_:n(e!=e),e.flag_s&&eo(e,"objective statement must precede solve statement"),Qn(e),e.token==bp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"symbolic name missing where expected")),null!=e.tree[e.image]&&eo(e,e.image+" multiply declared"),r={},r.name=e.image,r.alias=null,r.dim=0,r.domain=null,r.type=t,r.code=null,r.lbnd=null,r.ubnd=null,r.array=null,Qn(e),e.token==gp&&(r.alias=e.image,Qn(e)),e.token==im&&(r.domain=gr(e),r.dim=wr(e,r.domain));var a=e.tree[r.name]={};return a.type=X_,a.link=r,e.token!=Zp&&eo(e,"colon missing where expected"),Qn(e),r.code=qr(e),r.code.type==up&&(r.code=nr(e,Sm,r.code,rp,0)),r.code.type==rp&&(r.code=nr(e,Tm,r.code,W_,0)),r.code.type!=W_&&eo(e,"expression following colon has invalid type"),n(0==r.code.dim),null!=r.domain&&hr(e,r.domain),e.token!=em&&eo(e,"syntax error in objective statement"),Qn(e),r}function Wr(e){var r,t,a,l,o,i,u,s,c,f,_;n($n(e,"table")),Qn(e),e.token==bp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"symbolic name missing where expected")),null!=e.tree[e.image]&&eo(e,e.image+" multiply declared");var p={u:{in_:{},out:{}}};for(p.name=e.image,Qn(e),e.token==gp?(p.alias=e.image,Qn(e)):p.alias=null,e.token==im?(p.type=tp,p.u.out.domain=gr(e),$n(e,"OUT")||eo(e,"keyword OUT missing where expected"),Qn(e)):(p.type=Q_,$n(e,"IN")||eo(e,"keyword IN missing where expected"),Qn(e)),p.arg=r=null;;)if(t={},(e.token==$p||e.token==Zp||e.token==em)&&eo(e,"argument expression missing where expected"),t.code=qr(e),t.code.type==rp&&(t.code=nr(e,qm,t.code,up,0)),t.code.type!=up&&eo(e,"argument expression has invalid type"),t.next=null,null==r?p.arg=t:r.next=t,r=t,e.token==$p)Qn(e);else if(e.token==Zp||e.token==em)break;switch(n(null!=p.arg),e.token==Zp?Qn(e):eo(e,"colon missing where expected"),p.type){case Q_:for(e.token==bp?(c=e.tree[e.image],null==c&&eo(e,e.image+" not defined"),c.type!=op&&eo(e,e.image+" not a set"),p.u.in_.set=c.link,null!=p.u.in_.set.assign&&eo(e,e.image+" needs no data"),0!=p.u.in_.set.dim&&eo(e,e.image+" must be a simple set"),Qn(e),e.token==fm?Qn(e):eo(e,"delimiter <- missing where expected")):Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):p.u.in_.set=null,p.u.in_.fld=a=null,f=0,e.token==lm?Qn(e):eo(e,"field list missing where expected");;)if(l={},e.token==bp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"field name missing where expected")),l.name=e.image,Qn(e),l.next=null,null==a?p.u.in_.fld=l:a.next=l,a=l,f++,e.token==$p)Qn(e);else{if(e.token==om)break;eo(e,"syntax error in field list")}for(null!=p.u.in_.set&&p.u.in_.set.dimen!=f&&eo(e,"there must be "+p.u.in_.set.dimen+" field"+(1==p.u.in_.set.dimen?"":"s")+" rather than "+f),
Qn(e),p.u.in_.list=o=null;e.token==$p;)Qn(e),i={},e.token==bp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"parameter name missing where expected")),c=e.tree[e.image],null==c&&eo(e,e.image+" not defined"),c.type!=ap&&eo(e,e.image+" not a parameter"),i.par=c.link,i.par.dim!=f&&eo(e,e.image+" must have "+f+" subscript"+(1==f?"":"s")+" rather than "+i.par.dim),null!=i.par.assign&&eo(e,e.image+" needs no data"),Qn(e),e.token==cm?(Qn(e),e.token==bp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"field name missing where expected")),_=e.image,Qn(e)):_=i.par.name,i.name=_,i.next=null,null==o?p.u.in_.list=i:o.next=i,o=i;break;case tp:for(p.u.out.list=u=null;;)if(s={},(e.token==$p||e.token==em)&&eo(e,"expression missing where expected"),_=e.token==bp?e.image:"",s.code=qr(e),e.token==cm&&(Qn(e),e.token==bp||(Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"field name missing where expected")),_=e.image,Qn(e)),""==_&&eo(e,"field name required"),s.name=_,s.next=null,null==u?p.u.out.list=s:u.next=s,u=s,e.token==$p)Qn(e);else{if(e.token==em)break;eo(e,"syntax error in output list")}hr(e,p.u.out.domain);break;default:n(p!=p)}return e.token!=em&&eo(e,"syntax error in table statement"),Qn(e),p}function Jr(e){return n($n(e,"solve")),e.flag_s&&eo(e,"at most one solve statement allowed"),e.flag_s=1,Qn(e),e.token!=em&&eo(e,"syntax error in solve statement"),Qn(e),null}function Qr(e){n($n(e,"check"));var r={};return r.domain=null,r.code=null,Qn(e),e.token==im&&(r.domain=gr(e)),e.token==Zp&&Qn(e),r.code=Br(e),r.code.type!=$_&&eo(e,"expression has invalid type"),n(0==r.code.dim),null!=r.domain&&hr(e,r.domain),e.token!=em&&eo(e,"syntax error in check statement"),Qn(e),r}function Yr(e){function r(){l.type=V_,l.u.code=Br(e)}var t;n($n(e,"display"));var a={};for(a.domain=null,a.list=t=null,Qn(e),e.token==im&&(a.domain=gr(e)),e.token==Zp&&Qn(e);;){var l={u:{}};if(l.type=0,l.next=null,null==a.list?a.list=l:t.next=l,t=l,e.token==bp){var o,i;if(Qn(e),i=e.token,Yn(e),i!=$p&&i!=em)r();else{switch(o=e.tree[e.image],null==o&&eo(e,e.image+" not defined"),l.type=o.type,o.type){case J_:l.u.slot=o.link;break;case op:l.u.set=o.link;break;case ap:l.u.par=o.link;break;case fp:l.u.var_=o.link,e.flag_s||eo(e,"invalid reference to variable "+l.u.var_.name+" above solve statement");break;case X_:l.u.con=o.link,e.flag_s||eo(e,"invalid reference to "+(l.u.con.type==X_?"constraint":"objective")+" "+l.u.con.name+" above solve statement");break;default:n(o!=o)}Qn(e)}}else r();if(e.token!=$p)break;Qn(e)}return null!=a.domain&&hr(e,a.domain),e.token!=em&&eo(e,"syntax error in display statement"),Qn(e),a}function $r(e){var r,t;n($n(e,"printf"));var a={};for(a.domain=null,a.fmt=null,a.list=t=null,Qn(e),e.token==im&&(a.domain=gr(e)),e.token==Zp&&Qn(e),a.fmt=qr(e),a.fmt.type==rp&&(a.fmt=nr(e,qm,a.fmt,up,0)),a.fmt.type!=up&&eo(e,"format expression has invalid type");e.token==$p;)Qn(e),r={},r.code=null,r.next=null,null==a.list?a.list=r:t.next=r,t=r,r.code=Gr(e),r.code.type!=rp&&r.code.type!=up&&r.code.type!=$_&&eo(e,"only numeric, symbolic, or logical expression allowed");return null!=a.domain&&hr(e,a.domain),a.fname=null,a.app=0,(e.token==Hp||e.token==sm)&&(a.app=e.token==sm,Qn(e),a.fname=qr(e),a.fname.type==rp&&(a.fname=nr(e,qm,a.fname,up,0)),a.fname.type!=up&&eo(e,"file name expression has invalid type")),e.token!=em&&eo(e,"syntax error in printf statement"),Qn(e),a}function Zr(e){var r,t;n($n(e,"for"));var a={};if(a.domain=null,a.list=t=null,Qn(e),e.token!=im&&eo(e,"indexing expression missing where expected"),a.domain=gr(e),e.token==Zp&&Qn(e),e.token!=im)a.list=nt(e,1);else{for(Qn(e);e.token!=um;)r=nt(e,1),null==t?a.list=r:t.next=r,t=r;Qn(e)}return n(null!=a.domain),hr(e,a.domain),a}function et(e){!e.flag_d&&$n(e,"end")||e.flag_d&&ct(e,"end")?(Qn(e),e.token==em?Qn(e):no(e,"no semicolon following end statement; missing semicolon inserted")):no(e,"unexpected end of file; missing end statement inserted"),e.token!=mp&&no(e,"some text detected beyond end statement; text ignored")}function nt(e,n){var r={u:{}};return r.line=e.line,r.column=e.column,r.next=null,$n(e,"set")?(n&&eo(e,"set statement not allowed here"),r.type=op,r.u.set=Dr(e)):$n(e,"param")?(n&&eo(e,"parameter statement not allowed here"),r.type=ap,r.u.par=Ur(e)):$n(e,"var")?(n&&eo(e,"variable statement not allowed here"),r.type=fp,r.u.var_=Kr(e)):$n(e,"subject")||$n(e,"subj")||e.token==Sp?(n&&eo(e,"constraint statement not allowed here"),r.type=X_,r.u.con=Vr(e)):$n(e,"minimize")||$n(e,"maximize")?(n&&eo(e,"objective statement not allowed here"),r.type=X_,r.u.con=Hr(e)):$n(e,"table")?(n&&eo(e,"table statement not allowed here"),r.type=sp,r.u.tab=Wr(e)):$n(e,"solve")?(n&&eo(e,"solve statement not allowed here"),r.type=ip,r.u.slv=Jr(e)):$n(e,"check")?(r.type=C_,r.u.chk=Qr(e)):$n(e,"display")?(r.type=B_,r.u.dpy=Yr(e)):$n(e,"printf")?(r.type=lp,r.u.prt=$r(e)):$n(e,"for")?(r.type=H_,r.u.fur=Zr(e)):e.token==bp?(n&&eo(e,"constraint statement not allowed here"),r.type=X_,r.u.con=Vr(e)):Zn(e)?eo(e,"invalid use of reserved keyword "+e.image):eo(e,"syntax error in model section"),r}function rt(e){var r,t;for(n(null==e.model),t=null;e.token!=mp&&!$n(e,"data")&&!$n(e,"end");)r=nt(e,0),null==t?e.model=r:t.next=r,t=r}function tt(e,n,r){var t,a={};if(a.sym=r,a.next=null,null==n)n=a;else{for(t=n;null!=t.next;t=t.next);t.next=a}return n}function at(e,n){var r,t=0;for(r=n;null!=r;r=r.next)t++;return t}function lt(e,n){var r,t=0;for(r=n;null!=r;r=r.next)null==r.sym&&t++;return t}function ot(e,n){for(var r=null;n-- >0;)r=tt(e,r,null);return r}function it(e,n){for(var r;null!=n;)r=n,n=r.next}function ut(e){return e.token==vp}function st(e){return e.token==vp||e.token==dp||e.token==gp}function ct(e,n){return st(e)&&e.image==n}function ft(e){n(ut(e));var r=e.value;return Qn(e),r}function _t(e){var r;return n(st(e)),r=ut(e)?Qt(e,e.value):Yt(e,e.image),Qn(e),r}function pt(e,r,t){var a,l;switch(n(null!=r),e.token){case lm:l=om;break;case tm:n(t>0),l=am;break;default:n(e!=e)}for(0==t&&eo(e,r+" cannot be subscripted"),Qn(e),a=null;;)if(st(e)?a=tt(e,a,_t(e)):e.token==Cp?(a=tt(e,a,null),Qn(e)):eo(e,"number, symbol, or asterisk missing where expected"),e.token==$p)Qn(e);else{if(e.token==l)break;eo(e,"syntax error in slice")}if(at(e,a)!=t)switch(l){case om:eo(e,r+" must have "+t+" subscript"+(1==t?"":"s")+", not "+at(e,a));break;case am:eo(e,r+" has dimension "+t+", not "+at(e,a));break;default:n(l!=l)}return Qn(e),a}function mt(e,r){var t,a;return n(null!=r),a=e.tree[r],(null==a||a.type!=op)&&eo(e,r+" not a set"),t=a.link,(null!=t.assign||null!=t.gadget)&&eo(e,r+" needs no data"),t.data=1,t}function bt(e,r,t,a){var l,o,i,u=null;for(n(null!=r),n(null!=t),n(null!=a),n(r.dimen==at(e,a)),n(t.value.set.dim==r.dimen),lt(e,a)>0&&n(st(e)),l=null,o=a;null!=o;o=o.next){if(null==o.sym){if(!st(e)){var s=lt(e,o);n(null!=u),1==s?eo(e,"one item missing in data group beginning with "+ea(e,u)):eo(e,s+" items missing in data group beginning with "+ea(e,u))}i=_t(e),null==u&&(u=i)}else i=$t(e,o.sym);l=ra(e,l,i),null!=o.next&&e.token==$p&&Qn(e)}fa(e,t.value.set,l)}function dt(e,r,t,a,l){var o,i,u,s,c;for(n(null!=r),n(null!=t),n(null!=a),n(r.dimen==at(e,a)),n(t.value.set.dim==r.dimen),n(2==lt(e,a)),o=null;e.token!=nm;)st(e)||eo(e,"number, symbol, or := missing where expected"),o=tt(e,o,_t(e));for(Qn(e);st(e);)for(c=_t(e),i=o;null!=i;i=i.next){var f=0;if(ct(e,"+"));else{if(ct(e,"-")){Qn(e);continue}var _=at(e,i);1==_?eo(e,"one item missing in data group beginning with "+ea(e,c)):eo(e,_+" items missing in data group beginning with "+ea(e,c))}for(s=null,u=a;null!=u;u=u.next)if(null==u.sym)switch(++f){case 1:s=ra(e,s,$t(e,l?i.sym:c));break;case 2:s=ra(e,s,$t(e,l?c:i.sym));break;default:n(f!=f)}else s=ra(e,s,$t(e,u.sym));n(2==f),fa(e,t.value.set,s),Qn(e)}it(e,o)}function vt(e){function r(){eo(e,"slice currently used must specify 2 asterisks, not "+lt(e,u))}function t(){eo(e,"transpose indicator (tr) incomplete")}function a(){Qn(e),ct(e,"tr")||t(),2!=lt(e,u)&&r(),Qn(e),e.token!=am&&t(),Qn(e),e.token==Zp&&Qn(e),s=1,dt(e,l,i,u,s)}var l,o,i,u,s=0;if(n(ct(e,"set")),Qn(e),st(e)||eo(e,"set name missing where expected"),l=mt(e,e.image),Qn(e),o=null,e.token==lm){for(0==l.dim&&eo(e,l.name+" cannot be subscripted"),Qn(e);;)if(st(e)||eo(e,"number or symbol missing where expected"),o=ra(e,o,_t(e)),e.token==$p)Qn(e);else{if(e.token==om)break;eo(e,"syntax error in subscript list")}l.dim!=ta(e,o)&&eo(e,l.name+" must have "+l.dim+" subscript"+(1==l.dim?"":"s")+" rather than "+ta(e,o)),Qn(e)}else 0!=l.dim&&eo(e,l.name+" must be subscripted");for(null!=Ia(e,l.array,o)&&eo(e,l.name+ia(e,"[",o)+" already defined"),i=Ea(e,l.array,o),i.value.set=ua(e,l.dimen),u=ot(e,l.dimen);;)if(e.token==$p&&Qn(e),e.token==nm)Qn(e);else if(e.token==tm){var c;Qn(e),c=ct(e,"tr"),Yn(e),c?a():(it(e,u),u=pt(e,l.name,l.dimen),s=0,0==lt(e,u)&&bt(e,l,i,u))}else if(st(e))bt(e,l,i,u);else if(e.token==Zp)2!=lt(e,u)&&r(),Qn(e),dt(e,l,i,u,s);else if(e.token==tm)a();else{if(e.token==em){Qn(e);break}eo(e,"syntax error in set data block")}it(e,u)}function gt(e,r){var t,a;return n(null!=r),a=e.tree[r],(null==a||a.type!=ap)&&eo(e,r+" not a parameter"),t=a.link,null!=t.assign&&eo(e,r+" needs no data"),t.data&&eo(e,r+" already provided with data"),t.data=1,t}function ht(e,r,t){n(null!=r),n(null!=t),null!=r.option&&eo(e,"default value for "+r.name+" already specified in model section"),n(null==r.defval),r.defval=t}function kt(e,r,t){var a;switch(n(null!=r),n(st(e)),null!=Ia(e,r.array,t)&&eo(e,r.name+ia(e,"[",t)+" already defined"),a=Ea(e,r.array,t),r.type){case rp:case Y_:case R_:ut(e)||eo(e,r.name+" requires numeric data"),a.value.num=ft(e);break;case up:a.value.sym=_t(e);break;default:n(r!=r)}return a}function yt(e,r,t){var a,l,o,i=null;for(n(null!=r),n(r.dim==at(e,t)),n(st(e)),a=null,l=t;null!=l;l=l.next){if(null==l.sym){if(!st(e)){var u=lt(e,l)+1;n(null!=i),n(u>1),eo(e,u+" items missing in data group beginning with "+ea(e,i))}o=_t(e),null==i&&(i=o)}else o=$t(e,l.sym);a=ra(e,a,o),e.token==$p&&Qn(e)}st(e)||(n(null!=i),eo(e,"one item missing in data group beginning with "+ea(e,i))),kt(e,r,a)}function wt(e,r,t,a){var l,o,i,u,s;for(n(null!=r),n(r.dim==at(e,t)),n(2==lt(e,t)),l=null;e.token!=nm;)st(e)||eo(e,"number, symbol, or := missing where expected"),l=tt(e,l,_t(e));for(Qn(e);st(e);)for(s=_t(e),o=l;null!=o;o=o.next){var c=0;if(ct(e,"."))Qn(e);else{for(u=null,i=t;null!=i;i=i.next)if(null==i.sym)switch(++c){case 1:u=ra(e,u,$t(e,a?o.sym:s));break;case 2:u=ra(e,u,$t(e,a?s:o.sym));break;default:n(c!=c)}else u=ra(e,u,$t(e,i.sym));if(n(2==c),!st(e)){var f=at(e,o);1==f?eo(e,"one item missing in data group beginning with "+ea(e,s)):eo(e,f+" items missing in data group beginning with "+ea(e,s))}kt(e,r,u)}}it(e,l)}function xt(e,r){var t,a,l,o,i,u,s=null,c=0,f=null;for(st(e)&&(Qn(e),i=e.token,Yn(e),i==Zp&&(s=mt(e,e.image),0!=s.dim&&eo(e,s.name+" must be a simple set"),null!=s.array.head&&eo(e,s.name+" already defined"),Ea(e,s.array,null).value.set=ua(e,s.dimen),f=s.name,c=s.dimen,Qn(e),n(e.token==Zp),Qn(e))),a=null;e.token!=nm;)st(e)||eo(e,"parameter name or := missing where expected"),t=gt(e,e.image),0==t.dim&&eo(e,e.image+" not a subscripted parameter"),0!=c&&t.dim!=c&&(n(null!=f),eo(e,f+" has dimension "+c+" while "+t.name+" has dimension "+t.dim)),null!=r&&ht(e,t,$t(e,r)),a=tt(e,a,t),f=t.name,c=t.dim,Qn(e),e.token==$p&&Qn(e);for(0==at(e,a)&&eo(e,"at least one parameter name required"),Qn(e),e.token==$p&&Qn(e);st(e);){var _;for(o=null,u=1;c>=u;u++)st(e)||(_=at(e,a)+c-u+1,n(null!=o),n(_>1),eo(e,_+" items missing in data group beginning with "+ea(e,o.sym))),o=ra(e,o,_t(e)),c>u&&e.token==$p&&Qn(e);for(null!=s&&fa(e,s.array.head.value.set,aa(e,o)),e.token==$p&&Qn(e),l=a;null!=l;l=l.next)ct(e,".")?Qn(e):(st(e)||(_=at(e,l),n(null!=o),1==_?eo(e,"one item missing in data group beginning with "+ea(e,o.sym)):eo(e,_+" items missing in data group beginning with "+ea(e,o.sym))),kt(e,l.sym,aa(e,o)),null!=l.next&&e.token==$p&&Qn(e));e.token==$p&&(Qn(e),st(e)||Yn(e))}for(l=a;null!=l;l=l.next)l.sym=null;it(e,a)}function At(e){function r(){eo(e,l.name+" not a subscripted parameter")}function t(){eo(e,"slice currently used must specify 2 asterisks, not "+lt(e,o))}function a(){eo(e,"transpose indicator (tr) incomplete")}var l,o,i=null,u=0;if(n(ct(e,"param")),Qn(e),ct(e,"default")&&(Qn(e),st(e)||eo(e,"default value missing where expected"),i=_t(e),e.token!=Zp&&eo(e,"colon missing where expected")),e.token==Zp)return Qn(e),e.token==$p&&Qn(e),xt(e,i),e.token!=em&&eo(e,"symbol, number, or semicolon missing where expected"),void Qn(e);for(st(e)||eo(e,"parameter name missing where expected"),l=gt(e,e.image),Qn(e),ct(e,"default")&&(Qn(e),st(e)||eo(e,"default value missing where expected"),i=_t(e),ht(e,l,i)),o=ot(e,l.dim);;)if(e.token==$p&&Qn(e),e.token==nm)Qn(e);else if(e.token==lm)it(e,o),o=pt(e,l.name,l.dim),u=0;else if(st(e))yt(e,l,o);else if(e.token==Zp)0==l.dim&&r(),2!=lt(e,o)&&t(),Qn(e),wt(e,l,o,u);else if(e.token==tm)Qn(e),ct(e,"tr")||a(),0==l.dim&&r(),2!=lt(e,o)&&t(),Qn(e),e.token!=am&&a(),Qn(e),e.token==Zp&&Qn(e),u=1,wt(e,l,o,u);else{if(e.token==em){Qn(e);break}eo(e,"syntax error in parameter data block")}it(e,o)}function Mt(e){for(;e.token!=mp&&!ct(e,"end");)ct(e,"set")?vt(e):ct(e,"param")?At(e):eo(e,"syntax error in data section")}function jt(e,n,r){return(n>0&&r>0&&n>.999*Xi-r||0>n&&0>r&&-.999*Xi-r>n)&&eo(e,n+" + "+r+"; floating-point overflow"),n+r}function Pt(e,n,r){return(n>0&&0>r&&n>.999*Xi+r||0>n&&r>0&&-.999*Xi+r>n)&&eo(e,n+" - "+r+"; floating-point overflow"),n-r}function Lt(e,n,r){return r>n?0:(n>0&&0>r&&n>.999*Xi+r&&eo(e,n+" less "+r+"; floating-point overflow"),n-r)}function zt(e,n,r){return Math.abs(r)>1&&Math.abs(n)>.999*Xi/Math.abs(r)&&eo(e,n+" * "+r+"; floating-point overflow"),n*r}function It(e,n,r){return Math.abs(r)<Bi&&eo(e,n+" / "+r+"; floating-point zero divide"),Math.abs(r)<1&&Math.abs(n)>.999*Xi*Math.abs(r)&&eo(e,n+" / "+r+"; floating-point overflow"),n/r}function Et(e,n,r){return Math.abs(r)<Bi&&eo(e,n+" div "+r+"; floating-point zero divide"),Math.abs(r)<1&&Math.abs(n)>.999*Xi*Math.abs(r)&&eo(e,n+" div "+r+"; floating-point overflow"),n/=r,n>0?Math.floor(n):0>n?Math.ceil(n):0}function Ft(e,n,r){var t;return 0==n?t=0:0==r?t=n:(t=Math.abs(n)%Math.abs(r),0!=t&&(0>n&&(t=-t),(n>0&&0>r||0>n&&r>0)&&(t+=r))),t}function St(e,n,r){var t;return(0==n&&0>=r||0>n&&r!=Math.floor(r))&&eo(e,n+" ** "+r+"; result undefined"),0==n?t=Math.pow(n,r):((Math.abs(n)>1&&r>1&&+Math.log(Math.abs(n))>.999*Math.log(Xi)/r||Math.abs(n)<1&&-1>r&&+Math.log(Math.abs(n))<.999*Math.log(Xi)/r)&&eo(e,n+" ** "+r+"; floating-point overflow"),t=Math.abs(n)>1&&-1>r&&-Math.log(Math.abs(n))<.999*Math.log(Xi)/r||Math.abs(n)<1&&r>1&&-Math.log(Math.abs(n))>.999*Math.log(Xi)/r?0:Math.pow(n,r)),t}function qt(e,n){return n>.999*Math.log(Xi)&&eo(e,"exp("+n+"); floating-point overflow"),Math.exp(n)}function Nt(e,n){return 0>=n&&eo(e,"log("+n+"); non-positive argument"),Math.log(n)}function Ot(e,n){return 0>=n&&eo(e,"log10("+n+"); non-positive argument"),Math.log(n)/Math.LN10}function Tt(e,n){return 0>n&&eo(e,"sqrt("+n+"); negative argument"),Math.sqrt(n)}function Gt(e,n){return n>=-1e6&&1e6>=n||eo(e,"sin("+n+"); argument too large"),Math.sin(n)}function Rt(e,n){return n>=-1e6&&1e6>=n||eo(e,"cos("+n+"); argument too large"),Math.cos(n)}function Ct(e,n){return Math.atan(n)}function Xt(e,n,r){return Math.atan2(n,r)}function Bt(e,n,r){var t;return r!=Math.floor(r)&&eo(e,"round("+n+", "+r+"); non-integer second argument"),Di+2>=r&&(t=Math.pow(10,r),Math.abs(n)<.999*Xi/t&&(n=Math.floor(n*t+.5),0!=n&&(n/=t))),n}function Dt(e,n,r){var t;return r!=Math.floor(r)&&eo(e,"trunc("+n+", "+r+"); non-integer second argument"),Di+2>=r&&(t=Math.pow(10,r),Math.abs(n)<.999*Xi/t&&(n=n>=0?Math.floor(n*t):Math.ceil(n*t),0!=n&&(n/=t))),n}function Ut(e){var n=16777216;return wi(e.rand,n)}function Kt(e){var n=2147483648;return yi(e.rand)/n}function Vt(e,n,r){var t;return n>=r&&eo(e,"Uniform("+n+", "+r+"); invalid range"),t=Kt(e),t=jt(e,n*(1-t),r*t)}function Ht(e){var n,r,t;do n=-1+2*Kt(e),r=-1+2*Kt(e),t=n*n+r*r;while(t>1||0==t);return r*Math.sqrt(-2*Math.log(t)/t)}function Wt(e,n,r){return jt(e,n,zt(e,r,Ht(e)))}function Jt(e,n,r){return n==r?0:n>r?1:-1}function Qt(e,n){var r={};return r.num=n,r.str=null,r}function Yt(e,r){n(null!=r);var t={};return t.num=0,t.str=r,t}function $t(e,r){n(null!=r);var t={};return null==r.str?(t.num=r.num,t.str=null):(t.num=0,t.str=r.str),t}function Zt(e,r,t){return n(null!=r),n(null!=t),null==r.str&&null==t.str?r.num<t.num?-1:r.num>t.num?1:0:null==r.str?-1:null==t.str?1:Jt(e,r.str,t.str)}function ea(e,r){function t(e){255>i&&(a+=e,i++)}n(null!=r);var a;if(null==r.str)a=String(r.num);else{var l,o,i,u=r.str;if(p(u[0])||"_"==u[0]){for(l=!1,o=1;o<u.length;o++)if(!(m(u[o])||d("+-._",u[o])>=0)){l=!0;break}}else l=!0;for(a="",i=0,l&&t("'"),o=0;o<u.length;o++)l&&"'"==u[o]&&t("'"),t(u[o]);l&&t("'"),255==i&&(a=a.slice(0,252)+"...")}return n(a.length<=255),a}function na(e,n,r){var t,a;return t=null==n.str?String(n.num):n.str,a=null==r.str?String(r.num):r.str,Yt(e,t+a)}function ra(e,r,t){var a;n(null!=t);var l={};if(l.sym=t,l.next=null,null==r)r=l;else{for(a=r;null!=a.next;a=a.next);a.next=l}return r}function ta(e,n){for(var r=0,t=n;null!=t;t=t.next)r++;return r}function aa(e,r){var t,a;if(null==r)t=null;else{for(t=a={};null!=r;r=r.next)n(null!=r.sym),a.sym=$t(e,r.sym),null!=r.next&&(a=a.next={});a.next=null}return t}function la(e,r,t){var a,l,o;for(a=r,l=t;null!=a;a=a.next,l=l.next)if(n(null!=l),n(null!=a.sym),n(null!=l.sym),o=Zt(e,a.sym,l.sym),0!=o)return o;return n(null==l),0}function oa(e,r,t){for(var a=null,l=1,o=r;t>=l;l++,o=o.next)n(null!=o),a=ra(e,a,$t(e,o.sym));return a}function ia(e,r,t){function a(e){255>i&&(u+=e),i++}var l,o,i=0,u="",s="",c=ta(e,t);for("["==r&&c>0&&a("["),"("==r&&c>1&&a("("),l=t;null!=l;l=l.next)for(l!=t&&a(","),n(null!=l.sym),s=ea(e,l.sym),n(s.length<=255),o=0;o<s.length;o++)a(s[o]);return"["==r&&c>0&&a("]"),"("==r&&c>1&&a(")"),255==i&&(u=u.slice(0,252)+"..."),n(u.length<=255),u}function ua(e,r){return n(r>0),La(e,np,r)}function sa(e,r,t){return n(null!=r),n(r.type==np),n(r.dim==ta(e,t)),Ia(e,r,t)}function ca(e,r,t){var a;return n(null!=r),n(r.type==np),n(r.dim==ta(e,t)),a=Ea(e,r,t),a.value.none=null,a}function fa(e,n,r){return null!=sa(e,n,r)&&eo(e,"duplicate tuple "+ia(e,"(",r)+" detected"),ca(e,n,r)}function _a(e,r){var t,a;for(n(null!=r),n(r.type==np),n(r.dim>0),t=ua(e,r.dim),a=r.head;null!=a;a=a.next)ca(e,t,aa(e,a.tuple));return t}function pa(e,r,t,a){var l;return 0==a&&eo(e,r+" .. "+t+" by "+a+"; zero stride not allowed"),l=t>0&&0>r&&t>.999*Xi+r?+Xi:0>t&&r>0&&-.999*Xi+r>t?-Xi:t-r,Math.abs(a)<1&&Math.abs(l)>.999*Xi*Math.abs(a)?l=l>0&&a>0||0>l&&0>a?+Xi:0:(l=Math.floor(l/a)+1,0>l&&(l=0)),n(l>=0),l>Ui-1&&eo(e,r+" .. "+t+" by "+a+"; set too large"),l+.5|0}function ma(e,r,t,a,l){return n(l>=1&&l<=pa(e,r,t,a)),r+(l-1)*a}function ba(e,n,r,t){for(var a=ua(e,1),l=pa(e,n,r,t),o=1;l>=o;o++)ca(e,a,ra(e,null,Qt(e,ma(e,n,r,t,o))));return a}function da(e,r,t){n(null!=r),n(r.type==np),n(r.dim>0),n(null!=t),n(t.type==np),n(t.dim>0),n(r.dim==t.dim);for(var a=t.head;null!=a;a=a.next)null==sa(e,r,a.tuple)&&ca(e,r,aa(e,a.tuple));return r}function va(e,r,t){n(null!=r),n(r.type==np),n(r.dim>0),n(null!=t),n(t.type==np),n(t.dim>0),n(r.dim==t.dim);for(var a=ua(e,r.dim),l=r.head;null!=l;l=l.next)null==sa(e,t,l.tuple)&&ca(e,a,aa(e,l.tuple));return a}function ga(e,r,t){var a;n(null!=r),n(r.type==np),n(r.dim>0),n(null!=t),n(t.type==np),n(t.dim>0),n(r.dim==t.dim);var l=ua(e,r.dim);for(a=r.head;null!=a;a=a.next)null==sa(e,t,a.tuple)&&ca(e,l,aa(e,a.tuple));for(a=t.head;null!=a;a=a.next)null==sa(e,r,a.tuple)&&ca(e,l,aa(e,a.tuple));return l}function ha(e,r,t){n(null!=r),n(r.type==np),n(r.dim>0),n(null!=t),n(t.type==np),n(t.dim>0),n(r.dim==t.dim);for(var a=ua(e,r.dim),l=r.head;null!=l;l=l.next)null!=sa(e,t,l.tuple)&&ca(e,a,aa(e,l.tuple));return a}function ka(e,r,t){var a,l,o,i;n(null!=r),n(r.type==np),n(r.dim>0),n(null!=t),n(t.type==np),n(t.dim>0);var u=ua(e,r.dim+t.dim);for(a=r.head;null!=a;a=a.next)for(l=t.head;null!=l;l=l.next){for(o=aa(e,a.tuple),i=l.tuple;null!=i;i=i.next)o=ra(e,o,$t(e,i.sym));ca(e,u,o)}return u}function ya(e,n){var r;return 0==n?r=null:(r={},r.coef=n,r.var_=null,r.next=null),r}function wa(e,r){n(null!=r);var t={};return t.coef=1,t.var_=r,t.next=null,t}function xa(e,n){var r,t;if(null==n)r=null;else{for(r=t={};null!=n;n=n.next)t.coef=n.coef,t.var_=n.var_,null!=n.next&&(t=t.next={});t.next=null}return r}function Aa(e,n,r,t,a){var l,o,i=null,u=0;for(l=r;null!=l;l=l.next)null==l.var_?u=jt(e,u,zt(e,n,l.coef)):l.var_.temp=jt(e,l.var_.temp,zt(e,n,l.coef));for(l=a;null!=l;l=l.next)null==l.var_?u=jt(e,u,zt(e,t,l.coef)):l.var_.temp=jt(e,l.var_.temp,zt(e,t,l.coef));for(l=r;null!=l;l=l.next)null!=l.var_&&0!=l.var_.temp&&(o={},o.coef=l.var_.temp,o.var_=l.var_,o.next=i,i=o,l.var_.temp=0);for(l=a;null!=l;l=l.next)null!=l.var_&&0!=l.var_.temp&&(o={},o.coef=l.var_.temp,o.var_=l.var_,o.next=i,i=o,l.var_.temp=0);return 0!=u&&(o={},o.coef=u,o.var_=null,o.next=i,i=o),i}function Ma(e,n,r){for(var t,a=null,l=0;null!=n;)t=n,n=n.next,null==t.var_?l=jt(e,l,t.coef):(t.next=a,a=t);return r(l),a}function ja(e,n){var r,t,a=0;for(r=n;null!=r;r=r.next)null==r.var_?a=jt(e,a,r.coef):r.var_.temp=jt(e,r.var_.temp,r.coef);for(t=n,n=null,r=t;null!=r;r=t)t=r.next,null==r.var_&&0!=a?(r.coef=a,a=0,r.next=n,n=r):null!=r.var_&&0!=r.var_.temp&&(r.coef=r.var_.temp,r.var_.temp=0,r.next=n,n=r);return n}function Pa(e,r,t){switch(n(null!=t),r){case np:t.none=null;break;case rp:t.num=0;break;case up:t.sym=null;break;case $_:t.bit=0;break;case cp:t.tuple=null;break;case U_:t.set=null;break;case K_:t.var_=null;break;case W_:t.form=null;break;case D_:t.con=null;break;default:n(r!=r)}}function La(e,r,t){n(r==np||r==rp||r==up||r==U_||r==K_||r==D_),n(t>=0);var a={};return a.type=r,a.dim=t,a.size=0,a.head=null,a.tail=null,a.tree=!1,a.prev=null,a.next=e.a_list,null!=a.next&&(a.next.prev=a),e.a_list=a,a}function za(e,n,r){return la(e,n,r)}function Ia(e,r,t){var a;if(n(null!=r),n(ta(e,t)==r.dim),r.size>30&&!r.tree)for(r.tree=P(za,e),a=r.head;null!=a;a=a.next)z(L(r.tree,a.tuple),a);if(a=null,r.tree){var l=I(r.tree,t);a=null==l?null:E(l)}else for(a=r.head;null!=a&&0!=la(e,a.tuple,t);a=a.next);return a}function Ea(e,r,t){n(null!=r),n(ta(e,t)==r.dim);var a={};return a.tuple=t,a.next=null,a.value={},r.size++,null==r.head?r.head=a:r.tail.next=a,r.tail=a,null!=r.tree&&z(L(r.tree,a.tuple),a),a}function Fa(e,r,t){var a,l;if(n(null!=r),n(null!=t),null!=r.value){if(0==Zt(e,r.value,t))return;r.value=null}for(a=r.list;null!=a;a=a.arg.index.next)for(n(a.op==km),l=a;null!=l;l=l.up)l.valid&&(l.valid=0,Pa(e,l.type,l.value));r.value=$t(e,t)}function Sa(e,r){var t,a;if(null!=r.backup)for(t=r.list,a=r.backup;null!=t;t=t.next,a=a.next)n(null!=a),n(null!=a.sym),Fa(e,t,a.sym)}function qa(e,r,t,a,l){var o,i=0;return n(null!=r.code),yl(e,r.code,t)?(o=r.backup,r.backup=t,Sa(e,r),l(e,a),r.backup=o,Sa(e,r),i):i=1}function Na(e,r){if(null!=r.block){var t,a,l=null,o=null;for(t=r.block,r.block=t.next,a=t.list;null!=a;a=a.next)null==l?l=o={}:o=o.next={},null==a.code?(n(null!=r.tuple),o.sym=r.tuple.sym,n(null!=o.sym),r.tuple=r.tuple.next):o.sym=ml(e,a.code);for(o.next=null,qa(e,t,l,r,Na)&&(r.failure=1),a=t.list;null!=a;a=a.next)n(null!=l),o=l,l=l.next}else n(null==r.tuple),null==r.domain.code||dl(e,r.domain.code)?r.func(e,r.info):r.failure=2}function Oa(e,r,t,a,l){var o={};return null==r?(n(null==t),l(e,a),o.failure=0):(n(null!=t),o.domain=r,o.block=r.list,o.tuple=t,o.info=a,o.func=l,o.failure=0,Na(e,o)),o.failure}function Ta(e,r){if(null!=r.block){var t,a,l;for(t=r.block,r.block=t.next,l=null,a=t.list;null!=a;a=a.next)null!=a.code&&(l=ra(e,l,ml(e,a.code)));if(n(null!=t.code),t.code.op==Nb){var o,i,u,s,c,f;for(s=pl(e,t.code.arg.arg.x),c=pl(e,t.code.arg.arg.y),f=null==t.code.arg.arg.z?1:pl(e,t.code.arg.arg.z),i=pa(e,s,c,f),o=ra(e,null,Qt(e,0)),n(null==l),u=1;i>=u&&r.looping;u++)o.sym.num=ma(e,s,c,f,u),qa(e,t,o,r,Ta)}else{var _,p,m,b;for(_=hl(e,t.code),p=_.head;null!=p&&r.looping;p=p.next){m=p.tuple,b=l;var d=!1;for(a=t.list;null!=a;a=a.next){if(n(null!=m),null!=a.code){if(n(null!=b),0!=Zt(e,m.sym,b.sym)){d=!0;break}b=b.next}m=m.next}d||(n(null==m),n(null==b),qa(e,t,p.tuple,r,Ta))}}r.block=t}else(null==r.domain.code||dl(e,r.domain.code))&&(r.looping=!r.func(e,r.info))}function Ga(e,n,r,t){var a={};null==n?t(e,r):(a.domain=n,a.block=n.list,a.looping=1,a.info=r,a.func=t,Ta(e,a))}function Ra(e,r,t){n(null!=r),n(null!=t),eo(e,r+ia(e,"[",t)+" out of domain")}function Ca(e,r){var t=null;if(null!=r)for(var a=r.list;null!=a;a=a.next)for(var l=a.list;null!=l;l=l.next)null==l.code&&(n(null!=l.value),t=ra(e,t,$t(e,l.value)));return t}function Xa(e,r,t,a){for(var l=r.within,o=1;null!=l;l=l.next,o++){n(null!=l.code);for(var i=a.head;null!=i;i=i.next)if(!yl(e,l.code,i.tuple)){var u=ia(e,"(",i.tuple);n(u.length<255),eo(e,r.name+ia(e,"[",t)+" contains "+u+" which not within specified set; see ("+o+")")}}}function Ba(e,n,r){function t(){Xa(e,n,r,a),l=Ea(e,n.array,aa(e,r)),l.value.set=a}var a,l=Ia(e,n.array,r);return null!=l?a=l.value.set:null!=n.assign?(a=hl(e,n.assign),t()):null!=n.option?(a=hl(e,n.option),t()):eo(e,"no value for "+n.name+ia(e,"[",r)),a}function Da(e,n){null!=n.memb?Xa(e,n.set,n.memb.tuple,n.memb.value.set):n.refer=Ba(e,n.set,n.tuple)}function Ua(e,r){var t,a,l,o,i,u=r.gadget,s=new Array(20);for(Yi("Generating "+r.name+"..."),Ha(e,u.set),n(null!=u.set.array),n(null!=u.set.array.head),n(u.set.array.head==u.set.array.tail),t=u.set.array.head.value.set,n(t.type==np),n(t.dim==u.set.dimen),a=t.head;null!=a;a=a.next){for(o=aa(e,a.tuple),i=0;i<u.set.dimen;i++)s[i]=null;for(i=0;null!=o;o=o.next)s[u.ind[i++]-1]=o;for(n(i==u.set.dimen),i=0;i<u.set.dimen;i++)n(null!=s[i]),s[i].next=s[i+1];0==r.dim?o=null:(o=s[0],s[r.dim-1].next=null),l=Ia(e,r.array,o),null==l&&(l=Ea(e,r.array,o),l.value.set=ua(e,r.dimen)),o=s[r.dim],n(r.dim+r.dimen==u.set.dimen),s[u.set.dimen-1].next=null,ca(e,l.value.set,o)}r.data=1}function Ka(e,r,t){var a={};if(n(r.dim==ta(e,t)),a.set=r,a.tuple=t,null!=r.gadget&&0==r.data&&Ua(e,r),1==r.data){var l=r.array.tail;for(r.data=2,a.memb=r.array.head;null!=a.memb&&(Oa(e,r.domain,a.memb.tuple,a,Da)&&Ra(e,r.name,a.memb.tuple),a.memb!=l);a.memb=a.memb.next);}return a.memb=null,Oa(e,a.set.domain,a.tuple,a,Da)&&Ra(e,r.name,a.tuple),a.refer}function Va(e,n){var r=Ca(e,n.domain);return Ka(e,n,r),0}function Ha(e,n){Ga(e,n.domain,n,Va)}function Wa(e,r,t,a){function l(n){eo(e,r.name+ia(e,"[",t)+" = "+a+" not "+n+" "+u+"; see ("+i+")")}var o,i;switch(r.type){case rp:break;case Y_:a!=Math.floor(a)&&eo(e,r.name+ia(e,"[",t)+" = "+a+" not integer");break;case R_:0!=a&&1!=a&&eo(e,r.name+ia(e,"[",t)+" = "+a+" not binary");break;default:n(r!=r)}for(o=r.cond,i=1;null!=o;o=o.next,i++){var u;switch(n(null!=o.code),u=pl(e,o.code),o.rho){case bb:u>a||l("<");break;case db:u>=a||l("<=");break;case vb:a!=u&&l("=");break;case gb:a>=u||l(">=");break;case hb:a>u||l(">");break;case kb:a==u&&l("<>");break;default:n(o!=o)}}i=1;for(var s=r.in_;null!=s;s=s.next,i++){n(null!=s.code),n(1==s.code.dim);var c=ra(e,null,Qt(e,a));yl(e,s.code,c)||eo(e,r.name+ia(e,"[",t)+" = "+a+" not in specified set; see ("+i+")")}}function Ja(e,n,r){function t(t){return Wa(e,n,r,t),a=Ea(e,n.array,aa(e,r)),a.value.num=t,t}var a=Ia(e,n.array,r);return null!=a?a.value.num:null!=n.assign?t(pl(e,n.assign)):null!=n.option?t(pl(e,n.option)):null!=n.defval?(null!=n.defval.str&&eo(e,"cannot convert "+ea(e,n.defval)+" to floating-point number"),t(n.defval.num)):eo(e,"no value for "+n.name+ia(e,"[",r))}function Qa(e,n){null!=n.memb?Wa(e,n.par,n.memb.tuple,n.memb.value.num):n.value=Ja(e,n.par,n.tuple)}function Ya(e,r,t){var a={};if(n(r.type==rp||r.type==Y_||r.type==R_),n(r.dim==ta(e,t)),a.par=r,a.tuple=t,1==r.data){var l=r.array.tail;for(r.data=2,a.memb=r.array.head;null!=a.memb&&(Oa(e,r.domain,a.memb.tuple,a,Qa)&&Ra(e,r.name,a.memb.tuple),a.memb!=l);a.memb=a.memb.next);}return a.memb=null,Oa(e,a.par.domain,a.tuple,a,Qa)&&Ra(e,r.name,a.tuple),a.value}function $a(e,r,t,a){for(var l,o=1,i=r.cond;null!=i;i=i.next,o++){var u;n(null!=i.code);var s=ml(e,i.code);switch(i.rho){case bb:Zt(e,a,s)<0||(u=ea(e,s),n(u.length<=255),eo(e,r.name+ia(e,"[",t)+" = "+ea(e,a)+" not < "+u));break;case db:Zt(e,a,s)<=0||(u=ea(e,s),n(u.length<=255),eo(e,r.name+ia(e,"[",t)+" = "+ea(e,a)+" not <= "+u));break;case vb:0!=Zt(e,a,s)&&(u=ea(e,s),n(u.length<=255),eo(e,r.name+ia(e,"[",t)+" = "+ea(e,a)+" not = "+u));break;case gb:Zt(e,a,s)>=0||(u=ea(e,s),n(u.length<=255),eo(e,r.name+ia(e,"[",t)+" = "+ea(e,a)+" not >= "+u));break;case hb:Zt(e,a,s)>0||(u=ea(e,s),n(u.length<=255),eo(e,r.name+ia(e,"[",t)+" = "+ea(e,a)+" not > "+u));break;case kb:0==Zt(e,a,s)&&(u=ea(e,s),n(u.length<=255),eo(e,r.name+ia(e,"[",t)+" <> "+ea(e,a)+" not > "+u));break;default:n(i!=i)}}for(o=1,l=r.in_;null!=l;l=l.next,o++){n(null!=l.code),n(1==l.code.dim);var c=ra(e,null,$t(e,a));yl(e,l.code,c)||eo(e,r.name,ia(e,"[",t)+" = "+ea(e,a)+" not in specified set; see ("+o+")")}}function Za(e,n,r){function t(t){return $a(e,n,r,t),a=Ea(e,n.array,aa(e,r)),a.value.sym=$t(e,t),t}var a=Ia(e,n.array,r);return null!=a?$t(e,a.value.sym):null!=n.assign?t(ml(e,n.assign)):null!=n.option?t(ml(e,n.option)):null!=n.defval?$t(e,n.defval):eo(e,"no value for "+n.name+ia(e,"[",r))}function el(e,n){null!=n.memb?$a(e,n.par,n.memb.tuple,n.memb.value.sym):n.value=Za(e,n.par,n.tuple)}function nl(e,r,t){var a={};if(n(r.type==up),n(r.dim==ta(e,t)),a.par=r,a.tuple=t,1==r.data){var l=r.array.tail;for(r.data=2,a.memb=r.array.head;null!=a.memb&&(Oa(e,r.domain,a.memb.tuple,a,el)&&Ra(e,r.name,a.memb.tuple),a.memb!=l);a.memb=a.memb.next);}return a.memb=null,Oa(e,a.par.domain,a.tuple,a,el)&&Ra(e,r.name,a.tuple),a.value}function rl(e,r){var t=Ca(e,r.domain);switch(r.type){case rp:case Y_:case R_:Ya(e,r,t);break;case up:nl(e,r,t);break;default:n(r!=r)}return 0}function tl(e,n){Ga(e,n.domain,n,rl)}function al(e,n,r){var t,a=Ia(e,n.array,r);return null!=a?t=a.value.var_:(a=Ea(e,n.array,aa(e,r)),t=a.value.var_={},t.j=0,t.var_=n,t.memb=a,null==n.lbnd?t.lbnd=0:t.lbnd=pl(e,n.lbnd),null==n.ubnd?t.ubnd=0:n.ubnd==n.lbnd?t.ubnd=t.lbnd:t.ubnd=pl(e,n.ubnd),t.temp=0,t.stat=0,t.prim=t.dual=0),t}function ll(e,n){n.refer=al(e,n.var_,n.tuple)}function ol(e,r,t){var a={};return n(r.dim==ta(e,t)),a.var_=r,a.tuple=t,Oa(e,a.var_.domain,a.tuple,a,ll)&&Ra(e,r.name,a.tuple),a.refer}function il(e,r,t){var a,l=null,o=Ia(e,r.array,t);if(null!=o)a=o.value.con;else{if(o=Ea(e,r.array,aa(e,t)),a=o.value.con={},a.i=0,a.con=r,a.memb=o,n(null!=r.code),a.form=xl(e,r.code),null==r.lbnd&&null==r.ubnd)n(r.type==ep||r.type==Z_),a.form=Ma(e,a.form,function(e){l=e}),a.lbnd=a.ubnd=-l;else if(null!=r.lbnd&&null==r.ubnd)n(r.type==X_),a.form=Aa(e,1,a.form,-1,xl(e,r.lbnd)),a.form=Ma(e,a.form,function(e){l=e}),a.lbnd=-l,a.ubnd=0;else if(null==r.lbnd&&null!=r.ubnd)n(r.type==X_),a.form=Aa(e,1,a.form,-1,xl(e,r.ubnd)),a.form=Ma(e,a.form,function(e){l=e}),a.lbnd=0,a.ubnd=-l;else if(r.lbnd==r.ubnd)n(r.type==X_),a.form=Aa(e,1,a.form,-1,xl(e,r.lbnd)),a.form=Ma(e,a.form,function(e){l=e}),a.lbnd=a.ubnd=-l;else{var i=null,u=null;n(r.type==X_),a.form=Ma(e,a.form,function(e){l=e}),n(null==Ma(e,xl(e,r.lbnd),function(e){i=e})),n(null==Ma(e,xl(e,r.ubnd),function(e){u=e})),a.lbnd=Pt(e,i,l),a.ubnd=Pt(e,u,l)}a.stat=0,a.prim=a.dual=0}return a}function ul(e,n){n.refer=il(e,n.con,n.tuple)}function sl(e,r,t){var a={};return n(r.dim==ta(e,t)),a.con=r,a.tuple=t,Oa(e,a.con.domain,a.tuple,a,ul)&&Ra(e,r.name,a.tuple),a.refer}function cl(e,n){var r=Ca(e,n.domain);return sl(e,n,r),0}function fl(e,n){Ga(e,n.domain,n,cl)}function _l(e,r){var t=pl(e,r.code.arg.loop.x);switch(r.code.op){case Cb:r.value=jt(e,r.value,t);break;case Xb:r.value=zt(e,r.value,t);break;case Bb:r.value>t&&(r.value=t);break;case Db:r.value<t&&(r.value=t);break;default:n(r!=r)}return 0}function pl(e,r){var t,a,l,o,i,u,s;if(n(null!=r),n(r.type==rp),n(0==r.dim),r.vflag&&r.valid&&(r.valid=0,Pa(e,r.type,r.value)),r.valid)return r.value.num;switch(r.op){case gm:t=r.arg.num;
break;case ym:for(a=null,l=r.arg.par.list;null!=l;l=l.next)a=ra(e,a,ml(e,l.x));t=Ya(e,r.arg.par.par,a);break;case Am:var c;for(a=null,l=r.arg.var_.list;null!=l;l=l.next)a=ra(e,a,ml(e,l.x));switch(c=ol(e,r.arg.var_.var_,a),r.arg.var_.suff){case pm:t=null==c.var_.lbnd?-Xi:c.lbnd;break;case mm:t=null==c.var_.ubnd?+Xi:c.ubnd;break;case bm:t=c.stat;break;case dm:t=c.prim;break;case vm:t=c.dual;break;default:n(r!=r)}break;case Mm:var f;for(a=null,l=r.arg.con.list;null!=l;l=l.next)a=ra(e,a,ml(e,l.x));switch(f=sl(e,r.arg.con.con,a),r.arg.con.suff){case pm:t=null==f.con.lbnd?-Xi:f.lbnd;break;case mm:t=null==f.con.ubnd?+Xi:f.ubnd;break;case bm:t=f.stat;break;case dm:t=f.prim;break;case vm:t=f.dual;break;default:n(r!=r)}break;case zm:t=Ut(e);break;case Im:t=Kt(e);break;case Em:t=Ht(e);break;case Fm:t=ro(e);break;case Sm:o=ml(e,r.arg.arg.x),null==o.str?t=o.num:Ve(o.str,function(e){t=e})&&eo(e,"cannot convert "+ea(e,o)+" to floating-point number");break;case Gm:t=+pl(e,r.arg.arg.x);break;case Rm:t=-pl(e,r.arg.arg.x);break;case Xm:t=Math.abs(pl(e,r.arg.arg.x));break;case Bm:t=Math.ceil(pl(e,r.arg.arg.x));break;case Dm:t=Math.floor(pl(e,r.arg.arg.x));break;case Um:t=qt(e,pl(e,r.arg.arg.x));break;case Km:t=Nt(e,pl(e,r.arg.arg.x));break;case Vm:t=Ot(e,pl(e,r.arg.arg.x));break;case Hm:t=Tt(e,pl(e,r.arg.arg.x));break;case Wm:t=Gt(e,pl(e,r.arg.arg.x));break;case Jm:t=Rt(e,pl(e,r.arg.arg.x));break;case Qm:t=Ct(e,pl(e,r.arg.arg.x));break;case sb:t=Xt(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case Ym:t=Bt(e,pl(e,r.arg.arg.x),0);break;case cb:t=Bt(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case $m:t=Dt(e,pl(e,r.arg.arg.x),0);break;case fb:t=Dt(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case nb:t=jt(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case rb:t=Pt(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case tb:t=Lt(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case ab:t=zt(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case lb:t=It(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case ob:t=Et(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case ib:t=Ft(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case ub:t=St(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case _b:t=Vt(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case pb:t=Wt(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y));break;case Zm:var _=hl(e,r.arg.arg.x);t=_.size;break;case eb:o=ml(e,r.arg.arg.x),i=null==o.str?String(o.num):o.str,t=i.length;break;case Sb:var p;o=ml(e,r.arg.arg.x),i=null==o.str?String(o.num):o.str,o=ml(e,r.arg.arg.y),p=null==o.str?String(o.num):o.str,t=lo(e,i,p);break;case Ob:t=dl(e,r.arg.arg.x)?pl(e,r.arg.arg.y):null==r.arg.arg.z?0:pl(e,r.arg.arg.z);break;case Gb:for(t=+Xi,l=r.arg.list;null!=l;l=l.next)u=pl(e,l.x),t>u&&(t=u);break;case Rb:for(t=-Xi,l=r.arg.list;null!=l;l=l.next)u=pl(e,l.x),u>t&&(t=u);break;case Cb:s={},s.code=r,s.value=0,Ga(e,r.arg.loop.domain,s,_l),t=s.value;break;case Xb:s={},s.code=r,s.value=1,Ga(e,r.arg.loop.domain,s,_l),t=s.value;break;case Bb:s={},s.code=r,s.value=+Xi,Ga(e,r.arg.loop.domain,s,_l),s.value==+Xi&&eo(e,"min{} over empty set; result undefined"),t=s.value;break;case Db:s={},s.code=r,s.value=-Xi,Ga(e,r.arg.loop.domain,s,_l),s.value==-Xi&&eo(e,"max{} over empty set; result undefined"),t=s.value;break;default:n(r!=r)}return n(!r.valid),r.valid=1,r.value.num=t,t}function ml(e,r){var t,a;if(n(null!=r),n(r.type==up),n(0==r.dim),r.vflag&&r.valid&&(r.valid=0,Pa(e,r.type,r.value)),r.valid)return $t(e,r.value.sym);switch(r.op){case hm:t=Yt(e,r.arg.str);break;case km:n(null!=r.arg.index.slot.value),t=$t(e,r.arg.index.slot.value);break;case wm:var l,o;for(l=null,o=r.arg.par.list;null!=o;o=o.next)l=ra(e,l,ml(e,o.x));t=nl(e,r.arg.par.par,l);break;case qm:t=Qt(e,pl(e,r.arg.arg.x));break;case mb:t=na(e,ml(e,r.arg.arg.x),ml(e,r.arg.arg.y));break;case Ob:t=dl(e,r.arg.arg.x)?ml(e,r.arg.arg.y):null==r.arg.arg.z?Qt(e,0):ml(e,r.arg.arg.z);break;case Fb:case Tb:var i,u;t=ml(e,r.arg.arg.x),a=null==t.str?String(t.num):t.str,r.op==Fb?(i=pl(e,r.arg.arg.y),i!=Math.floor(i)&&eo(e,"substr('...', "+i+"); non-integer second argument"),(1>i||i>a.length+1)&&eo(e,"substr('...', "+i+"); substring out of range")):(i=pl(e,r.arg.arg.y),u=pl(e,r.arg.arg.z),(i!=Math.floor(i)||u!=Math.floor(u))&&eo(e,"substr('...', "+i+", "+u+"); non-integer second and/or third argument"),(1>i||0>u||i+u>a.length+1)&&eo(e,"substr('...', "+i+", "+u+"); substring out of range")),t=Yt(e,a.slice(i-1,i+u-1));break;case qb:var s,c,f;s=pl(e,r.arg.arg.x),c=ml(e,r.arg.arg.y),f=null==c.str?String(c.num):c.str,a=so(e,s,f),t=Yt(e,a);break;default:n(r!=r)}return n(!r.valid),r.valid=1,r.value.sym=$t(e,t),t}function bl(e,r){var t=0;switch(r.code.op){case Ub:r.value&=dl(e,r.code.arg.loop.x),r.value||(t=1);break;case Kb:r.value|=dl(e,r.code.arg.loop.x),r.value&&(t=1);break;default:n(r!=r)}return t}function dl(e,r){var t,a,l,o,i,u,s;if(n(r.type==$_),n(0==r.dim),r.vflag&&r.valid&&(r.valid=0,Pa(e,r.type,r.value)),r.valid)return r.value.bit;switch(r.op){case Nm:t=0!=pl(e,r.arg.arg.x);break;case Cm:t=!dl(e,r.arg.arg.x);break;case bb:n(null!=r.arg.arg.x),r.arg.arg.x.type==rp?t=pl(e,r.arg.arg.x)<pl(e,r.arg.arg.y):(a=ml(e,r.arg.arg.x),l=ml(e,r.arg.arg.y),t=Zt(e,a,l)<0);break;case db:n(null!=r.arg.arg.x),r.arg.arg.x.type==rp?t=pl(e,r.arg.arg.x)<=pl(e,r.arg.arg.y):(a=ml(e,r.arg.arg.x),l=ml(e,r.arg.arg.y),t=Zt(e,a,l)<=0);break;case vb:n(null!=r.arg.arg.x),r.arg.arg.x.type==rp?t=pl(e,r.arg.arg.x)==pl(e,r.arg.arg.y):(a=ml(e,r.arg.arg.x),l=ml(e,r.arg.arg.y),t=0==Zt(e,a,l));break;case gb:n(null!=r.arg.arg.x),r.arg.arg.x.type==rp?t=pl(e,r.arg.arg.x)>=pl(e,r.arg.arg.y):(a=ml(e,r.arg.arg.x),l=ml(e,r.arg.arg.y),t=Zt(e,a,l)>=0);break;case hb:n(null!=r.arg.arg.x),r.arg.arg.x.type==rp?t=pl(e,r.arg.arg.x)>pl(e,r.arg.arg.y):(a=ml(e,r.arg.arg.x),l=ml(e,r.arg.arg.y),t=Zt(e,a,l)>0);break;case kb:n(null!=r.arg.arg.x),r.arg.arg.x.type==rp?t=pl(e,r.arg.arg.x)!=pl(e,r.arg.arg.y):(a=ml(e,r.arg.arg.x),l=ml(e,r.arg.arg.y),t=0!=Zt(e,a,l));break;case yb:t=dl(e,r.arg.arg.x)&&dl(e,r.arg.arg.y);break;case wb:t=dl(e,r.arg.arg.x)||dl(e,r.arg.arg.y);break;case Lb:o=vl(e,r.arg.arg.x),t=yl(e,r.arg.arg.y,o);break;case zb:o=vl(e,r.arg.arg.x),t=!yl(e,r.arg.arg.y,o);break;case Ib:for(i=hl(e,r.arg.arg.x),t=1,u=i.head;null!=u;u=u.next)if(!yl(e,r.arg.arg.y,u.tuple)){t=0;break}break;case Eb:for(i=hl(e,r.arg.arg.x),t=1,u=i.head;null!=u;u=u.next)if(yl(e,r.arg.arg.y,u.tuple)){t=0;break}break;case Ub:s={},s.code=r,s.value=1,Ga(e,r.arg.loop.domain,s,bl),t=s.value;break;case Kb:s={},s.code=r,s.value=0,Ga(e,r.arg.loop.domain,s,bl),t=s.value;break;default:n(r!=r)}return n(!r.valid),r.valid=1,r.value.bit=t,t}function vl(e,r){var t;if(n(null!=r),n(r.type==cp),n(r.dim>0),r.vflag&&r.valid&&(r.valid=0,Pa(e,r.type,r.value)),r.valid)return aa(e,r.value.tuple);switch(r.op){case jm:t=null;for(var a=r.arg.list;null!=a;a=a.next)t=ra(e,t,ml(e,a.x));break;case Om:t=ra(e,null,ml(e,r.arg.arg.x));break;default:n(r!=r)}return n(!r.valid),r.valid=1,r.value.tuple=aa(e,t),t}function gl(e,r){var t;switch(r.code.op){case Vb:t=vl(e,r.code.arg.loop.x),null==sa(e,r.value,t)&&ca(e,r.value,t);break;case Hb:ca(e,r.value,Ca(e,r.code.arg.loop.domain));break;default:n(r!=r)}return 0}function hl(e,r){var t,a,l;if(n(null!=r),n(r.type==U_),n(r.dim>0),r.vflag&&r.valid&&(r.valid=0,Pa(e,r.type,r.value)),r.valid)return _a(e,r.value.set);switch(r.op){case xm:var o;for(o=null,a=r.arg.set.list;null!=a;a=a.next)o=ra(e,o,ml(e,a.x));t=_a(e,Ka(e,r.arg.set.set,o));break;case Pm:for(t=ua(e,r.dim),a=r.arg.list;null!=a;a=a.next)fa(e,t,vl(e,a.x));break;case xb:t=da(e,hl(e,r.arg.arg.x),hl(e,r.arg.arg.y));break;case Ab:t=va(e,hl(e,r.arg.arg.x),hl(e,r.arg.arg.y));break;case Mb:t=ga(e,hl(e,r.arg.arg.x),hl(e,r.arg.arg.y));break;case jb:t=ha(e,hl(e,r.arg.arg.x),hl(e,r.arg.arg.y));break;case Pb:t=ka(e,hl(e,r.arg.arg.x),hl(e,r.arg.arg.y));break;case Nb:t=ba(e,pl(e,r.arg.arg.x),pl(e,r.arg.arg.y),null==r.arg.arg.z?1:pl(e,r.arg.arg.z));break;case Ob:t=dl(e,r.arg.arg.x)?hl(e,r.arg.arg.y):hl(e,r.arg.arg.z);break;case Vb:l={},l.code=r,l.value=ua(e,r.dim),Ga(e,r.arg.loop.domain,l,gl),t=l.value;break;case Hb:l={},l.code=r,l.value=ua(e,r.dim),Ga(e,r.arg.loop.domain,l,gl),t=l.value;break;default:n(r!=r)}return n(!r.valid),r.valid=1,r.value.set=_a(e,t),t}function kl(e,r){n(null==r)}function yl(e,r,t){var a,l,o,i;switch(n(null!=r),n(r.type==U_),n(r.dim>0),n(null!=t),r.op){case xm:var u;for(o=null,l=r.arg.set.list;null!=l;l=l.next)o=ra(e,o,ml(e,l.x));u=Ka(e,r.arg.set.set,o),o=oa(e,t,u.dim),a=null!=sa(e,u,o);break;case Pm:var s;for(a=0,o=oa(e,t,r.dim),l=r.arg.list;null!=l&&(s=vl(e,l.x),!(a=0==la(e,o,s)));l=l.next);break;case xb:a=yl(e,r.arg.arg.x,t)||yl(e,r.arg.arg.y,t);break;case Ab:a=yl(e,r.arg.arg.x,t)&&!yl(e,r.arg.arg.y,t);break;case Mb:var c=yl(e,r.arg.arg.x,t),f=yl(e,r.arg.arg.y,t);a=c&&!f||!c&&f;break;case jb:a=yl(e,r.arg.arg.x,t)&&yl(e,r.arg.arg.y,t);break;case Pb:if(a=yl(e,r.arg.arg.x,t)){for(i=1;i<=r.arg.arg.x.dim;i++)n(null!=t),t=t.next;a=yl(e,r.arg.arg.y,t)}break;case Nb:var _,p,m,b;if(n(1==r.dim),p=pl(e,r.arg.arg.x),m=pl(e,r.arg.arg.y),b=null==r.arg.arg.z?1:pl(e,r.arg.arg.z),pa(e,p,m,b),n(null!=t.sym),null!=t.sym.str){a=0;break}if(_=t.sym.num,b>0&&!(_>=p&&m>=_)||0>b&&!(_>=m&&p>=_)){a=0;break}i=((_-p)/b+.5|0)+1,a=ma(e,p,m,b,i)==_;break;case Ob:a=dl(e,r.arg.arg.x)?yl(e,r.arg.arg.y,t):yl(e,r.arg.arg.z,t);break;case Vb:eo(e,"implementation restriction; in/within setof{} not allowed");break;case Hb:o=oa(e,t,r.dim),a=0==Oa(e,r.arg.loop.domain,o,null,kl);break;default:n(r!=r)}return a}function wl(e,r){switch(r.code.op){case Cb:var t,a=xl(e,r.code.arg.loop.x);for(null==r.value?(n(null==r.tail),r.value=a):(n(null!=r.tail),r.tail.next=a),t=a;null!=t;t=t.next)r.tail=t;break;default:n(r!=r)}return 0}function xl(e,r){var t;if(n(null!=r),n(r.type==W_),n(0==r.dim),r.vflag&&r.valid&&(r.valid=0,Pa(e,r.type,r.value)),r.valid)return xa(e,r.value.form);switch(r.op){case Am:var a,l=null;for(a=r.arg.var_.list;null!=a;a=a.next)l=ra(e,l,ml(e,a.x));n(r.arg.var_.suff==_m),t=wa(e,ol(e,r.arg.var_.var_,l));break;case Tm:t=ya(e,pl(e,r.arg.arg.x));break;case Gm:t=Aa(e,0,ya(e,0),1,xl(e,r.arg.arg.x));break;case Rm:t=Aa(e,0,ya(e,0),-1,xl(e,r.arg.arg.x));break;case nb:t=Aa(e,1,xl(e,r.arg.arg.x),1,xl(e,r.arg.arg.y));break;case rb:t=Aa(e,1,xl(e,r.arg.arg.x),-1,xl(e,r.arg.arg.y));break;case ab:n(null!=r.arg.arg.x),n(null!=r.arg.arg.y),r.arg.arg.x.type==rp?(n(r.arg.arg.y.type==W_),t=Aa(e,pl(e,r.arg.arg.x),xl(e,r.arg.arg.y),0,ya(e,0))):(n(r.arg.arg.x.type==W_),n(r.arg.arg.y.type==rp),t=Aa(e,pl(e,r.arg.arg.y),xl(e,r.arg.arg.x),0,ya(e,0)));break;case lb:t=Aa(e,It(e,1,pl(e,r.arg.arg.y)),xl(e,r.arg.arg.x),0,ya(e,0));break;case Ob:t=dl(e,r.arg.arg.x)?xl(e,r.arg.arg.y):null==r.arg.arg.z?ya(e,0):xl(e,r.arg.arg.z);break;case Cb:var o={};o.code=r,o.value=ya(e,0),o.tail=null,Ga(e,r.arg.loop.domain,o,wl),t=ja(e,o.value);break;default:n(r!=r)}return n(!r.valid),r.valid=1,r.value.form=xa(e,t),t}function Al(e,r){var t,a,l,o=e.dca;for(l=0,t=r.u.out.list;null!=t;t=t.next)switch(l++,t.code.type){case rp:o.type[l]="N",o.num[l]=pl(e,t.code),o.str[l][0]="\x00";break;case up:a=ml(e,t.code),null==a.str?(o.type[l]="N",o.num[l]=a.num,o.str[l][0]="\x00"):(o.type[l]="S",o.num[l]=0,o.str[l]=a.str);break;default:n(t!=t)}return _o(e),0}function Ml(e,r){var t,a,l,o,i,u,s,c;for(n(null==e.dca),e.dca=i={},i.id=0,i.link=null,i.na=0,i.arg=null,i.nf=0,i.name=null,i.type=null,i.num=null,i.str=null,n(0==i.na),t=r.arg;null!=t;t=t.next)i.na++;for(i.arg=new Array(1+i.na),s=1;s<=i.na;s++)i.arg[s]=null;for(s=0,t=r.arg;null!=t;t=t.next){s++,n(t.code.type==up);var f=ml(e,t.code);c=null==f.str?String(f.num):f.str,i.arg[s]=c}switch(r.type){case Q_:for(u=r.u.in_.set,null!=u&&(u.data&&eo(e,u.name+" already provided with data"),n(null==u.array.head),Ea(e,u.array,null).value.set=ua(e,u.dimen),u.data=1),l=r.u.in_.list;null!=l;l=l.next)l.par.data&&eo(e,l.par.name+" already provided with data"),l.par.data=1;for(n(0==i.nf),a=r.u.in_.fld;null!=a;a=a.next)i.nf++;for(l=r.u.in_.list;null!=l;l=l.next)i.nf++;for(i.name=new Array(1+i.nf),i.type=new Array(1+i.nf),i.num=new Float64Array(1+i.nf),i.str=new Array(1+i.nf),s=0,a=r.u.in_.fld;null!=a;a=a.next)s++,i.name[s]=a.name,i.type[s]="?",i.num[s]=0,i.str[s]="";for(l=r.u.in_.list;null!=l;l=l.next)s++,i.name[s]=l.name,i.type[s]="?",i.num[s]=0,i.str[s]="";for(co(e,"R");;){var _;for(s=1;s<=i.nf;s++)i.type[s]="?";if(fo(e))break;for(s=1;s<=i.nf;s++)"?"==i.type[s]&&eo(e,"field "+i.name[s]+" missing in input table");for(_=null,s=0,a=r.u.in_.fld;null!=a;a=a.next)switch(s++,n(s<=i.nf),i.type[s]){case"N":_=ra(e,_,Qt(e,i.num[s]));break;case"S":_=ra(e,_,Yt(e,i.str[s]));break;default:n(i!=i)}for(null!=r.u.in_.set&&fa(e,r.u.in_.set.array.head.value.set,aa(e,_)),l=r.u.in_.list;null!=l;l=l.next){var p;switch(s++,n(s<=i.nf),null!=Ia(e,l.par.array,_)&&eo(e,l.par.name+ia(e,"[",_)+" already defined"),p=Ea(e,l.par.array,aa(e,_)),l.par.type){case rp:case Y_:case R_:"N"!=i.type[s]&&eo(e,l.par.name+" requires numeric data"),p.value.num=i.num[s];break;case up:switch(i.type[s]){case"N":p.value.sym=Qt(e,i.num[s]);break;case"S":p.value.sym=Yt(e,i.str[s]);break;default:n(i!=i)}break;default:n(l!=l)}}}e.dca=null;break;case tp:for(n(0==i.nf),o=r.u.out.list;null!=o;o=o.next)i.nf++;for(i.name=new Array(1+i.nf),i.type=new Array(1+i.nf),i.num=new Float64Array(1+i.nf),i.str=new Array(1+i.nf),s=0,o=r.u.out.list;null!=o;o=o.next)s++,i.name[s]=o.name,i.type[s]="?",i.num[s]=0,i.str[s]="";co(e,"W"),Ga(e,r.u.out.domain,r,Al),po(e),e.dca=null;break;default:n(r!=r)}}function jl(e,n){return dl(e,n.code)||eo(e,"check"+ia(e,"[",Ca(e,n.domain))+" failed"),0}function Pl(e,n){Ga(e,n.domain,n,jl)}function Ll(e,n,r){var t,a=r.value.set;for($l(e,n.name+ia(e,"[",r.tuple)+(null==a.head?" is empty":":")),t=a.head;null!=t;t=t.next)$l(e,"   "+ia(e,"(",t.tuple))}function zl(e,r,t){switch(r.type){case rp:case Y_:case R_:$l(e,r.name+ia(e,"[",t.tuple)+" = "+t.value.num);break;case up:$l(e,r.name+ia(e,"[",t.tuple)+" = "+ea(e,t.value.sym));break;default:n(r!=r)}}function Il(e,r,t,a){a==_m||a==dm?$l(e,r.name+ia(e,"[",t.tuple)+".val = "+t.value.var_.prim):a==pm?$l(e,r.name+ia(e,"[",t.tuple)+".lb = "+(null==t.value.var_.var_.lbnd?-Xi:t.value.var_.lbnd)):a==mm?$l(e,r.name+ia(e,"[",t.tuple)+".ub = "+(null==t.value.var_.var_.ubnd?+Xi:t.value.var_.ubnd)):a==bm?$l(e,r.name+ia(e,"[",t.tuple)+".status = "+t.value.var_.stat):a==vm?$l(e,r.name+ia(e,"[",t.tuple)+".dual = "+t.value.var_.dual):n(a!=a)}function El(e,r,t,a){a==_m||a==dm?$l(e,r.name+ia(e,"[",t.tuple)+".val = "+t.value.con.prim):a==pm?$l(e,r.name+ia(e,"[",t.tuple)+".lb = "+(null==t.value.con.con.lbnd?-Xi:t.value.con.lbnd)):a==mm?$l(e,r.name+ia(e,"[",t.tuple)+".ub = "+(null==t.value.con.con.ubnd?+Xi:t.value.con.ubnd)):a==bm?$l(e,r.name+ia(e,"[",t.tuple)+".status = "+t.value.con.stat):a==vm?$l(e,r.name+ia(e,"[",t.tuple)+".dual = "+t.value.con.dual):n(a!=a)}function Fl(e,r){var t,a={value:{}};for(n(r.op==ym||r.op==wm||r.op==xm||r.op==Am||r.op==Mm),a.tuple=null,t=r.arg.par.list||r.arg.var_.list;null!=t;t=t.next)a.tuple=ra(e,a.tuple,ml(e,t.x));switch(r.op){case ym:a.value.num=Ya(e,r.arg.par.par,a.tuple),zl(e,r.arg.par.par,a);break;case wm:a.value.sym=nl(e,r.arg.par.par,a.tuple),zl(e,r.arg.par.par,a);break;case xm:a.value.set=Ka(e,r.arg.set.set,a.tuple),Ll(e,r.arg.set.set,a);break;case Am:a.value.var_=ol(e,r.arg.var_.var_,a.tuple),Il(e,r.arg.var_.var_,a,r.arg.var_.suff);break;case Mm:a.value.con=sl(e,r.arg.con.con,a.tuple),El(e,r.arg.con.con,a,r.arg.con.suff);break;default:n(r!=r)}}function Sl(e,r){switch(r.type){case rp:var t=pl(e,r);$l(e,String(t));break;case up:var a=ml(e,r);$l(e,ea(e,a));break;case $_:var l=dl(e,r);$l(e,l?"true":"false");break;case cp:var o=vl(e,r);$l(e,ia(e,"(",o));break;case U_:var i=hl(e,r);0==i.head&&$l(e,"set is empty");for(var u=i.head;null!=u;u=u.next)$l(e,"   "+ia(e,"(",u.tuple));break;case W_:var s,c=xl(e,r);for(null==c&&$l(e,"linear form is empty"),s=c;null!=s;s=s.next)null==s.var_?$l(e,"   "+s.coef):$l(e,"   "+s.coef+" "+s.var_.var_.name+ia(e,"[",s.var_.memb.tuple));break;default:n(r!=r)}}function ql(e,r){for(var t,a=r.list;null!=a;a=a.next)if(a.type==J_){var l=a.u.slot;$l(e,l.name+" = "+ea(e,l.value))}else if(a.type==op){var o=a.u.set;for(null!=o.assign?Ha(e,o):(null!=o.gadget&&0==o.data&&Ua(e,o),null!=o.array.head&&Ka(e,o,o.array.head.tuple)),null==o.array.head&&$l(e,o.name+" has empty content"),t=o.array.head;null!=t;t=t.next)Ll(e,o,t)}else if(a.type==ap){var i=a.u.par;for(null!=i.assign?tl(e,i):null!=i.array.head&&(i.type!=up?Ya(e,i,i.array.head.tuple):nl(e,i,i.array.head.tuple)),null==i.array.head&&$l(e,i.name+" has empty content"),t=i.array.head;null!=t;t=t.next)zl(e,i,t)}else if(a.type==fp){var u=a.u.var_;for(n(e.flag_p),null==u.array.head&&$l(e,u.name+" has empty content"),t=u.array.head;null!=t;t=t.next)Il(e,u,t,_m)}else if(a.type==X_){var s=a.u.con;for(n(e.flag_p),null==s.array.head&&$l(e,s.name+" has empty content"),t=s.array.head;null!=t;t=t.next)El(e,s,t,_m)}else if(a.type==V_){var c=a.u.code;c.op==ym||c.op==wm||c.op==xm||c.op==Am||c.op==Mm?Fl(e,c):Sl(e,c)}else n(a!=a);return 0}function Nl(e,n){Ga(e,n.domain,n,ql)}function Ol(e,n){null==e.prt_fp?Yl(e,n):e.prt_fp(n)}function Tl(e,r){n(r.length<pp);for(var t=0;t<r.length;t++)Ol(e,r[t])}function Gl(e,r){var t,a,l,o,i,u=ml(e,r.fmt);for(a=null==u.str?String(u.num):u.str,t=r.list,o=0;o<a.length;o++)if("%"==a[o]){if(l=o++,"%"==a[o]){Ol(e,"%");continue}if(null==t)break;for(;"-"==a[o]||"+"==a[o]||" "==a[o]||"#"==a[o]||"0"==a[o];)o++;for(;b(a[o]);)o++;if("."==a[o])for(o++;b(a[o]);)o++;if("d"==a[o]||"i"==a[o]||"e"==a[o]||"E"==a[o]||"f"==a[o]||"F"==a[o]||"g"==a[o]||"G"==a[o]){switch(n(null!=t),t.code.type){case rp:i=pl(e,t.code);break;case up:u=ml(e,t.code),null!=u.str&&eo(e,"cannot convert "+ea(e,u)+" to floating-point number"),i=u.num;break;case $_:i=dl(e,t.code)?1:0;break;default:n(t!=t)}if("d"==a[o]||"i"==a[o]){var s=Ui;i>=-s&&+s>=i||eo(e,"cannot convert "+i+" to integer"),Tl(e,g(a.slice(l,o+1),0|Math.floor(i+.5)))}else Tl(e,g(a.slice(l,o+1),i))}else if("s"==a[o]){switch(t.code.type){case rp:i=String(pl(e,t.code));break;case $_:i=dl(e,t.code)?"T":"F";break;case up:u=ml(e,t.code),i=null==u.str?String(u.num):u.str;break;default:n(t!=t)}Tl(e,g(a.slice(l,o+1),i))}else eo(e,"format specifier missing or invalid");t=t.next}else"\\"==a[o]?(o++,"t"==a[o]?Ol(e,"	"):"n"==a[o]?Ol(e,"\n"):"\x00"==a[o]?eo(e,"invalid use of escape character \\ in format control string"):Ol(e,a[o])):Ol(e,a[o]);return 0}function Rl(e,n){if(null==n.fname)e.prt_file=null;else{var r=ml(e,n.fname);null==r.str?e.prt_file=r.num:e.prt_file=r.str}Ga(e,n.domain,n,Gl)}function Cl(e,n){for(var r=e.stmt,t=n.list;null!=t;t=t.next)Bl(e,t);return e.stmt=r,0}function Xl(e,n){Ga(e,n.domain,n,Cl)}function Bl(e,r){switch(e.stmt=r,r.type){case op:case ap:case fp:break;case X_:Yi("Generating "+r.u.con.name+"..."),fl(e,r.u.con);break;case sp:switch(r.u.tab.type){case Q_:Yi("Reading "+r.u.tab.name+"...");break;case tp:Yi("Writing "+r.u.tab.name+"...");break;default:n(r!=r)}Ml(e,r.u.tab);break;case ip:break;case C_:Yi("Checking (line "+r.line+")..."),Pl(e,r.u.chk);break;case B_:$l(e,"Display statement at line "+r.line),Nl(e,r.u.dpy);break;case lp:Rl(e,r.u.prt);break;case H_:Xl(e,r.u.fur);break;default:n(r!=r)}}function Dl(e){var r;for(r=e.model;null!=r;r=r.next)switch(r.type){case op:n(null==r.u.set.array),r.u.set.array=La(e,U_,r.u.set.dim);break;case ap:switch(n(null==r.u.par.array),r.u.par.type){case rp:case Y_:case R_:r.u.par.array=La(e,rp,r.u.par.dim);break;case up:r.u.par.array=La(e,up,r.u.par.dim);break;default:n(r!=r)}break;case fp:n(null==r.u.var_.array),r.u.var_.array=La(e,K_,r.u.var_.dim);break;case X_:n(null==r.u.con.array),r.u.con.array=La(e,D_,r.u.con.dim);break;case sp:case ip:case C_:case B_:case lp:case H_:break;default:n(r!=r)}}function Ul(e){var r;for(n(!e.flag_p),r=e.model;null!=r&&(Bl(e,r),e.stmt.type!=ip);r=r.next);e.stmt=r}function Kl(e){var r,t,a,l,o,i,u;for(n(0==e.m),n(0==e.n),n(null==e.row),n(null==e.col),r=e.model;null!=r;r=r.next)if(r.type==fp)for(a=r.u.var_,t=a.array.head;null!=t;t=t.next)n(0==t.value.var_.j);for(r=e.model;null!=r;r=r.next)if(r.type==X_)for(l=r.u.con,t=l.array.head;null!=t;t=t.next)for(n(0==t.value.con.i),t.value.con.i=++e.m,o=t.value.con.form;null!=o;o=o.next)n(null!=o.var_),o.var_.memb.value.var_.j=-1;for(r=e.model;null!=r;r=r.next)if(r.type==fp)for(a=r.u.var_,t=a.array.head;null!=t;t=t.next)0!=t.value.var_.j&&(t.value.var_.j=++e.n);for(e.row=new Array(1+e.m),i=1;i<=e.m;i++)e.row[i]=null;for(r=e.model;null!=r;r=r.next)if(r.type==X_)for(l=r.u.con,t=l.array.head;null!=t;t=t.next)i=t.value.con.i,n(i>=1&&i<=e.m),n(null==e.row[i]),e.row[i]=t.value.con;for(i=1;i<=e.m;i++)n(null!=e.row[i]);for(e.col=new Array(1+e.n),u=1;u<=e.n;u++)e.col[u]=null;for(r=e.model;null!=r;r=r.next)if(r.type==fp)for(a=r.u.var_,t=a.array.head;null!=t;t=t.next)u=t.value.var_.j,0!=u&&(n(u>=1&&u<=e.n),n(null==e.col[u]),e.col[u]=t.value.var_);for(u=1;u<=e.n;u++)n(null!=e.col[u])}function Vl(e){var r;for(n(!e.flag_p),e.flag_p=1,r=e.stmt;null!=r;r=r.next)Bl(e,r);e.stmt=null}function Hl(e,r,t){e.line=0,e.column=0,e.c="\n",e.token=0,e.imlen=0,e.image="",e.value=0,e.b_token=mp,e.b_imlen=0,e.b_image="",e.b_value=0,e.f_dots=0,e.f_scan=0,e.f_token=0,e.f_imlen=0,e.f_image="",e.f_value=0,l(e.context,0," ",_p),e.c_ptr=0,n(null==e.in_fp),e.in_fp=t,e.in_file=r||"input",Wn(e),Qn(e)}function Wl(e){var r;return n(null!=e.in_fp),r=e.in_fp(),0>r&&(r=G_),r}function Jl(e){n(null!=e.in_fp),e.in_fp=null}function Ql(e,r,t){n(null==e.out_fp),null==t?e.out_fp=function(e){Yi(e)}:(e.out_fp=t,e.out_file=r),e.out_buffer=""}function Yl(e,r){n(null!=e.out_fp),"\n"==r?(e.out_fp(e.out_buffer,e.prt_file),e.out_buffer=""):e.out_buffer+=r}function $l(e,r){n(null!=e.out_fp),e.out_fp(r,e.prt_file)}function Zl(e){n(null!=e.out_fp),e.out_buffer.length>0&&(e.out_fp(e.out_buffer,e.prt_file),e.out_buffer="")}function eo(e,r){var t;switch(e.phase){case 1:case 2:t=new Error(e.in_file+":"+e.line+": "+r),t.line=e.line,t.column=e.column,Hn(e);break;case 3:var a=null==e.stmt?0:e.stmt.line,l=null==e.stmt?0:e.stmt.column;t=new Error(a+": "+r),t.line=a,t.column=l;break;default:n(e!=e)}throw e.phase=4,t}function no(e,r){switch(e.phase){case 1:case 2:Yi(e.in_file+":"+e.line+": warning: "+r);break;case 3:Yi(e.mod_file+":"+(null==e.stmt?0:e.stmt.line)+": warning: "+r);break;default:n(e!=e)}}function ro(e){return Math.round(Date.now()/1e3)}function to(e,n){for(var r="";n>0;)r+=e,n--;return r}function ao(e,n,r,t,a,l){Yi("Input string passed to str2time:"),Yi(n),Yi(to("^",r+1)),Yi("Format string passed to str2time:\n"),Yi(t),Yi(to("^",a+1)),eo(e,l)}function lo(e,r,t){function a(){ao(e,r,b,t,d,"time zone offset value incomplete or invalid")}function l(){ao(e,r,b,t,d,"time zone offset value out of range")}function o(){r[b]!=t[d]&&ao(e,r,b,t,d,"character mismatch"),b++}var i,u,s,c,f,_,p,m,b,d;for(u=s=c=f=_=p=-1,m=Ui,b=0,d=0;d<t.length;d++)if("%"==t[d])if(d++,"b"==t[d]||"h"==t[d]){var v,g;for(s>=0&&ao(e,r,b,t,d,"month multiply specified");" "==r[b];)b++;for(s=1;12>=s;s++){g=qd[s-1];var h=!1;for(v=0;2>=v;v++)if(b[v].toUpperCase()!=g[v].toUpperCase()){h=!0;break}if(!h){for(b+=3,v=3;"\x00"!=g[v]&&r[b].toUpperCase()==g[v].toUpperCase();v++)b++;break}}s>12&&ao(e,r,b,t,d,"abbreviated month name missing or invalid")}else if("d"==t[d]){for(c>=0&&ao(e,r,b,t,d,"day multiply specified");" "==r[b];)b++;"0"<=r[b]&&r[b]<="9"||ao(e,r,b,t,d,"day missing or invalid"),c=r[b++]-"0","0"<=r[b]&&r[b]<="9"&&(c=10*c+(r[b++]-"0")),c>=1&&31>=c||ao(e,r,b,t,d,"day out of range")}else if("H"==t[d]){for(f>=0&&ao(e,r,b,t,d,"hour multiply specified");" "==r[b];)b++;"0"<=r[b]&&r[b]<="9"||ao(e,r,b,t,d,"hour missing or invalid"),f=r[b++]-"0","0"<=r[b]&&r[b]<="9"&&(f=10*f+(r[b++]-"0")),f>=0&&23>=f||ao(e,r,b,t,d,"hour out of range")}else if("m"==t[d]){for(s>=0&&ao(e,r,b,t,d,"month multiply specified");" "==r[b];)b++;"0"<=r[b]&&r[b]<="9"||ao(e,r,b,t,d,"month missing or invalid"),s=r[b++]-"0","0"<=r[b]&&r[b]<="9"&&(s=10*s+(r[b++]-"0")),s>=1&&12>=s||ao(e,r,b,t,d,"month out of range")}else if("M"==t[d]){for(_>=0&&ao(e,r,b,t,d,"minute multiply specified");" "==r[b];)b++;"0"<=r[b]&&r[b]<="9"||ao(e,r,b,t,d,"minute missing or invalid"),_=r[b++]-"0","0"<=r[b]&&r[b]<="9"&&(_=10*_+(r[b++]-"0")),_>=0&&59>=_||ao(e,r,b,t,d,"minute out of range")}else if("S"==t[d]){for(p>=0&&ao(e,r,b,t,d,"second multiply specified");" "==r[b];)b++;"0"<=r[b]&&r[b]<="9"||ao(e,r,b,t,d,"second missing or invalid"),p=r[b++]-"0","0"<=r[b]&&r[b]<="9"&&(p=10*p+(r[b++]-"0")),p>=0&&60>=p||ao(e,r,b,t,d,"second out of range")}else if("y"==t[d]){for(u>=0&&ao(e,r,b,t,d,"year multiply specified");" "==r[b];)b++;"0"<=r[b]&&r[b]<="9"||ao(e,r,b,t,d,"year missing or invalid"),u=r[b++]-"0","0"<=r[b]&&r[b]<="9"&&(u=10*u+(r[b++]-"0")),u+=u>=69?1900:2e3}else if("Y"==t[d]){for(u>=0&&ao(e,r,b,t,d,"year multiply specified");" "==r[b];)b++;for("0"<=r[b]&&r[b]<="9"||ao(e,r,b,t,d,"year missing or invalid"),u=0,i=1;4>=i&&("0"<=r[b]&&r[b]<="9");i++)u=10*u+(r[b++]-"0");u>=1&&4e3>=u||ao(e,r,b,t,d,"year out of range")}else if("z"==t[d]){var k;for(m!=Ui&&ao(e,r,b,t,d,"time zone offset multiply specified");" "==r[b];)b++;if("Z"==r[b])k=f=_=0,b++;else{for("+"==r[b]?(k=1,b++):"-"==r[b]?(k=-1,b++):ao(e,r,b,t,d,"time zone offset sign missing"),f=0,i=1;2>=i;i++)"0"<=r[b]&&r[b]<="9"||a(),f=10*f+(r[b++]-"0");if(f>23&&l(),":"==r[b]&&(b++,"0"<=r[b]&&r[b]<="9"||a()),_=0,"0"<=r[b]&&r[b]<="9"){for(i=1;2>=i;i++)"0"<=r[b]&&r[b]<="9"||a(),_=10*_+(r[b++]-"0");_>59&&l()}}m=k*(60*f+_)}else"%"==t[d]?o():ao(e,r,b,t,d,"invalid conversion specifier");else" "==t[d]||o();return 0>u&&(u=1970),0>s&&(s=1),0>c&&(c=1),0>f&&(f=0),0>_&&(_=0),0>p&&(p=0),m==Ui&&(m=0),i=We(c,s,u),n(i>=0),60*(60*(24*(i-We(1,1,1970))+f)+_)+p-60*m}function oo(e,n,r,t){Yi("Format string passed to time2str:"),Yi(n),Yi(to("^",r)),eo(e,t)}function io(e){return(e+We(1,1,1970))%7+1}function uo(e){var r;switch(r=We(1,1,e)-We(1,1,1970),io(r)){case 1:r+=0;break;case 2:r-=1;break;case 3:r-=2;break;case 4:r-=3;break;case 5:r+=3;break;case 6:r+=2;break;case 7:r+=1;break;default:n(r!=r)}return n(1==io(r)),r}function so(e,r,t){var a,l,o,i,u,s,c,f,_=0,p=0,m=0,b="";for(r>=-62135596800&&64092211199>=r||eo(e,"time2str("+r+",...); argument out of range"),r=Math.floor(r+.5),s=Math.abs(r)/86400,a=Math.floor(s),0>r&&(a=s==Math.floor(s)?-a:-(a+1)),n(0==Je(a+We(1,1,1970),function(e,n,r){m=e,p=n,_=r})),i=r-86400*a|0,n(i>=0&&86400>i),o=i/60,i%=60,l=o/60,o%=60,u=0,c=0;c<t.length;c++){if("%"==t[c])if(c++,"a"==t[c])f=Sd[io(a)-1].slice(0,3);else if("A"==t[c])f=Sd[io(a)-1];else if("b"==t[c]||"h"==t[c])f=qd[p-1].slice(0,3);else if("B"==t[c])f=qd[p-1];else if("C"==t[c])f=String(Math.floor(_/100));else if("d"==t[c])f=String(m);else if("D"==t[c])f=p+"/"+m+"/"+_%100;else if("e"==t[c])f=String(m);else if("F"==t[c])g(f,_+"-"+p+"-"+m);else if("g"==t[c]){var d;d=a<uo(_)?_-1:a<uo(_+1)?_:_+1,f=String(d%100)}else if("G"==t[c]){var d;d=a<uo(_)?_-1:a<uo(_+1)?_:_+1,f=String(d)}else if("H"==t[c])f=String(l);else if("I"==t[c])f=String(0==l?12:12>=l?l:l-12);else if("j"==t[c])f=String(We(m,p,_)-We(1,1,_)+1);else if("k"==t[c])f=String(l);else if("l"==t[c])f=String(0==l?12:12>=l?l:l-12);else if("m"==t[c])f=String(p);else if("M"==t[c])f=String(o);else if("p"==t[c])f=11>=l?"AM":"PM";else if("P"==t[c])f=11>=l?"am":"pm";else if("r"==t[c])f=(0==l?12:12>=l?l:l-12)+":"+o+":"+i+" "+(11>=l?"AM":"PM");else if("R"==t[c])f=l+":"+o;else if("S"==t[c])f=String(i);else if("T"==t[c])f=l+":"+o+":"+i;else if("u"==t[c])f=String(io(a));else if("U"==t[c]){var v=We(1,1,_)-We(1,1,1970);v+=7-io(v),f=String((a+7-v)/7)}else if("V"==t[c]){var d;d=a<uo(_)?a-uo(_-1):a<uo(_+1)?a-uo(_):a-uo(_+1),f=String(d/7+1)}else if("w"==t[c])f=String(io(a)%7);else if("W"==t[c]){var h=We(1,1,_)-We(1,1,1970);h+=(8-io(h))%7,f=String((a+7-h)/7)}else"y"==t[c]?f=String(_%100):"Y"==t[c]?f=String(_):"%"==t[c]?f="%":oo(e,t,c,"invalid conversion specifier");else f=t[c];b+=f,u+=f.length}return b}function co(e,r){var t=e.dca;n(0==t.id),n(null==t.link),n(t.na>=1);var a=Nd[t.arg[1].toLowerCase()];a?t.link=new a(t,r,e.tablecb):eo(e,"Invalid table driver '"+t.arg[1]+"'"),null==t.link&&eo(e,"error on opening table "+e.stmt.u.tab.name)}function fo(e){var n=e.dca,r=n.link.readRecord(n);return r>0&&eo(e,"error on reading data from table "+e.stmt.u.tab.name),r}function _o(e){var n=e.dca,r=n.link.writeRecord(n);r&&eo(e,"error on writing data to table "+e.stmt.u.tab.name)}function po(e){var n=e.dca;n.link.flush(n)}function mo(e,t,a){this.mode=t,this.fname=null,this.count=0,this.c="\n",this.what=0,this.field="",this.nf=0,this.ref=[],this.tablecb=a,this.CSV_EOF=0,this.CSV_EOR=1,this.CSV_NUM=2,this.CSV_STR=3,ld(e)<2&&r("csv_driver: file name not specified\n"),this.fname=od(e,2);var l;if("R"==t){for(a?(this.data=a(e.arg,t),this.cursor=0):r("csv_driver: unable to open "+this.fname),this.nskip=0,this.readField(),n(this.what==this.CSV_EOR),n(0==this.nf);this.readField(),this.what!=this.CSV_EOR;){for(this.what!=this.CSV_STR&&r(this.fname+":"+this.count+": invalid field name\n"),this.nf++,l=id(e);l>=1&&ud(e,l)!=this.field;l--);this.ref[this.nf]=l}for(l=id(e);l>=1&&"RECNO"!=ud(e,l);l--);this.ref[0]=l}else if("W"==t){this.data="";var o=id(e);for(l=1;o>=l;l++)this.data+=ud(e,l)+(o>l?",":"\n");this.count++}else n(t!=t)}function bo(e,t,a){this.mode=t,this.fname=null,ld(e)<2&&r("json driver: file name not specified"),this.fname=od(e,2);var l;if("R"==t){this.ref={},a?(this.data=a(e.arg,t),"string"==typeof this.data&&(this.data=JSON.parse(this.data)),this.cursor=1):r("json driver: unable to open "+this.fname);for(var o=0,i=this.data[0];o<i.length;o++)this.ref[i[o]]=o}else if("W"==t){this.tablecb=a;var u=[];this.data=[u];var s=id(e);for(l=1;s>=l;l++)u.push(ud(e,l))}else n(t!=t)}function vo(){}function go(){var e={};return e.orig_dir=0,e.orig_m=e.orig_n=e.orig_nnz=0,e.name=e.obj=null,e.c0=0,e.nrows=e.ncols=0,e.r_head=e.r_tail=null,e.c_head=e.c_tail=null,e.top=null,e.m=e.n=e.nnz=0,e.row_ref=e.col_ref=null,e.sol=e.scaling=0,e.p_stat=e.d_stat=e.t_stat=e.i_stat=0,e.r_stat=null,e.r_pi=null,e.c_stat=null,e.c_value=null,e}function ho(e,n,r){0==r?(n.prev=null,n.next=e.r_head,null==n.next?e.r_tail=n:n.next.prev=n,e.r_head=n):(n.prev=e.r_tail,n.next=null,null==n.prev?e.r_head=n:n.prev.next=n,e.r_tail=n)}function ko(e,n){null==n.prev?e.r_head=n.next:n.prev.next=n.next,null==n.next?e.r_tail=n.prev:n.next.prev=n.prev}function yo(e,n){n.temp||(n.temp=1,ko(e,n),ho(e,n,0))}function wo(e,n){n.temp&&(n.temp=0,ko(e,n),ho(e,n,1))}function xo(e,n,r){0==r?(n.prev=null,n.next=e.c_head,null==n.next?e.c_tail=n:n.next.prev=n,e.c_head=n):(n.prev=e.c_tail,n.next=null,null==n.prev?e.c_head=n:n.prev.next=n,e.c_tail=n)}function Ao(e,n){null==n.prev?e.c_head=n.next:n.prev.next=n.next,null==n.next?e.c_tail=n.prev:n.next.prev=n.prev}function Mo(e,n){n.temp||(n.temp=1,Ao(e,n),xo(e,n,0))}function jo(e,n){n.temp&&(n.temp=0,Ao(e,n),xo(e,n,1))}function Po(e){var n={};return n.i=++e.nrows,n.name=null,n.lb=-Xi,n.ub=+Xi,n.ptr=null,n.temp=0,ho(e,n,1),n}function Lo(e){var n={};return n.j=++e.ncols,n.name=null,n.is_int=0,n.lb=n.ub=n.coef=0,n.ptr=null,n.temp=0,n.ll={},n.uu={},xo(e,n,1),n}function zo(e,n,r){var t={};return t.row=e,t.col=n,t.val=r,t.r_prev=null,t.r_next=e.ptr,t.c_prev=null,t.c_next=n.ptr,null!=t.r_next&&(t.r_next.r_prev=t),null!=t.c_next&&(t.c_next.c_prev=t),e.ptr=n.ptr=t,t}function Io(e,n){var r;return r={},r.func=n,r.info={},r.link=e.top,e.top=r,r.info}function Eo(e){for(var n;null!=e.ptr;)n=e.ptr,e.ptr=n.r_next,null==n.c_prev?n.col.ptr=n.c_next:n.c_prev.c_next=n.c_next,null!=n.c_next&&(n.c_next.c_prev=n.c_prev)}function Fo(e,n){Eo(n),ko(e,n)}function So(e,n){for(var r;null!=n.ptr;)r=n.ptr,n.ptr=r.c_next,null==r.r_prev?r.row.ptr=r.r_next:r.r_prev.r_next=r.r_next,null!=r.r_next&&(r.r_next.r_prev=r.r_prev);Ao(e,n)}function qo(e,r,t,a,l){var o,i,u,s,c=r.m,f=r.n;for(n(t==nf||t==ef),n(a==_c||a==pc||a==mc),n(l==nf||l==ef),a==mc&&n(!l),e.orig_dir=r.dir,e.orig_dir==Vs?s=1:e.orig_dir==Hs?s=-1:n(e!=e),e.orig_m=c,e.orig_n=f,e.orig_nnz=r.nnz,t&&null!=r.name&&(e.name=r.name),t&&null!=r.obj&&(e.obj=r.obj),e.c0=s*r.c0,o=new Array(1+c),i=1;c>=i;i++){var _,p=r.row[i];if(o[i]=_=Po(e),n(_.i==i),t&&null!=p.name&&(_.name=p.name),l){var m=p.rii;
p.type==Ys?(_.lb=-Xi,_.ub=+Xi):p.type==$s?(_.lb=p.lb*m,_.ub=+Xi):p.type==Zs?(_.lb=-Xi,_.ub=p.ub*m):p.type==ec?(_.lb=p.lb*m,_.ub=p.ub*m):p.type==nc?_.lb=_.ub=p.lb*m:n(p!=p)}else p.type==Ys?(_.lb=-Xi,_.ub=+Xi):p.type==$s?(_.lb=p.lb,_.ub=+Xi):p.type==Zs?(_.lb=-Xi,_.ub=p.ub):p.type==ec?(_.lb=p.lb,_.ub=p.ub):p.type==nc?_.lb=_.ub=p.lb:n(p!=p)}for(u=1;f>=u;u++){var b,d,v=r.col[u];if(d=Lo(e),n(d.j==u),t&&null!=v.name&&(d.name=v.name),a==mc&&(d.is_int=Number(v.kind==Js)),l){var g=v.sjj;for(v.type==Ys?(d.lb=-Xi,d.ub=+Xi):v.type==$s?(d.lb=v.lb/g,d.ub=+Xi):v.type==Zs?(d.lb=-Xi,d.ub=v.ub/g):v.type==ec?(d.lb=v.lb/g,d.ub=v.ub/g):v.type==nc?d.lb=d.ub=v.lb/g:n(v!=v),d.coef=s*v.coef*g,b=v.ptr;null!=b;b=b.c_next)zo(o[b.row.i],d,b.row.rii*b.val*g)}else for(v.type==Ys?(d.lb=-Xi,d.ub=+Xi):v.type==$s?(d.lb=v.lb,d.ub=+Xi):v.type==Zs?(d.lb=-Xi,d.ub=v.ub):v.type==ec?(d.lb=v.lb,d.ub=v.ub):v.type==nc?d.lb=d.ub=v.lb:n(v!=v),d.coef=s*v.coef,b=v.ptr;null!=b;b=b.c_next)zo(o[b.row.i],d,b.val)}e.sol=a,e.scaling=l}function No(e,r){var t,a,l,o,i,u,s,c,f,_;for(vu(r),ru(r,e.name),tu(r,e.obj),au(r,e.orig_dir),e.orig_dir==Vs?f=1:e.orig_dir==Hs?f=-1:n(e!=e),fu(r,0,f*e.c0),t=e.r_head;null!=t;t=t.next)t.temp=o=lu(r,1),iu(r,o,t.name),u=t.lb==-Xi&&t.ub==+Xi?Ys:t.ub==+Xi?$s:t.lb==-Xi?Zs:t.lb!=t.ub?ec:nc,su(r,o,u,t.lb,t.ub);for(c=new Int32Array(1+r.m),_=new Float64Array(1+r.m),a=e.c_head;null!=a;a=a.next){for(i=ou(r,1),uu(r,i,a.name),rs(r,i,a.is_int?Js:Ws),u=a.lb==-Xi&&a.ub==+Xi?Ys:a.ub==+Xi?$s:a.lb==-Xi?Zs:a.lb!=a.ub?ec:nc,cu(r,i,u,a.lb,a.ub),fu(r,i,f*a.coef),s=0,l=a.ptr;null!=l;l=l.c_next)s++,c[s]=l.row.temp,_[s]=l.val;pu(r,i,s,c,_)}for(e.m=r.m,e.n=r.n,e.nnz=r.nnz,e.row_ref=new Int32Array(1+e.m),e.col_ref=new Int32Array(1+e.n),t=e.r_head,o=0;null!=t;t=t.next)e.row_ref[++o]=t.i;for(a=e.c_head,i=0;null!=a;a=a.next)e.col_ref[++i]=a.j;e.name=e.obj=null,e.c0=0,e.r_head=e.r_tail=null,e.c_head=e.c_tail=null}function Oo(e,r){var t,a,l,o,i,u,s;if(n(e.orig_dir==r.dir),e.orig_dir==Vs?s=1:e.orig_dir==Hs?s=-1:n(e!=e),n(e.m==r.m),n(e.n==r.n),n(e.nnz==r.nnz),e.sol==_c?(e.p_stat=r.pbs_stat,e.d_stat=r.dbs_stat):e.sol==pc?e.t_stat=r.ipt_stat:e.sol==mc?e.i_stat=r.mip_stat:n(e!=e),e.sol==_c){for(null==e.r_stat&&(e.r_stat=new Int8Array(1+e.nrows)),o=1;o<=e.nrows;o++)e.r_stat[o]=0;for(null==e.c_stat&&(e.c_stat=new Int8Array(1+e.ncols)),i=1;i<=e.ncols;i++)e.c_stat[i]=0}for(null==e.c_value&&(e.c_value=new Float64Array(1+e.ncols)),i=1;i<=e.ncols;i++)e.c_value[i]=Xi;if(e.sol!=mc)for(null==e.r_pi&&(e.r_pi=new Float64Array(1+e.nrows)),o=1;o<=e.nrows;o++)e.r_pi[o]=Xi;if(e.sol==_c){for(o=1;o<=e.m;o++)t=r.row[o],u=e.row_ref[o],e.r_stat[u]=t.stat,e.r_pi[u]=s*t.dual;for(i=1;i<=e.n;i++)a=r.col[i],u=e.col_ref[i],e.c_stat[u]=a.stat,e.c_value[u]=a.prim}else if(e.sol==pc){for(o=1;o<=e.m;o++)t=r.row[o],u=e.row_ref[o],e.r_pi[u]=s*t.dval;for(i=1;i<=e.n;i++)a=r.col[i],u=e.col_ref[i],e.c_value[u]=a.pval}else if(e.sol==mc)for(i=1;i<=e.n;i++)a=r.col[i],u=e.col_ref[i],e.c_value[u]=a.mipx;else n(e!=e);for(l=e.top;null!=l;l=l.link)n(null!=l.func),n(0==l.func(e,l.info))}function To(e,r){var t,a,l,o,i,u,s;if(n(e.orig_dir==r.dir),e.orig_dir==Vs?i=1:e.orig_dir==Hs?i=-1:n(e!=e),n(e.orig_m==r.m),n(e.orig_n==r.n),n(e.orig_nnz==r.nnz),e.sol==_c){for(r.valid=0,r.pbs_stat=e.p_stat,r.dbs_stat=e.d_stat,r.obj_val=r.c0,r.some=0,l=1;l<=r.m;l++)t=r.row[l],t.stat=e.r_stat[l],e.scaling?t.dual=i*e.r_pi[l]*t.rii:t.dual=i*e.r_pi[l],t.stat==rc?t.dual=0:t.stat==tc?(n(t.type==$s||t.type==ec),t.prim=t.lb):t.stat==ac?(n(t.type==Zs||t.type==ec),t.prim=t.ub):t.stat==lc?(n(t.type==Ys),t.prim=0):t.stat==oc?(n(t.type==nc),t.prim=t.lb):n(t!=t);for(o=1;o<=r.n;o++)a=r.col[o],a.stat=e.c_stat[o],e.scaling?a.prim=e.c_value[o]*a.sjj:a.prim=e.c_value[o],a.stat==rc?a.dual=0:a.stat==tc?(n(a.type==$s||a.type==ec),a.prim=a.lb):a.stat==ac?(n(a.type==Zs||a.type==ec),a.prim=a.ub):a.stat==lc?(n(a.type==Ys),a.prim=0):a.stat==oc?(n(a.type==nc),a.prim=a.lb):n(a!=a),r.obj_val+=a.coef*a.prim;for(l=1;l<=r.m;l++)if(t=r.row[l],t.stat==rc){for(s=0,u=t.ptr;null!=u;u=u.r_next)s+=u.val*u.col.prim;t.prim=s}for(o=1;o<=r.n;o++)if(a=r.col[o],a.stat!=rc){for(s=a.coef,u=a.ptr;null!=u;u=u.c_next)s-=u.val*u.row.dual;a.dual=s}}else if(e.sol==pc){for(r.ipt_stat=e.t_stat,r.ipt_obj=r.c0,l=1;l<=r.m;l++)t=r.row[l],e.scaling?t.dval=i*e.r_pi[l]*t.rii:t.dval=i*e.r_pi[l];for(o=1;o<=r.n;o++)a=r.col[o],e.scaling?a.pval=e.c_value[o]*a.sjj:a.pval=e.c_value[o],r.ipt_obj+=a.coef*a.pval;for(l=1;l<=r.m;l++){for(t=r.row[l],s=0,u=t.ptr;null!=u;u=u.r_next)s+=u.val*u.col.pval;t.pval=s}for(o=1;o<=r.n;o++){for(a=r.col[o],s=a.coef,u=a.ptr;null!=u;u=u.c_next)s-=u.val*u.row.dval;a.dval=s}}else if(e.sol==mc){for(n(!e.scaling),r.mip_stat=e.i_stat,r.mip_obj=r.c0,o=1;o<=r.n;o++)a=r.col[o],a.mipx=e.c_value[o],a.kind==Js&&n(a.mipx==Math.floor(a.mipx)),r.mip_obj+=a.coef*a.mipx;for(l=1;l<=r.m;l++){for(t=r.row[l],s=0,u=t.ptr;null!=u;u=u.r_next)s+=u.val*u.col.mipx;t.mipx=s}}else n(e!=e)}function Go(e,r){var t;n(r.lb==-Xi&&r.ub==+Xi),t=Io(e,function(e,n){return e.sol==_c&&(e.r_stat[n.p]=rc),e.sol!=mc&&(e.r_pi[n.p]=0),0}),t.p=r.i,Fo(e,r)}function Ro(e,r){var t,a,l;for(n(0!=r.lb),n(r.lb!=-Xi),n(r.lb<r.ub),t=Io(e,function(e,n){if(e.sol==_c){if(e.c_stat[n.q]!=rc&&e.c_stat[n.q]!=tc&&e.c_stat[n.q]!=ac)return vo(),1;e.c_stat[n.q]=e.c_stat[n.q]}return e.c_value[n.q]=n.bnd+e.c_value[n.q],0}),t.q=r.j,t.bnd=r.lb,e.c0+=r.coef*r.lb,l=r.ptr;null!=l;l=l.c_next)a=l.row,a.lb==a.ub?a.ub=a.lb-=l.val*r.lb:(a.lb!=-Xi&&(a.lb-=l.val*r.lb),a.ub!=+Xi&&(a.ub-=l.val*r.lb));r.ub!=+Xi&&(r.ub-=r.lb),r.lb=0}function Co(e,r){var t,a,l;for(n(r.lb==r.ub),t=Io(e,function(e,n){return e.sol==_c&&(e.c_stat[n.q]=oc),e.c_value[n.q]=n.s,0}),t.q=r.j,t.s=r.lb,e.c0+=r.coef*r.lb,l=r.ptr;null!=l;l=l.c_next)a=l.row,a.lb==a.ub?a.ub=a.lb-=l.val*r.lb:(a.lb!=-Xi&&(a.lb-=l.val*r.lb),a.ub!=+Xi&&(a.ub-=l.val*r.lb));So(e,r)}function Xo(e,r){var t,a,l,o;return n(r.lb!=-Xi),n(r.ub!=+Xi),n(r.lb<r.ub),l=1e-9+1e-12*Math.abs(r.lb),r.ub-r.lb>l?0:(t=Io(e,function(e,n){if(e.sol==_c)if(e.r_stat[n.p]==rc)e.r_stat[n.p]=rc;else{if(e.r_stat[n.p]!=oc)return vo(),1;e.r_pi[n.p]>=0?e.r_stat[n.p]=tc:e.r_stat[n.p]=ac}return 0}),t.p=r.i,a=.5*(r.ub+r.lb),o=Math.floor(a+.5),Math.abs(a-o)<=l&&(a=o),r.lb=r.ub=a,1)}function Bo(e,r){var t,a,l,o,i,u;if(n(r.lb!=-Xi),n(r.ub!=+Xi),n(r.lb<r.ub),i=1e-9+1e-12*Math.abs(r.lb),r.ub-r.lb>i)return 0;if(t=Io(e,function(e,n){var r,t;if(e.sol==_c)if(e.c_stat[n.q]==rc)e.c_stat[n.q]=rc;else{if(e.c_stat[n.q]!=oc)return vo(),1;for(t=n.c,r=n.ptr;null!=r;r=r.next)t-=r.val*e.r_pi[r.ref];t>=0?e.c_stat[n.q]=tc:e.c_stat[n.q]=ac}return 0}),t.q=r.j,t.c=r.coef,t.ptr=null,e.sol==_c)for(a=r.ptr;null!=a;a=a.c_next)l={},l.ref=a.row.i,l.val=a.val,l.next=t.ptr,t.ptr=l;return o=.5*(r.ub+r.lb),u=Math.floor(o+.5),Math.abs(o-u)<=i&&(o=u),r.lb=r.ub=o,1}function Do(e,r){var t=.001;return n(null==r.ptr),r.lb>+t||r.ub<-t?1:(r.lb=-Xi,r.ub=+Xi,Go(e,r),0)}function Uo(e,r){function t(){l.stat=tc,r.ub=r.lb}function a(){l.stat=ac,r.lb=r.ub}var l,o=.001;return n(null==r.ptr),r.coef>+o&&r.lb==-Xi?1:r.coef<-o&&r.ub==+Xi?1:(l=Io(e,function(e,n){return e.sol==_c&&(e.c_stat[n.q]=n.stat),0}),l.q=r.j,r.lb==-Xi&&r.ub==+Xi?(l.stat=lc,r.lb=r.ub=0):r.ub==+Xi?t():r.lb==-Xi?a():r.lb!=r.ub?r.coef>=+Ki?t():r.coef<=-Ki?a():Math.abs(r.lb)<=Math.abs(r.ub)?t():a():l.stat=oc,Co(e,r),0)}function Ko(e,r,t){var a,l;if(n(e==e),n(r.lb<r.ub),r.is_int){if(l=Math.floor(t+.5),!(Math.abs(t-l)<=1e-5))return 2;t=l}if(r.lb!=-Xi){if(a=r.is_int?1e-5:1e-5+1e-8*Math.abs(r.lb),t<r.lb-a)return 1;if(t<r.lb+.001*a)return r.ub=r.lb,0}if(r.ub!=+Xi){if(a=r.is_int?1e-5:1e-5+1e-8*Math.abs(r.ub),t>r.ub+a)return 1;if(t>r.ub-.001*a)return r.lb=r.ub,0}return r.lb=r.ub=t,0}function Vo(e,r){var t,a,l,o,i,u;if(n(r.lb==r.ub),n(null!=r.ptr&&null==r.ptr.r_next),l=r.ptr,a=l.col,u=r.lb/l.val,i=Ko(e,a,u),n(i>=0&&2>=i),0!=i)return i;if(t=Io(e,function(e,n){var r,t;if(e.sol==_c){if(e.c_stat[n.q]!=oc)return vo(),1;e.r_stat[n.p]=oc,e.c_stat[n.q]=rc}if(e.sol!=mc){for(t=n.c,r=n.ptr;null!=r;r=r.next)t-=r.val*e.r_pi[r.ref];e.r_pi[n.p]=t/n.apq}return 0}),t.p=r.i,t.q=a.j,t.apq=l.val,t.c=a.coef,t.ptr=null,e.sol!=mc)for(l=a.ptr;null!=l;l=l.c_next)l.row!=r&&(o={},o.ref=l.row.i,o.val=l.val,o.next=t.ptr,t.ptr=o);return Fo(e,r),0}function Ho(e,r,t){var a,l,o;if(n(e==e),n(r.lb<r.ub),n(t!=-Xi),r.is_int&&(o=Math.floor(t+.5),t=Math.abs(t-o)<=1e-5?o:Math.ceil(t)),r.lb!=-Xi&&(l=r.is_int?.001:.001+1e-6*Math.abs(r.lb),t<r.lb+l))return a=0;if(r.ub!=+Xi){if(l=r.is_int?1e-5:1e-5+1e-8*Math.abs(r.ub),t>r.ub+l)return a=4;if(t>r.ub-.001*l)return r.lb=r.ub,a=3}return a=r.lb==-Xi?2:r.is_int&&t>r.lb+.5?2:t>r.lb+.3*(1+Math.abs(r.lb))?2:1,r.lb=t,a}function Wo(e,r,t){var a,l,o;if(n(e==e),n(r.lb<r.ub),n(t!=+Xi),r.is_int&&(o=Math.floor(t+.5),t=Math.abs(t-o)<=1e-5?o:Math.floor(t)),r.ub!=+Xi&&(l=r.is_int?.001:.001+1e-6*Math.abs(r.ub),t>r.ub-l))return a=0;if(r.lb!=-Xi){if(l=r.is_int?1e-5:1e-5+1e-8*Math.abs(r.lb),t<r.lb-l)return a=4;if(t<r.lb+.001*l)return r.ub=r.lb,a=3}return a=r.ub==+Xi?2:r.is_int&&t<r.ub-.5?2:t<r.ub-.3*(1+Math.abs(r.ub))?2:1,r.ub=t,a}function Jo(e,r){var t,a,l,o,i,u,s,c,f;if(n(r.lb!=-Xi||r.ub!=+Xi),n(r.lb<r.ub),n(null!=r.ptr&&null==r.ptr.r_next),l=r.ptr,a=l.col,n(a.lb<a.ub),l.val>0?(c=r.lb==-Xi?-Xi:r.lb/l.val,f=r.ub==+Xi?+Xi:r.ub/l.val):(c=r.ub==+Xi?-Xi:r.ub/l.val,f=r.lb==-Xi?+Xi:r.lb/l.val),c==-Xi)u=0;else if(u=Ho(e,a,c),n(u>=0&&4>=u),4==u)return 4;if(f==+Xi)s=0;else if(3==u)s=0;else if(s=Wo(e,a,f),n(s>=0&&4>=s),4==s)return 4;if(!u&&!s)return r.lb=-Xi,r.ub=+Xi,Go(e,r),0;if(t=Io(e,function(e,n){function r(){return n.lb_changed?(e.r_stat[n.p]=n.apq>0?tc:ac,e.c_stat[n.q]=rc,e.r_pi[n.p]=l/n.apq):(e.r_stat[n.p]=rc,e.r_pi[n.p]=0),0}function t(){return n.ub_changed?(e.r_stat[n.p]=n.apq>0?ac:tc,e.c_stat[n.q]=rc,e.r_pi[n.p]=l/n.apq):(e.r_stat[n.p]=rc,e.r_pi[n.p]=0),0}var a,l;if(e.sol==mc)return 0;for(l=n.c,a=n.ptr;null!=a;a=a.next)l-=a.val*e.r_pi[a.ref];if(e.sol==_c)if(e.c_stat[n.q]==rc)e.r_stat[n.p]=rc,e.r_pi[n.p]=0;else if(e.c_stat[n.q]==tc)r();else if(e.c_stat[n.q]==ac)t();else{if(e.c_stat[n.q]!=oc)return vo(),1;if(l>1e-7&&(n.apq>0&&n.lb!=-Xi||n.apq<0&&n.ub!=+Xi||!n.lb_changed))return e.c_stat[n.q]=tc,r();if(-1e-7>l&&(n.apq>0&&n.ub!=+Xi||n.apq<0&&n.lb!=-Xi||!n.ub_changed))return e.c_stat[n.q]=ac,t();if(n.lb!=-Xi&&n.ub==+Xi)e.r_stat[n.p]=tc;else if(n.lb==-Xi&&n.ub!=+Xi)e.r_stat[n.p]=ac;else{if(n.lb==-Xi||n.ub==+Xi)return vo(),1;n.apq*e.c_value[n.q]<=.5*(n.lb+n.ub)?e.r_stat[n.p]=tc:e.r_stat[n.p]=ac}e.c_stat[n.q]=rc,e.r_pi[n.p]=l/n.apq}return e.sol==pc&&(l>+Ki&&n.lb_changed||-Ki>l&&n.ub_changed?e.r_pi[n.p]=l/n.apq:e.r_pi[n.p]=0),0}),t.p=r.i,t.q=a.j,t.apq=l.val,t.c=a.coef,t.lb=r.lb,t.ub=r.ub,t.lb_changed=u,t.ub_changed=s,t.ptr=null,e.sol!=mc)for(o=a.ptr;null!=o;o=o.c_next)o!=l&&(i={},i.ref=o.row.i,i.val=o.val,i.next=t.ptr,t.ptr=i);return Fo(e,r),u>=s?u:s}function Qo(e,r){var t,a,l,o;for(n(!r.is_int),n(r.lb<r.ub),n(null!=r.ptr&&null==r.ptr.c_next),l=r.ptr,a=l.row,n(a.lb==a.ub),t=Io(e,function(e,n){var r,t;if(e.sol==_c){if(e.r_stat[n.p]==rc||e.r_stat[n.p]==lc)e.c_stat[n.q]=e.r_stat[n.p];else if(e.r_stat[n.p]==tc)e.c_stat[n.q]=n.apq>0?ac:tc;else{if(e.r_stat[n.p]!=ac)return vo(),1;e.c_stat[n.q]=n.apq>0?tc:ac}e.r_stat[n.p]=oc}for(e.sol!=mc&&(e.r_pi[n.p]+=n.c/n.apq),r=n.b,t=n.ptr;null!=t;t=t.next)r-=t.val*e.c_value[t.ref];return e.c_value[n.q]=r/n.apq,0}),t.p=a.i,t.q=r.j,t.apq=l.val,t.b=a.lb,t.c=r.coef,t.ptr=null,l=a.ptr;null!=l;l=l.r_next)l.col!=r&&(o={},o.ref=l.col.j,o.val=l.val,o.next=t.ptr,t.ptr=o,l.col.coef-=t.c*(l.val/t.apq));e.c0+=t.c*(t.b/t.apq),t.apq>0?(a.lb=r.ub==+Xi?-Xi:t.b-t.apq*r.ub,a.ub=r.lb==-Xi?+Xi:t.b-t.apq*r.lb):(a.lb=r.lb==-Xi?-Xi:t.b-t.apq*r.lb,a.ub=r.ub==+Xi?+Xi:t.b-t.apq*r.ub),So(e,r)}function Yo(e,r){function t(){l.stat=tc,o.ub=o.lb}function a(){l.stat=ac,o.lb=o.ub}var l,o,i,u,s,c,f,_,p,m;if(n(r.lb<r.ub),n(null!=r.ptr&&null==r.ptr.c_next),i=r.ptr,o=i.row,n(o.lb!=-Xi||o.ub!=+Xi),n(o.lb<o.ub),s=o.lb,s!=-Xi)for(u=o.ptr;null!=u;u=u.r_next)if(u!=i)if(u.val>0){if(u.col.ub==+Xi){s=-Xi;break}s-=u.val*u.col.ub}else{if(u.col.lb==-Xi){s=-Xi;break}s-=u.val*u.col.lb}if(c=o.ub,c!=+Xi)for(u=o.ptr;null!=u;u=u.r_next)if(u!=i)if(u.val>0){if(u.col.lb==-Xi){c=+Xi;break}c-=u.val*u.col.lb}else{if(u.col.ub==+Xi){c=+Xi;break}c-=u.val*u.col.ub}if(f=i.val>0?s==-Xi?-Xi:s/i.val:c==+Xi?-Xi:c/i.val,_=i.val>0?c==+Xi?+Xi:c/i.val:s==-Xi?+Xi:s/i.val,r.lb!=-Xi&&(m=1e-9+1e-12*Math.abs(r.lb),f<r.lb-m))return 1;if(r.ub!=+Xi&&(m=1e-9+1e-12*Math.abs(r.ub),_>r.ub+m))return 1;if(r.lb=-Xi,r.ub=+Xi,l=Io(e,function(e,r){if(e.sol==_c)if(e.r_stat[r.p]==rc)e.r_stat[r.p]=rc;else{if(e.r_stat[r.p]!=oc)return vo(),1;n(r.stat==tc||r.stat==ac),e.r_stat[r.p]=r.stat}return 0}),l.p=o.i,l.stat=-1,p=r.coef/i.val,p>+Ki)if(o.lb!=-Xi)t();else{if(p>1e-5)return 2;n(o.ub!=+Xi),a()}else if(-Ki>p)if(o.ub!=+Xi)a();else{if(-1e-5>p)return 2;n(o.lb!=-Xi),t()}else o.ub==+Xi?(n(o.lb!=-Xi),t()):o.lb==-Xi?(n(o.ub!=+Xi),a()):Math.abs(o.lb)<=Math.abs(o.ub)?t():a();return 0}function $o(e,r,t){var a,l,o,i,u,s,c=null;for(n(0==t||1==t),s=1,o=r.ptr;null!=o;o=o.r_next)s<Math.abs(o.val)&&(s=Math.abs(o.val));for(o=r.ptr;null!=o;o=o.r_next)if(Math.abs(o.val)<1e-7*s)return 1;for(a=Io(e,function(e,n){var r,t,a,l,o,i;if(e.sol==mc)return 0;if(e.sol==_c){if(e.r_stat[n.p]!=rc)return vo(),1;for(r=n.ptr;null!=r;r=r.next){if(e.c_stat[r.j]!=oc)return vo(),1;e.c_stat[r.j]=r.stat}}for(r=n.ptr;null!=r;r=r.next){for(l=r.c,a=r.ptr;null!=a;a=a.next)l-=a.val*e.r_pi[a.ref];r.c=l}for(t=null,o=0,r=n.ptr;null!=r;r=r.next)if(l=r.c,i=Math.abs(l/r.a),r.stat==tc)0>l&&i>o&&(t=r,o=i);else{if(r.stat!=ac)return vo(),1;l>0&&i>o&&(t=r,o=i)}return null!=t&&(e.sol==_c&&(e.r_stat[n.p]=n.stat,e.c_stat[t.j]=rc),e.r_pi[n.p]=t.c/t.a),0}),a.p=r.i,r.lb==r.ub?a.stat=oc:0==t?(a.stat=tc,n(r.lb!=-Xi)):(a.stat=ac,n(r.ub!=+Xi)),a.ptr=null,o=r.ptr;null!=o;o=o.r_next)if(l=o.col,n(l.lb<l.ub),e.sol!=mc&&(c={},c.j=l.j,c.stat=-1,c.a=o.val,c.c=l.coef,c.ptr=null,c.next=a.ptr,a.ptr=c),0==t&&o.val<0||0!=t&&o.val>0?(e.sol!=mc&&(c.stat=tc),n(l.lb!=-Xi),l.ub=l.lb):(e.sol!=mc&&(c.stat=ac),n(l.ub!=+Xi),l.lb=l.ub),e.sol!=mc)for(i=l.ptr;null!=i;i=i.c_next)i!=o&&(u={},u.ref=i.row.i,u.val=i.val,u.next=c.ptr,c.ptr=u);return r.lb=-Xi,r.ub=+Xi,0}function Zo(e,r){var t,a,l,o,i=0;for(n(e==e),a=0,t=r.ptr;null!=t;t=t.r_next)if(t.val>0){if(t.col.lb==-Xi){a=-Xi;break}a+=t.val*t.col.lb}else{if(t.col.ub==+Xi){a=-Xi;break}a+=t.val*t.col.ub}for(l=0,t=r.ptr;null!=t;t=t.r_next)if(t.val>0){if(t.col.ub==+Xi){l=+Xi;break}l+=t.val*t.col.ub}else{if(t.col.lb==-Xi){l=+Xi;break}l+=t.val*t.col.lb}return r.lb!=-Xi&&(o=.001+1e-6*Math.abs(r.lb),r.lb-o>l)?i=51:r.ub!=+Xi&&(o=.001+1e-6*Math.abs(r.ub),r.ub+o<a)?i=51:(r.lb!=-Xi&&(o=1e-9+1e-12*Math.abs(r.lb),r.lb-o>a&&(i|=r.lb+o<=l?1:2)),r.ub!=+Xi&&(o=1e-9+1e-12*Math.abs(r.ub),r.ub+o<l&&(i|=r.ub-o>=a?16:32)),i)}function ei(e,r,t){var a;e.sol==_c&&(a=Io(e,function(e,n){return e.sol!=_c?(vo(),1):(e.r_stat[n.p]==rc?e.r_stat[n.p]=rc:e.r_stat[n.p]=n.stat,0)}),a.p=r.i,r.ub==+Xi?a.stat=tc:r.lb==-Xi?a.stat=ac:r.lb!=r.ub?a.stat=0==t?ac:tc:a.stat=oc),0==t?(n(r.lb!=-Xi),r.lb=-Xi):1==t?(n(r.ub!=+Xi),r.ub=+Xi):n(t!=t)}function ni(e,r){var t,a,l,o,i,u=!1;for(n(e==e),l=1,t=r.ptr;null!=t;t=t.r_next)t.col.ll.ll=-Xi,t.col.uu.uu=+Xi,l<Math.abs(t.val)&&(l=Math.abs(t.val));if(o=1e-6*l,r.lb!=-Xi){for(a=null,t=r.ptr;null!=t;t=t.r_next)if(t.val>0&&t.col.ub==+Xi||t.val<0&&t.col.lb==-Xi){if(null!=a){u=!0;break}a=t}if(!u){for(i=r.lb,t=r.ptr;null!=t;t=t.r_next)t==a||(i-=t.val>0?t.val*t.col.ub:t.val*t.col.lb);if(null==a)for(t=r.ptr;null!=t;t=t.r_next)t.val>=+o?t.col.ll.ll=t.col.ub+i/t.val:t.val<=-o&&(t.col.uu.uu=t.col.lb+i/t.val);else a.val>=+o?a.col.ll.ll=i/a.val:a.val<=-o&&(a.col.uu.uu=i/a.val)}}if(u=!1,r.ub!=+Xi){for(a=null,t=r.ptr;null!=t;t=t.r_next)if(t.val>0&&t.col.lb==-Xi||t.val<0&&t.col.ub==+Xi){if(null!=a){u=!0;break}a=t}if(!u){for(i=r.ub,t=r.ptr;null!=t;t=t.r_next)t==a||(i-=t.val>0?t.val*t.col.lb:t.val*t.col.ub);if(null==a)for(t=r.ptr;null!=t;t=t.r_next)t.val>=+o?t.col.uu.uu=t.col.lb+i/t.val:t.val<=-o&&(t.col.ll.ll=t.col.ub+i/t.val);else a.val>=+o?a.col.uu.uu=i/a.val:a.val<=-o&&(a.col.ll.ll=i/a.val)}}}function ri(e){var r,t,a,l,o,i,u,s,c,f,_,p,m;for(f=_=p=m=0,a=e.c_tail;null!=a;a=a.prev)if(a.is_int&&a.lb!=a.ub&&(0!=a.lb||1!=a.ub))if(a.lb<-1e6||a.ub>1e6||a.ub-a.lb>4095)f++;else if(_++,0!=a.lb&&Ro(e,a),n(0==a.lb),i=0|a.ub,n(a.ub==i),1!=i){for(u=2,c=4;i>=c;)u++,c+=c;for(p+=u,r=Io(e,function(e,n){var r,t,a=e.c_value[n.q];for(r=1,t=2;r<n.n;r++,t+=t)a+=t*e.c_value[n.j+(r-1)];return e.c_value[n.q]=a,0}),r.q=a.j,r.j=0,r.n=u,c-1>i?(t=Po(e),m++,t.lb=-Xi,t.ub=i):t=null,a.ub=1,null!=t&&zo(t,a,1),s=1,c=2;u>s;s++,c+=c)for(l=Lo(e),l.is_int=1,l.lb=0,l.ub=1,l.coef=c*a.coef,0==r.j?r.j=l.j:n(r.j+(s-1)==l.j),o=a.ptr;null!=o;o=o.c_next)zo(o.row,l,c*o.val)}return _>0&&Yi(_+" integer variable(s) were replaced by "+p+" binary ones"),m>0&&Yi(m+" row(s) were added due to binarization"),f>0&&Yi("Binarization failed for "+f+" integer variable(s)"),f}function ti(e,n){var r,t,a;for(t=null,r=e.ptr;null!=r;r=r.r_next)a={},a.aj=n*r.val,a.xj=r.col,a.next=t,t=a;return t}function ai(e,r,t,a){var l,o,i,u,s;for(n(e==e),l=r;null!=l;l=l.next)n(0!=l.aj),n(l.xj.is_int),n(0==l.xj.lb&&1==l.xj.ub);for(u=0,l=r;null!=l;l=l.next)if(1==l.aj);else{if(-1!=l.aj)break;u++}if(null==l&&t==1-u)return 1;for(l=r;null!=l;l=l.next)l.aj<0&&(t-=l.aj);for(l=r;null!=l;l=l.next)if(Math.abs(l.aj)>t)return 0;for(o=null,l=r;null!=l;l=l.next)(null==o||Math.abs(o.aj)>Math.abs(l.aj))&&(o=l);for(n(null!=o),i=null,l=r;null!=l;l=l.next)l!=o&&(null==i||Math.abs(i.aj)>Math.abs(l.aj))&&(i=l);if(n(null!=i),s=.001+1e-6*Math.abs(t),Math.abs(o.aj)+Math.abs(i.aj)<=t+s)return 0;for(t=1,l=r;null!=l;l=l.next)l.aj>0?l.aj=1:(l.aj=-1,t-=1);return a(t),2}function li(e,r){var t,a,l,o,i,u,s,c=0;for(n(r.lb<r.ub),i=0;1>=i;i++){if(0==i){if(r.ub==+Xi)continue;l=ti(r,1),s=+r.ub}else{if(r.lb==-Xi)continue;l=ti(r,-1),s=-r.lb}if(u=ai(e,l,s,function(e){s=e}),n(u>=0&&2>=u),1==i&&1==u||2==u){if(c++,Ci){for(Yi("Original constraint:"),a=r.ptr;null!=a;a=a.r_next)Yi(" "+a.val+" x"+a.col.j);for(r.lb!=-Xi&&Yi(", >= "+r.lb),r.ub!=+Xi&&Yi(", <= "+r.ub),Yi(""),Yi("Equivalent packing inequality:"),o=l;null!=o;o=o.next)Yi(" "+(o.aj>0?"+":"-")+"x"+o.xj.j);Yi(", <= "+s)}if(r.lb==-Xi||r.ub==+Xi)t=null;else for(t=Po(e),0==i?(t.lb=r.lb,t.ub=+Xi):(t.lb=-Xi,t.ub=r.ub),a=r.ptr;null!=a;a=a.r_next)zo(t,a.col,a.val);for(Eo(r),r.lb=-Xi,r.ub=s,o=l;null!=o;o=o.next)zo(r,o.xj,o.aj);null!=t&&(r=t)}}return c}function oi(e,r,t,a){var l,o,i;for(n(e==e),l=r;null!=l;l=l.next)n(0!=l.aj),n(l.xj.is_int),n(0==l.xj.lb&&1==l.xj.ub);for(o=0,l=r;null!=l;l=l.next)if(1==l.aj);else{if(-1!=l.aj)break;o++}if(null==l&&t==1-o)return 1;for(l=r;null!=l;l=l.next)l.aj<0&&(t-=l.aj);if(.001>t)return 0;for(i=1e-9+1e-12*Math.abs(t),l=r;null!=l;l=l.next)if(Math.abs(l.aj)<t-i)return 0;for(t=1,l=r;null!=l;l=l.next)l.aj>0?l.aj=1:(l.aj=-1,t-=1);return a(t),2}function ii(e,r){var t,a,l,o,i,u,s,c=0;for(n(r.lb<r.ub),i=0;1>=i;i++){if(0==i){if(r.lb==-Xi)continue;l=ti(r,1),s=+r.lb}else{if(r.ub==+Xi)continue;l=ti(r,-1),s=-r.ub}if(u=oi(e,l,s,function(e){s=e}),n(u>=0&&2>=u),1==i&&1==u||2==u){if(c++,Ci){for(Yi("Original constraint:"),a=r.ptr;null!=a;a=a.r_next)Yi(" "+a.val+" x"+a.col.j);for(r.lb!=-Xi&&Yi(", >= "+r.lb),r.ub!=+Xi&&Yi(", <= "+r.ub),Yi(""),Yi("Equivalent covering inequality:"),o=l;null!=o;o=o.next)Yi(" "+(o.aj>0?"+":"-")+"x"+o.xj.j);Yi(", >= "+s)}if(r.lb==-Xi||r.ub==+Xi)t=null;else for(t=Po(e),0==i?(t.lb=-Xi,t.ub=r.ub):(t.lb=r.lb,t.ub=+Xi),a=r.ptr;null!=a;a=a.r_next)zo(t,a.col,a.val);for(Eo(r),r.lb=s,r.ub=+Xi,o=l;null!=o;o=o.next)zo(r,o.xj,o.aj);null!=t&&(r=t)}}return c}function ui(e,r,t,a){var l,o,i,u,s=0;for(n(e==e),o=0,l=r;null!=l;l=l.next)if(l.aj>0){if(l.xj.lb==-Xi)return s;o+=l.aj*l.xj.lb}else{if(l.xj.ub==+Xi)return s;o+=l.aj*l.xj.ub}for(l=r;null!=l;l=l.next)l.xj.is_int&&0==l.xj.lb&&1==l.xj.ub&&(l.aj>0?(i=o,t-l.aj<i&&t>i&&(u=t-i,u>=.001&&l.aj-u>=.01*(1+l.aj)&&(Ci&&Yi("+"),l.aj=u,s++))):(i=o-l.aj,i>t&&i<t-l.aj&&(u=l.aj+(i-t),-.001>=u&&u-l.aj>=.01*(1-l.aj)&&(Ci&&Yi("-"),l.aj=u,o+=i-t,t=i,s++))));return a(t),s}function si(e,r){var t,a,l,o,i,u,s=new Array(2);for(n(r.lb<r.ub),s[0]=s[1]=0,i=0;1>=i;i++){if(0==i){if(r.lb==-Xi)continue;Ci&&Yi("L"),l=ti(r,1),u=+r.lb}else{if(r.ub==+Xi)continue;Ci&&Yi("U"),l=ti(r,-1),u=-r.ub}if(s[i]=ui(e,l,u,function(e){u=e}),s[i]>0){if(r.lb==-Xi||r.ub==+Xi)t=null;else for(Ci&&Yi("*"),t=Po(e),0==i?(t.lb=-Xi,t.ub=r.ub):(t.lb=r.lb,t.ub=+Xi),a=r.ptr;null!=a;a=a.r_next)zo(t,a.col,a.val);for(Eo(r),r.lb=u,r.ub=+Xi,o=l;null!=o;o=o.next)zo(r,o.xj,o.aj);null!=t&&(r=t)}}return s[0]+s[1]}function ci(e){var r,t,a,l,o;for(n(e==e),r=e.r_head;null!=r;r=t)t=r.next,r.lb==-Xi&&r.ub==+Xi&&(Ci&&Yi("1"),Go(e,r));for(r=e.r_head;null!=r;r=t)t=r.next,r.lb!=-Xi&&r.ub!=+Xi&&r.lb<r.ub&&(o=Xo(e,r),0==o||(1==o?Ci&&Yi("2"):n(o!=o)));for(a=e.c_head;null!=a;a=l)l=a.next,a.lb==a.ub&&(Ci&&Yi("3"),Co(e,a));for(a=e.c_head;null!=a;a=l)l=a.next,a.lb!=-Xi&&a.ub!=+Xi&&a.lb<a.ub&&(o=Bo(e,a),0==o||1==o&&(Ci&&Yi("4"),Co(e,a)))}function fi(e,r,t){function a(){for(o=r.ptr;null!=o;o=i){for(Ci&&Yi("H"),l=o.col,i=o.r_next,u=l.ptr;null!=u;u=u.c_next)yo(e,u.row);Co(e,l)}return Go(e,r),0}var l,o,i,u,s;if(n(!(r.lb==-Xi&&r.ub==+Xi)),null==r.ptr){if(s=Do(e,r),0==s)return Ci&&Yi("A"),0;if(1==s)return wf;n(s!=s)}if(null==r.ptr.r_next)if(l=r.ptr.col,r.lb==r.ub){if(s=Vo(e,r),0==s){for(Ci&&Yi("B"),o=l.ptr;null!=o;o=o.c_next)yo(e,o.row);return Co(e,l),0}if(1==s||2==s)return wf;n(s!=s)}else{if(s=Jo(e,r),s>=0&&3>=s){if(Ci&&Yi("C"),Mo(e,l),s>=2)for(o=l.ptr;null!=o;o=o.c_next)yo(e,o.row);return 3==s&&(Ci&&Yi("D"),Co(e,l)),0}if(4==s)return wf;n(s!=s)}if(s=Zo(e,r),n(s>=0&&255>=s),51==s)return wf;if(0==(15&s))r.lb!=-Xi&&(Ci&&Yi("F"),ei(e,r,0));else if(1==(15&s));else if(2==(15&s)){if(Ci&&Yi("G"),0==$o(e,r,0))return a()}else n(s!=s);if(0==(240&s))r.ub!=+Xi&&(Ci&&Yi("I"),ei(e,r,1));else if(16==(240&s));else if(32==(240&s)){if(Ci&&Yi("J"),0==$o(e,r,1))return a()}else n(s!=s);if(r.lb==-Xi&&r.ub==+Xi){for(Ci&&Yi("K"),o=r.ptr;null!=o;o=o.r_next)Mo(e,o.col);return Go(e,r),0}return e.sol==mc&&t&&_i(e,r,1)<0?wf:0}function _i(e,r,t){var a,l,o,i,u,s,c,f,_=0;for(n(e.sol==mc),n(!(r.lb==-Xi&&r.ub==+Xi)),ni(e,r),l=r.ptr;null!=l;l=o)for(a=l.col,o=l.r_next,u=0;1>=u;u++){if(c=a.lb,f=a.ub,0==u){if(a.ll.ll==-Xi)continue;s=Ho(e,a,a.ll.ll)}else{if(a.uu.uu==+Xi)continue;s=Wo(e,a,a.uu.uu)}if(0==s||1==s)a.lb=c,a.ub=f;else if(2==s||3==s){if(Ci&&Yi("L"),_++,t)for(i=a.ptr;null!=i;i=i.c_next)i.row!=r&&yo(e,i.row);if(3==s){Ci&&Yi("M"),Co(e,a);break}}else{if(4==s)return-1;n(s!=s)}}return _}function pi(e,r){function t(){if(Ci&&Yi("O"),Qo(e,r),a.lb==-Xi&&a.ub==+Xi){for(Ci&&Yi("P"),l=a.ptr;null!=l;l=l.r_next)Mo(e,l.col);Go(e,a)}else yo(e,a);return 0}var a,l,o;if(n(r.lb<r.ub),null==r.ptr){if(o=Uo(e,r),0==o)return Ci&&Yi("N"),0;if(1==o)return xf;n(o!=o)}if(null==r.ptr.c_next)if(a=r.ptr.row,a.lb==a.ub){if(!r.is_int)return t()}else if(!r.is_int){if(o=Yo(e,r),0==o)return Ci&&Yi("Q"),t();if(1==o);else if(2==o)return xf}return 0}function mi(e,r){function t(){return n(0==i||i==wf||i==xf),Ci&&Yi(""),i}var a,l,o,i;for(ci(e),a=e.r_head;null!=a;a=a.next)a.temp=1;for(l=e.c_head;null!=l;l=l.next)l.temp=1;for(o=1;o;){for(o=0;a=e.r_head,null!=a&&a.temp;){if(wo(e,a),i=fi(e,a,r),0!=i)return t();o=1}for(;l=e.c_head,null!=l&&l.temp;){if(jo(e,l),i=pi(e,l),0!=i)return t();o=1}}if(e.sol==mc&&!r)for(a=e.r_head;null!=a;a=a.next)if(_i(e,a,0)<0)return i=wf,t();return i=0,t()}function bi(e,r){return n(e.sol==_c),n(r==r),mi(e,0)}function di(e,r){var t,a,l,o,i,u;if(n(e.sol==mc),n(r==r),u=mi(e,1),0!=u)return u;for(r.binarize&&ri(e),i=0,t=e.r_tail;null!=t;t=a)if(a=t.prev,(t.lb!=-Xi||t.ub!=+Xi)&&t.lb!=t.ub&&null!=t.ptr&&null!=t.ptr.r_next){for(o=t.ptr;null!=o&&(l=o.col,l.is_int&&0==l.lb&&1==l.ub);o=o.r_next);null==o&&(i+=li(e,t))}for(i>0&&Yi(i+" hidden packing inequaliti(es) were detected"),i=0,t=e.r_tail;null!=t;t=a)if(a=t.prev,(t.lb!=-Xi||t.ub!=+Xi)&&t.lb!=t.ub&&null!=t.ptr&&null!=t.ptr.r_next&&null!=t.ptr.r_next.r_next){for(o=t.ptr;null!=o&&(l=o.col,l.is_int&&0==l.lb&&1==l.ub);o=o.r_next);null==o&&(i+=ii(e,t))}for(i>0&&Yi(i+" hidden covering inequaliti(es) were detected"),i=0,t=e.r_tail;null!=t;t=a)a=t.prev,t.lb!=t.ub&&(i+=si(e,t));return i>0&&Yi(i+" constraint coefficient(s) were reduced"),u=0}function vi(e,n){return e-n&2147483647}function gi(e){var n,r;for(n=1,r=32;55>=r;n++,r++)e.A[n]=vi(e.A[n],e.A[r]);for(r=1;55>=n;n++,r++)e.A[n]=vi(e.A[n],e.A[r]);return e.fptr=54,e.A[55]}function hi(){var e,n={};for(n.A=new Array(56),n.A[0]=-1,e=1;55>=e;e++)n.A[e]=0;return n.fptr=0,ki(n,1),n}function ki(e,n){var r,t=n,a=1;for(n=t=vi(t,0),e.A[55]=t,r=21;r;r=(r+21)%55)e.A[r]=a,a=vi(t,a),1&n?n=1073741824+(n>>1):n>>=1,a=vi(a,n),t=e.A[r];gi(e),gi(e),gi(e),gi(e),gi(e)}function yi(e){return e.A[e.fptr]>=0?e.A[e.fptr--]:gi(e)}function wi(e,r){var t,a=2147483648,l=a-a%r;n(r>0);do t=yi(e);while(t>=l);return t%r}function xi(e){var r=yi(e)/2147483647;return n(r>=0&&1>=r),r}function Ai(e,t,a){t>=a&&r("rng_uniform: a = "+t+", b = "+a+"; invalid range");var l=xi(e);return l=t*(1-l)+a*l,n(l>=t&&a>=l),l}function Mi(e){Xd&&Yi("scf_create_it: warning: debug mode enabled"),e>=1&&32767>=e||r("scf_create_it: n_max = "+e+"; invalid parameter");var n={};return n.n_max=e,n.n=0,n.f=new Float64Array(1+e*e),n.u=new Float64Array(1+e*(e+1)/2),n.p=new Int32Array(1+e),n.t_opt=Td,n.rank=0,Xd?n.c=new Float64Array(1+e*e):n.c=null,n.w=new Float64Array(1+e),n}function ji(e,r,t){var a=e.n_max,l=e.n;return n(r>=1&&l>=r),n(t>=1&&l>=t),(r-1)*a+t}function Pi(e,r,t){var a=e.n_max,l=e.n;return n(r>=1&&l>=r),n(t>=r&&l>=t),(r-1)*a+t-r*(r-1)/2}function Li(e,r,t){var a,l,o,i,u,s,c,f=e.n,_=e.f,p=e.u;for(n(r>=1&&f>=r);f>r;r++){if(i=Pi(e,r,r),l=ji(e,r,1),u=ji(e,f,1),Math.abs(p[i])<Math.abs(t[r])){for(a=r,o=i;f>=a;a++,o++)c=p[o],p[o]=t[a],t[a]=c;for(a=1,o=l,s=u;f>=a;a++,o++,s++)c=_[o],_[o]=_[s],_[s]=c}if(Math.abs(p[i])<Bd&&(p[i]=t[r]=0),0!=t[r]){for(c=t[r]/p[i],a=r+1,o=i+1;f>=a;a++,o++)t[a]-=c*p[o];for(a=1,o=l,s=u;f>=a;a++,o++,s++)_[s]-=c*_[o]}}Math.abs(t[f])<Bd&&(t[f]=0),p[Pi(e,f,f)]=t[f]}function zi(e,n,r){var t,a,l;0==n?(a=1,l=0):Math.abs(e)<=Math.abs(n)?(t=-e/n,l=1/Math.sqrt(1+t*t),a=l*t):(t=-n/e,a=1/Math.sqrt(1+t*t),l=a*t),r(a,l)}function Ii(e,r,t){var a,l,o,i,u,s,c=e.n,f=e.f,_=e.u;for(n(r>=1&&c>=r);c>r;r++)i=Pi(e,r,r),l=ji(e,r,1),u=ji(e,c,1),Math.abs(_[i])<Bd&&Math.abs(t[r])<Bd&&(_[i]=t[r]=0),0!=t[r]&&zi(_[i],t[r],function(e,n){for(a=r,o=i;c>=a;a++,o++){var p=_[o],m=t[a];_[o]=e*p-n*m,t[a]=n*p+e*m}for(a=1,o=l,s=u;c>=a;a++,o++,s++){var b=f[o],d=f[s];f[o]=e*b-n*d,f[s]=n*b+e*d}});Math.abs(t[c])<Bd&&(t[c]=0),_[Pi(e,c,c)]=t[c]}function Ei(e,r,t){switch(e.t_opt){case Td:Li(e,r,t);break;case Gd:Ii(e,r,t);break;default:n(e!=e)}}function Fi(e){var n,r,t,a=e.n_max,l=e.n,o=e.u,i=0;for(n=1,r=Pi(e,n,n),t=a;l>=n;n++,r+=t,t--)0!=o[r]&&i++;return i}function rn(e,r){var t,a,l,o,i,u,s=e.n,c=e.f,f=e.u,_=e.p,p=e.c,m=0;for(n(null!=p),t=1;s>=t;t++)for(a=1;s>=a;a++){for(i=0,l=1;s>=l;l++)i+=c[ji(e,t,l)]*p[ji(e,l,a)];l=_[a],u=l>=t?f[Pi(e,t,l)]:0,o=Math.abs(i-u)/(1+Math.abs(u)),o>m&&(m=o)}m>1e-8&&Yi(r+": dmax = "+m+"; relative error too large")}function Si(e,n,r,t,a,l){var o=e.n_max,i=e.n,u=e.f,s=e.u,c=e.p;if(Xd)var f=e.c;var _,p,m,b,d,v,g,h=e.w,k=0;if(i==o)return k=Cd;for(e.n=++i,_=1,m=ji(e,_,i);i>_;_++,m+=o)u[m]=0;for(b=1,v=ji(e,i,b);i>b;b++,v++)u[v]=0;for(u[ji(e,i,i)]=1,_=1;i>_;_++){for(g=0,b=1,p=ji(e,_,1);i>b;b++,p++)g+=u[p]*n[b+r];s[Pi(e,_,i)]=g}for(b=1;i>b;b++)h[b]=t[c[b]+a];if(h[i]=l,c[i]=i,Xd){for(_=1,m=ji(e,_,i);i>_;_++,m+=o)f[m]=n[_+r];for(b=1,v=ji(e,i,b);i>b;b++,v++)f[v]=t[b+a];f[ji(e,i,i)]=l}for(d=1;i>d&&0==h[d];d++);return Ei(e,d,h),e.rank=Fi(e),e.rank!=i&&(k=Rd),Xd&&rn(e,"scf_update_exp"),k}function qi(e,n,r){var t,a,l,o,i=e.n,u=e.f,s=e.u,c=e.p,f=e.w;for(t=1;i>=t;t++){for(o=0,a=1,l=ji(e,t,1);i>=a;a++,l++)o+=u[l]*n[a+r];f[t]=o}for(t=i;t>=1;t--){for(o=f[t],a=i,l=Pi(e,t,i);a>t;a--,l--)o-=s[l]*f[a];f[t]=o/s[l]}for(t=1;i>=t;t++)n[c[t]+r]=f[t]}function Ni(e,n,r){var t,a,l,o,i=e.n,u=e.f,s=e.u,c=e.p,f=e.w;for(t=1;i>=t;t++)f[t]=n[c[t]+r];for(t=1;i>=t;t++)for(l=Pi(e,t,t),o=f[t]/=s[l],a=t+1,l++;i>=a;a++,l++)f[a]-=s[l]*o;for(a=1;i>=a;a++)n[a+r]=0;for(t=1;i>=t;t++)for(o=f[t],a=1,l=ji(e,t,1);i>=a;a++,l++)n[a+r]+=u[l]*o}function Oi(e,n,t,a){e.rank<e.n&&r("scf_solve_it: singular matrix"),n?Ni(e,t,a):qi(e,t,a)}function Ti(e){e.n=e.rank=0}function Gi(e,r){function t(e){var r=e.m,t=e.n,a=e.nnz,l={};return n(r>0&&t>0),l.m=r,l.n=t,l.type=new Int8Array(1+r+t),l.lb=new Float64Array(1+r+t),l.ub=new Float64Array(1+r+t),l.coef=new Float64Array(1+r+t),l.obj=new Float64Array(1+t),l.A_ptr=new Int32Array(1+t+1),l.A_ind=new Int32Array(1+a),l.A_val=new Float64Array(1+a),l.head=new Int32Array(1+r+t),l.stat=new Int8Array(1+t),l.N_ptr=new Int32Array(1+r+1),l.N_len=new Int32Array(1+r),l.N_ind=null,l.N_val=null,l.bbar=new Float64Array(1+r),l.cbar=new Float64Array(1+t),l.refsp=new Int8Array(1+r+t),l.gamma=new Float64Array(1+t),l.tcol_ind=new Int32Array(1+r),l.tcol_vec=new Float64Array(1+r),l.trow_ind=new Int32Array(1+t),l.trow_vec=new Float64Array(1+t),l.work1=new Float64Array(1+r),l.work2=new Float64Array(1+r),l.work3=new Float64Array(1+r),l.work4=new Float64Array(1+r),l}function o(e,r){var t,o,u,s,c,f,_,p=e.m,m=e.n,b=e.type,v=e.lb,g=e.ub,k=e.coef,y=e.obj,w=e.A_ptr,x=e.A_ind,A=e.A_val,M=e.head,j=e.stat,P=e.refsp,L=e.gamma;for(t=1;p>=t;t++)f=r.row[t],b[t]=f.type,v[t]=f.lb*f.rii,g[t]=f.ub*f.rii,k[t]=0;for(o=1;m>=o;o++)_=r.col[o],b[p+o]=_.type,v[p+o]=_.lb/_.sjj,g[p+o]=_.ub/_.sjj,k[p+o]=_.coef*_.sjj;for(y[0]=r.c0,a(y,1,k,p+1,m),c=0,o=1;m>=o;o++)c<Math.abs(y[o])&&(c=Math.abs(y[o]));switch(0==c&&(c=1),r.dir){case Vs:e.zeta=1/c;break;case Hs:e.zeta=-1/c;break;default:n(r!=r)}for(Math.abs(e.zeta)<1&&(e.zeta*=1e3),s=1,o=1;m>=o;o++){w[o]=s;for(var z=r.col[o].ptr;null!=z;z=z.c_next)x[s]=z.row.i,A[s]=z.row.rii*z.val*z.col.sjj,s++}for(w[m+1]=s,n(s==r.nnz+1),n(r.valid),a(M,1,r.head,1,p),u=0,t=1;p>=t;t++)f=r.row[t],f.stat!=rc&&(u++,n(m>=u),M[p+u]=t,j[u]=f.stat);for(o=1;m>=o;o++)_=r.col[o],_.stat!=rc&&(u++,n(m>=u),M[p+u]=p+o,j[u]=_.stat);for(n(u==m),e.valid=1,r.valid=0,e.bfd=r.bfd,r.bfd=null,d(e),h(e),e.phase=0,e.tm_beg=i(),e.it_beg=e.it_cnt=r.it_cnt,e.it_dpy=-1,e.refct=0,l(P,1,0,p+m),o=1;m>=o;o++)L[o]=1}function s(e,r,t,l){var o=e.m;if(Ci)var i=e.n;var u,s,c,f,_=e.A_ptr,p=e.A_ind,m=e.A_val,b=e.head;if(Ci&&n(r>=1&&o>=r),u=b[r],Ci&&n(u>=1&&o+i>=u),o>=u)s=1,t[1]=u,l[1]=1;else for(c=_[u-o],s=_[u-o+1]-c,a(t,1,p,c,s),a(l,1,m,c,s),f=1;s>=f;f++)l[f]=-l[f];return s}function c(e){var n=N(e.bfd,e.m,null,s,e);return e.valid=0==n,n}function f(e,r,t){var a=e.m;if(Ci)var l=e.n;var o,i;if(Ci&&(n(r>=1&&a>=r),n(t>=1&&a+l>=t)),a>=t){var u=new Array(2);o=new Array(2),u[1]=t,o[1]=1,n(e.valid),i=G(e.bfd,r,0,1,u,0,o)}else{var s=e.A_ptr,c=e.A_ind,f=e.A_val;o=e.work1;var _,p,m,b;for(_=s[t-a],p=s[t-a+1],b=0,m=_;p>m;m++)o[++b]=-f[m];n(e.valid),i=G(e.bfd,r,0,b,c,_-1,o)}return e.valid=0==i,i}function _(e,r,t,l){var o=e.m;if(Ci)var i=e.n;var u,s,c,f,_,p,m=e.A_ptr,b=e.A_ind,d=e.A_val,v=e.head;for(a(l,1,r,1,o),u=1;o>=u;u++)if(p=t[u],0!=p)if(s=v[u],Ci&&n(s>=1&&o+i>=s),o>=s)l[s]-=p;else for(c=m[s-o],f=m[s-o+1],_=c;f>_;_++)l[b[_]]+=d[_]*p}function p(e,r,t){var a,l=e.m,o=e.work1,i=e.work1;for(_(e,r,t,o),n(e.valid),O(e.bfd,i),a=1;l>=a;a++)t[a]+=i[a]}function m(e,r,t,a){var l=e.m;if(Ci)var o=e.n;var i,u,s,c,f,_,p=e.A_ptr,m=e.A_ind,b=e.A_val,d=e.head;for(i=1;l>=i;i++){if(u=d[i],Ci&&n(u>=1&&l+o>=u),_=r[i],l>=u)_-=t[u];else for(s=p[u-l],c=p[u-l+1],f=s;c>f;f++)_+=b[f]*t[m[f]];a[i]=_}}function b(e,r,t){var a,l=e.m,o=e.work1,i=e.work1;for(m(e,r,t,o),n(e.valid),T(e.bfd,i),a=1;l>=a;a++)t[a]+=i[a]}function d(e){var n,r,t,a,l,o=e.m,i=e.n,u=e.A_ptr,s=e.A_ind,c=e.N_ptr,f=e.N_len;for(n=1;o>=n;n++)f[n]=1;for(r=1;i>=r;r++)for(t=u[r],a=u[r+1],l=t;a>l;l++)f[s[l]]++;for(c[1]=1,n=1;o>=n;n++)f[n]>i&&(f[n]=i),c[n+1]=c[n]+f[n];e.N_ind=new Int32Array(c[o+1]),e.N_val=new Float64Array(c[o+1])}function v(e,r,t){var a=e.m;if(Ci)var l=e.n;var o,i=e.N_ptr,u=e.N_len,s=e.N_ind,c=e.N_val;if(Ci&&(n(r>=1&&l>=r),n(t>=1&&a+l>=t)),a>=t)o=i[t]+u[t]++,Ci&&n(o<i[t+1]),s[o]=r,c[o]=1;else{var f,_,p,m,b=e.A_ptr,d=e.A_ind,v=e.A_val;for(_=b[t-a],p=b[t-a+1],m=_;p>m;m++)f=d[m],o=i[f]+u[f]++,Ci&&n(o<i[f+1]),s[o]=r,c[o]=-v[m]}}function g(e,r,t){var a=e.m;if(Ci)var l=e.n;var o,i,u,s=e.N_ptr,c=e.N_len,f=e.N_ind,_=e.N_val;if(Ci&&(n(r>=1&&l>=r),
n(t>=1&&a+l>=t)),a>=t){for(i=s[t],o=i;f[o]!=r;o++);u=i+--c[t],Ci&&n(u>=o),f[o]=f[u],_[o]=_[u]}else{var p,m,b,d,v=e.A_ptr,g=e.A_ind;for(m=v[t-a],b=v[t-a+1],d=m;b>d;d++){for(p=g[d],i=s[p],o=i;f[o]!=r;o++);u=i+--c[p],Ci&&n(u>=o),f[o]=f[u],_[o]=_[u]}}}function h(e){var r,t,a=e.m,o=e.n,i=e.head,u=e.stat,s=e.N_len;for(l(s,1,0,a),r=1;o>=r;r++)u[r]!=oc&&(t=i[a+r],Ci&&n(t>=1&&a+o>=t),v(e,r,t))}function k(e,r){var t=e.m;if(Ci)var a=e.n;var l,o,i=e.lb,u=e.ub,s=e.head,c=e.stat;switch(Ci&&n(r>=1&&a>=r),l=s[t+r],Ci&&n(l>=1&&t+a>=l),c[r]){case tc:o=i[l];break;case ac:o=u[l];break;case lc:o=0;break;case oc:o=i[l];break;default:n(c!=c)}return o}function y(e,r){var t,l,o,i,u,s,c,f=e.m,_=e.n,m=e.A_ptr,b=e.A_ind,d=e.A_val,v=e.head,g=e.work2;for(t=1;f>=t;t++)g[t]=0;for(l=1;_>=l;l++)if(o=v[f+l],Ci&&n(o>=1&&f+_>=o),c=k(e,l),0!=c)if(f>=o)g[o]-=c;else for(i=m[o-f],u=m[o-f+1],s=i;u>s;s++)g[b[s]]+=c*d[s];a(r,1,g,1,f),n(e.valid),O(e.bfd,r),p(e,g,r)}function w(e,r){var t,l=e.m,o=e.coef,i=e.head,u=e.work2;for(t=1;l>=t;t++)u[t]=o[i[t]];a(r,1,u,1,l),n(e.valid),T(e.bfd,r),b(e,u,r)}function x(e,r,t){var a=e.m;if(Ci)var l=e.n;var o,i,u=e.coef,s=e.head;if(Ci&&n(t>=1&&l>=t),o=s[a+t],Ci&&n(o>=1&&a+l>=o),i=u[o],a>=o)i-=r[o];else{var c,f,_,p=e.A_ptr,m=e.A_ind,b=e.A_val;for(c=p[o-a],f=p[o-a+1],_=c;f>_;_++)i+=b[_]*r[m[_]]}return i}function A(e){y(e,e.bbar)}function M(e){if(Ci)var r=e.m;var t=e.n;if(Ci)var a=e.head;var l,o=e.cbar,i=e.work3;if(Ci)var u;for(w(e,i),l=1;t>=l;l++)Ci&&(u=a[r+l],n(u>=1&&r+t>=u)),o[l]=x(e,i,l)}function j(e){var r,t,a=e.m,o=e.n,i=e.head,u=e.refsp,s=e.gamma;for(n(0==e.refct),e.refct=1e3,l(u,1,0,a+o),r=1;o>=r;r++)t=i[a+r],u[t]=1,s[r]=1}function P(e,r){var t=e.m;if(Ci)var a=e.n;var l,o,i,u=e.head,s=e.refsp,c=e.work3,f=e.work3;for(Ci&&n(r>=1&&a>=r),o=u[t+r],Ci&&n(o>=1&&t+a>=o),l=1;t>=l;l++)f[l]=0;if(t>=o)f[o]=-1;else{var _,p,m,b=e.A_ptr,d=e.A_ind,v=e.A_val;for(_=b[o-t],p=b[o-t+1],m=_;p>m;m++)f[d[m]]=v[m]}for(n(e.valid),O(e.bfd,c),i=s[o]?1:0,l=1;t>=l;l++)o=u[l],Ci&&n(o>=1&&t+a>=o),s[o]&&(i+=c[l]*c[l]);return i}function L(e,r){var t,a,l,o,i,u=e.n,s=e.stat,c=e.cbar,f=e.gamma;for(a=0,o=0,t=1;u>=t;t++){switch(l=c[t],s[t]){case tc:if(l>=-r)continue;break;case ac:if(+r>=l)continue;break;case lc:if(l>=-r&&+r>=l)continue;break;case oc:continue;default:n(s!=s)}Ci&&n(f[t]>0),i=l*l/f[t],i>o&&(a=t,o=i)}e.q=a}function z(e){var r=e.m;if(Ci)var t=e.n;var a,l,o,i=e.head,u=e.q,s=e.tcol_ind,c=e.tcol_vec,f=e.tcol_vec;for(Ci&&n(u>=1&&t>=u),l=i[r+u],Ci&&n(l>=1&&r+t>=l),a=1;r>=a;a++)f[a]=0;if(r>=l)f[l]=-1;else{var _,p,m,b=e.A_ptr,d=e.A_ind,v=e.A_val;for(_=b[l-r],p=b[l-r+1],m=_;p>m;m++)f[d[m]]=v[m]}for(n(e.valid),O(e.bfd,c),o=0,a=1;r>=a;a++)0!=c[a]&&(s[++o]=a);e.tcol_nnz=o}function I(e){var r=e.m;if(Ci)var t=e.n;var a,l,o,i=e.head,u=e.q,s=e.tcol_ind,c=e.tcol_vec,f=e.work3;for(Ci&&n(u>=1&&t>=u),l=i[r+u],Ci&&n(l>=1&&r+t>=l),a=1;r>=a;a++)f[a]=0;if(r>=l)f[l]=-1;else{var _,m,b,d=e.A_ptr,v=e.A_ind,g=e.A_val;for(_=d[l-r],m=d[l-r+1],b=_;m>b;b++)f[v[b]]=g[b]}for(p(e,f,c),o=0,a=1;r>=a;a++)0!=c[a]&&(s[++o]=a);e.tcol_nnz=o}function E(e,r){if(Ci)var t=e.m;var a,l,o,i,u,s,c=e.tcol_nnz,f=e.tcol_ind,_=e.tcol_vec;for(i=0,o=1;c>=o;o++)Ci&&(a=f[o],n(a>=1&&t>=a)),s=Math.abs(_[f[o]]),s>i&&(i=s);for(e.tcol_max=i,u=r*(1+.01*i),l=0;c>l;)a=f[c],Math.abs(_[a])<u?c--:(l++,f[c]=f[l],f[l]=a);e.tcol_num=l}function F(e,r){function t(){e.p=s,s>0&&h[x[s]]==nc?e.p_stat=oc:e.p_stat=c,Ci&&n(v>=0),e.teta=b*v}var a=e.m;if(Ci)var l=e.n;var o,i,u,s,c,f,_,p,m,b,d,v,g,h=e.type,k=e.lb,y=e.ub,w=e.coef,x=e.head,A=e.phase,M=e.bbar,j=e.cbar,P=e.q,L=e.tcol_ind,z=e.tcol_vec,I=e.tcol_num;for(Ci&&n(P>=1&&l>=P),Ci&&n(0!=j[P]),b=j[P]>0?-1:1,u=x[a+P],Ci&&n(u>=1&&a+l>=u),h[u]==ec?(s=-1,c=0,v=y[u]-k[u],p=1):(s=0,c=0,v=Xi,p=0),f=1;I>=f;f++){if(o=L[f],Ci&&n(o>=1&&a>=o),u=x[o],Ci&&n(u>=1&&a+l>=u),_=b*z[o],Ci&&n(0!=_),_>0)if(1==A&&w[u]<0)m=r*(1+le*Math.abs(k[u])),d=(k[u]+m-M[o])/_,i=tc;else{if(1==A&&w[u]>0)continue;if(h[u]!=Zs&&h[u]!=ec&&h[u]!=nc)continue;m=r*(1+le*Math.abs(y[u])),d=(y[u]+m-M[o])/_,i=ac}else if(1==A&&w[u]>0)m=r*(1+le*Math.abs(y[u])),d=(y[u]-m-M[o])/_,i=ac;else{if(1==A&&w[u]<0)continue;if(h[u]!=$s&&h[u]!=ec&&h[u]!=nc)continue;m=r*(1+le*Math.abs(k[u])),d=(k[u]-m-M[o])/_,i=tc}0>d&&(d=0),(v>d||v==d&&p<Math.abs(_))&&(s=o,c=i,v=d,p=Math.abs(_))}if(0==r)return t();if(0>=s)return t();if(0==v)return t();for(g=v,s=0,c=0,v=Xi,p=0,f=1;I>=f;f++){if(o=L[f],Ci&&n(o>=1&&a>=o),u=x[o],Ci&&n(u>=1&&a+l>=u),_=b*z[o],Ci&&n(0!=_),_>0)if(1==A&&w[u]<0)d=(k[u]-M[o])/_,i=tc;else{if(1==A&&w[u]>0)continue;if(h[u]!=Zs&&h[u]!=ec&&h[u]!=nc)continue;d=(y[u]-M[o])/_,i=ac}else if(1==A&&w[u]>0)d=(y[u]-M[o])/_,i=ac;else{if(1==A&&w[u]<0)continue;if(h[u]!=$s&&h[u]!=ec&&h[u]!=nc)continue;d=(k[u]-M[o])/_,i=tc}0>d&&(d=0),g>=d&&p<Math.abs(_)&&(s=o,c=i,v=d,p=Math.abs(_))}n(0!=s),t()}function S(e,r){var t,a=e.m,l=e.p;for(Ci&&n(l>=1&&a>=l),t=1;a>=t;t++)r[t]=0;r[l]=1,n(e.valid),T(e.bfd,r)}function q(e,r){var t,a=e.m,l=e.p,o=e.work3;for(Ci&&n(l>=1&&a>=l),t=1;a>=t;t++)o[t]=0;o[l]=1,b(e,o,r)}function R(e,r){var t=e.m,a=e.n;if(Ci)var l=e.stat;var o,i,u,s,c,f,_,p=e.N_ptr,m=e.N_len,b=e.N_ind,d=e.N_val,v=e.trow_ind,g=e.trow_vec;for(i=1;a>=i;i++)g[i]=0;for(o=1;t>=o;o++)if(_=r[o],0!=_)for(u=p[o],s=u+m[o],c=u;s>c;c++)Ci&&(i=b[c],n(i>=1&&a>=i),n(l[i]!=oc)),g[b[c]]-=_*d[c];for(f=0,i=1;a>=i;i++)0!=g[i]&&(v[++f]=i);e.trow_nnz=f}function C(e){if(Ci)var r=e.m,t=e.n;var a,l,o=e.bbar,i=e.q,u=e.tcol_nnz,s=e.tcol_ind,c=e.tcol_vec,f=e.p,_=e.teta;if(Ci&&(n(i>=1&&t>=i),n(0>f||f>=1&&r>=f)),f>0&&(o[f]=k(e,i)+_),0!=_)for(l=1;u>=l;l++)a=s[l],a!=f&&(o[a]+=c[a]*_)}function X(e){var r=e.m;if(Ci)var t=e.n;var a,l,o,i=e.coef,u=e.head,s=e.q,c=e.tcol_nnz,f=e.tcol_ind,_=e.tcol_vec;for(Ci&&n(s>=1&&t>=s),o=i[u[r+s]],l=1;c>=l;l++)a=f[l],Ci&&n(a>=1&&r>=a),o+=i[u[a]]*_[a];return o}function B(e){if(Ci)var r=e.n;var t,a,l,o=e.cbar,i=e.q,u=e.trow_nnz,s=e.trow_ind,c=e.trow_vec;for(Ci&&n(i>=1&&r>=i),Ci&&n(0!=c[i]),l=o[i]/=c[i],a=1;u>=a;a++)t=s[a],t!=i&&(o[t]-=c[t]*l)}function D(e){var r=e.m;if(Ci)var t=e.n;var a,l,o,i,u,s,c,f,_,p,m,b,d,v,g=e.type,h=e.A_ptr,k=e.A_ind,y=e.A_val,w=e.head,x=e.refsp,A=e.gamma,M=e.q,j=e.tcol_nnz,P=e.tcol_ind,L=e.tcol_vec,z=e.p,I=e.trow_nnz,E=e.trow_ind,F=e.trow_vec,S=e.work3;for(Ci&&(n(z>=1&&r>=z),n(M>=1&&t>=M)),n(e.refct>0),e.refct--,f=_=x[w[r+M]]?1:0,a=1;r>=a;a++)S[a]=0;for(i=1;j>=i;i++)a=P[i],x[w[a]]?(S[a]=b=L[a],f+=b*b):S[a]=0;for(n(e.valid),T(e.bfd,S),p=F[M],Ci&&n(0!=p),i=1;I>=i;i++)if(l=E[i],l!=M){if(b=F[l]/p,o=w[r+l],r>=o)m=S[o];else for(m=0,u=h[o-r],s=h[o-r+1],c=u;s>c;c++)m-=y[c]*S[k[c]];d=A[l]+b*b*f+2*b*m,v=(x[o]?1:0)+_*b*b,A[l]=d>=v?d:v,A[l]<Ki&&(A[l]=Ki)}g[w[z]]==nc?A[M]=1:(A[M]=f/(p*p),A[M]<Ki&&(A[M]=Ki))}function U(e){var n,r,t,a,l=e.m,o=e.bbar;for(a=new Float64Array(1+l),y(e,a),t=0,n=1;l>=n;n++)r=Math.abs(a[n]-o[n])/(1+Math.abs(a[n])),r>t&&(t=r);return t}function K(e){var n,r,t,a,l,o=e.m,i=e.n,u=e.stat,s=e.cbar;for(l=new Float64Array(1+o),w(e,l),t=0,n=1;i>=n;n++)u[n]!=oc&&(a=x(e,l,n),r=Math.abs(a-s[n])/(1+Math.abs(a)),r>t&&(t=r));return t}function V(e){var r,t,a,l,o=e.n,i=e.stat,u=e.gamma;for(a=0,r=1;o>=r;r++)i[r]!=oc?(l=P(e,r),t=Math.abs(l-u[r])/(1+Math.abs(l)),t>a&&(a=t)):n(1==u[r]);return a}function H(e){var r=e.m;if(Ci)var t=e.n,a=e.type;var l,o=e.head,i=e.stat,u=e.q,s=e.p,c=e.p_stat;if(Ci&&n(u>=1&&t>=u),0>s)switch(Ci&&(l=o[r+u],n(l>=1&&r+t>=l),n(a[l]==ec)),i[u]){case tc:i[u]=ac;break;case ac:i[u]=tc;break;default:n(i!=i)}else{if(Ci)switch(n(s>=1&&r>=s),l=o[s],c){case tc:n(a[l]==$s||a[l]==ec);break;case ac:n(a[l]==Zs||a[l]==ec);break;case oc:n(a[l]==oc);break;default:n(c!=c)}l=o[s],o[s]=o[r+u],o[r+u]=l,i[u]=c}}function W(e,n){var r,t,a,l=e.m,o=e.n,i=e.type,u=e.lb,s=e.ub,c=e.coef,f=e.head,_=e.bbar,p=0;for(n*=.9,t=1;l+o>=t;t++)c[t]=0;for(r=1;l>=r;r++)t=f[r],(i[t]==$s||i[t]==ec||i[t]==nc)&&(a=n*(1+le*Math.abs(u[t])),_[r]<u[t]-a&&(c[t]=-1,p++)),(i[t]==Zs||i[t]==ec||i[t]==nc)&&(a=n*(1+le*Math.abs(s[t])),_[r]>s[t]+a&&(c[t]=1,p++));return p}function J(e){var n,r,t=e.m,a=e.n,l=e.coef,o=e.obj,i=e.zeta;for(n=1;t>=n;n++)l[n]=0;for(r=1;a>=r;r++)l[t+r]=i*o[r]}function Q(e,r){var t=e.m;if(Ci)var a=e.n;var l,o,i,u=e.type,s=e.lb,c=e.ub,f=e.coef,_=e.head,p=e.phase,m=e.bbar;for(l=1;t>=l;l++)if(o=_[l],Ci&&n(o>=1&&t+a>=o),1==p&&f[o]<0){if(Ci&&n(u[o]==$s||u[o]==ec||u[o]==nc),i=r*(1+le*Math.abs(s[o])),m[l]>s[o]+i)return 1}else if(1==p&&f[o]>0){if(Ci&&n(u[o]==Zs||u[o]==ec||u[o]==nc),i=r*(1+le*Math.abs(c[o])),m[l]<c[o]-i)return 1}else{if((u[o]==$s||u[o]==ec||u[o]==nc)&&(i=r*(1+le*Math.abs(s[o])),m[l]<s[o]-i))return 1;if((u[o]==Zs||u[o]==ec||u[o]==nc)&&(i=r*(1+le*Math.abs(c[o])),m[l]>c[o]+i))return 1}return 0}function Y(e,r){var t=e.m;if(Ci)var a=e.n,l=e.type;var o,i,u,s=e.lb,c=e.ub,f=e.coef,_=e.head,p=e.bbar;for(n(1==e.phase),o=1;t>=o;o++)if(i=_[o],Ci&&n(i>=1&&t+a>=i),f[i]<0){if(Ci&&n(l[i]==$s||l[i]==ec||l[i]==nc),u=r*(1+le*Math.abs(s[i])),p[o]<s[i]-u)return 1}else if(f[i]>0&&(Ci&&n(l[i]==Zs||l[i]==ec||l[i]==nc),u=r*(1+le*Math.abs(c[i])),p[o]>c[i]+u))return 1;return 0}function $(e){var r,t,a,l,o=e.m,i=e.n,u=e.obj,s=e.head,c=e.bbar;for(l=u[0],r=1;o>=r;r++)a=s[r],Ci&&n(a>=1&&o+i>=a),a>o&&(l+=u[a-o]*c[r]);for(t=1;i>=t;t++)a=s[o+t],Ci&&n(a>=1&&o+i>=a),a>o&&(l+=u[a-o]*k(e,t));return l}function Z(e,r,t){var a=e.m;if(Ci)var l=e.n;var o,s,c,f,_=e.type,p=e.lb,m=e.ub,b=e.phase,d=e.head,v=e.bbar;if(!(r.msg_lev<jc)&&!(r.out_dly>0&&1e3*u(i(),e.tm_beg)<r.out_dly)&&e.it_cnt!=e.it_dpy&&(t||e.it_cnt%r.out_frq==0)){for(f=0,c=0,o=1;a>=o;o++)s=d[o],Ci&&n(s>=1&&a+l>=s),(_[s]==$s||_[s]==ec||_[s]==nc)&&v[o]<p[s]&&(f+=p[s]-v[o]),(_[s]==Zs||_[s]==ec||_[s]==nc)&&v[o]>m[s]&&(f+=v[o]-m[s]),_[s]==nc&&c++;Yi((1==b?" ":"*")+e.it_cnt+": obj = "+$(e)+"  infeas = "+f+" ("+c+")"),e.it_dpy=e.it_cnt}}function ee(e,r,t,l,o){var i,u,s,c,f,_=e.m,p=e.n,m=e.zeta,b=e.head,d=e.stat,v=e.bbar,g=e.cbar;for(Ci&&(n(r.m==_),n(r.n==p),n(!r.valid&&null==r.bfd),n(e.valid&&null!=e.bfd)),r.valid=1,e.valid=0,r.bfd=e.bfd,e.bfd=null,a(r.head,1,b,1,_),r.pbs_stat=t,r.dbs_stat=l,r.obj_val=$(e),r.it_cnt=e.it_cnt,r.some=o,i=1;_>=i;i++)s=b[i],Ci&&n(s>=1&&_+p>=s),_>=s?(c=r.row[s],c.stat=rc,c.bind=i,c.prim=v[i]/c.rii,c.dual=0):(f=r.col[s-_],f.stat=rc,f.bind=i,f.prim=v[i]*f.sjj,f.dual=0);for(u=1;p>=u;u++)if(s=b[_+u],Ci&&n(s>=1&&_+p>=s),_>=s){switch(c=r.row[s],c.stat=d[u],c.bind=0,d[u]){case tc:c.prim=c.lb;break;case ac:c.prim=c.ub;break;case lc:c.prim=0;break;case oc:c.prim=c.lb;break;default:n(d!=d)}c.dual=g[u]*c.rii/m}else{switch(f=r.col[s-_],f.stat=d[u],f.bind=0,d[u]){case tc:f.prim=f.lb;break;case ac:f.prim=f.ub;break;case lc:f.prim=0;break;case oc:f.prim=f.lb;break;default:n(d!=d)}f.dual=g[u]/f.sjj/m}}var ne,re,te,ae,le=.1,oe=2,ie=0,ue=0,se=0,ce=0;for(ne=t(e),o(ne,e),r.msg_lev>=Lc&&Yi("Objective scale factor = "+ne.zeta);;){if(0==oe){if(ae=c(ne),0!=ae)return r.msg_lev>=Mc&&(Yi("Error: unable to factorize the basis matrix ("+ae+")"),Yi("Sorry, basis recovery procedure not implemented yet")),n(!e.valid&&null==e.bfd),e.bfd=ne.bfd,ne.bfd=null,e.pbs_stat=e.dbs_stat=bc,e.obj_val=0,e.it_cnt=ne.it_cnt,e.some=0,ae=vf;ne.valid=1,oe=1,ie=ue=0}if(0==ie&&(A(ne),ie=1,0==ne.phase&&(W(ne,r.tol_bnd)>0?ne.phase=1:(J(ne),ne.phase=2),n(0==Q(ne,r.tol_bnd)),ue=0,Z(ne,r,1)),Q(ne,r.tol_bnd)))r.msg_lev>=Mc&&Yi("Warning: numerical instability (primal simplex, phase "+(1==ne.phase?"I":"II")+")"),ne.phase=0,oe=0,se=5;else{switch(n(1==ne.phase||2==ne.phase),1!=ne.phase||Y(ne,r.tol_bnd)||(ne.phase=2,J(ne),ue=0,Z(ne,r,1)),0==ue&&(M(ne),ue=1),r.pricing){case Fc:break;case Sc:0==ne.refct&&j(ne);break;default:n(r!=r)}if(n(oe&&ie&&ue),ce){var fe=U(ne),_e=K(ne),pe=r.pricing==Sc?V(ne):0;Yi("e_bbar = "+fe+"; e_cbar = "+_e+"; e_gamma = "+pe),n(1e-5>=fe&&1e-5>=_e&&.001>=pe)}if(r.it_lim<Ui&&ne.it_cnt-ne.it_beg>=r.it_lim){if(1!=ie||2==ne.phase&&1!=ue){1!=ie&&(ie=0),2==ne.phase&&1!=ue&&(ue=0);continue}switch(Z(ne,r,1),r.msg_lev>=Pc&&Yi("ITERATION LIMIT EXCEEDED; SEARCH TERMINATED"),ne.phase){case 1:re=vc,J(ne),M(ne);break;case 2:re=dc;break;default:n(ne!=ne)}return L(ne,r.tol_dj),te=0==ne.q?dc:vc,ee(ne,e,re,te,0),ae=kf}if(r.tm_lim<Ui&&1e3*u(i(),ne.tm_beg)>=r.tm_lim){if(1!=ie||2==ne.phase&&1!=ue){1!=ie&&(ie=0),2==ne.phase&&1!=ue&&(ue=0);continue}switch(Z(ne,r,1),r.msg_lev>=Pc&&Yi("TIME LIMIT EXCEEDED; SEARCH TERMINATED"),ne.phase){case 1:re=vc,J(ne),M(ne);break;case 2:re=dc;break;default:n(ne!=ne)}return L(ne,r.tol_dj),te=0==ne.q?dc:vc,ee(ne,e,re,te,0),ae=yf}if(Z(ne,r,0),L(ne,r.tol_dj),0==ne.q){if(1!=ie||1!=ue){1!=ie&&(ie=0),1!=ue&&(ue=0);continue}switch(Z(ne,r,1),ne.phase){case 1:r.msg_lev>=Pc&&Yi("PROBLEM HAS NO FEASIBLE SOLUTION"),re=gc,J(ne),M(ne),L(ne,r.tol_dj),te=0==ne.q?dc:vc;break;case 2:r.msg_lev>=Pc&&Yi("OPTIMAL SOLUTION FOUND"),re=te=dc;break;default:n(ne!=ne)}return ee(ne,e,re,te,0),ae=0}z(ne),se&&I(ne),E(ne,r.tol_piv);var me=ne.cbar[ne.q],be=X(ne);if(n(0!=me),!(Math.abs(me-be)>1e-5*(1+Math.abs(be)))&&(0>me&&0>be||me>0&&be>0)||(r.msg_lev>=Lc&&Yi("d1 = "+me+"; d2 = "+be),1==ue&&se)){switch(me>0?ne.cbar[ne.q]=be>0?be:+Ki:ne.cbar[ne.q]=0>be?be:-Ki,r.r_test){case qc:F(ne,0);break;case Nc:F(ne,.3*r.tol_bnd);break;default:n(r!=r)}if(0==ne.p){if(1!=ie||1!=ue||!se){1!=ie&&(ie=0),1!=ue&&(ue=0),se=1;continue}switch(Z(ne,r,1),ne.phase){case 1:r.msg_lev>=Mc&&Yi("Error: unable to choose basic variable on phase I"),n(!e.valid&&null==e.bfd),e.bfd=ne.bfd,ne.bfd=null,e.pbs_stat=e.dbs_stat=bc,e.obj_val=0,e.it_cnt=ne.it_cnt,e.some=0,ae=vf;break;case 2:r.msg_lev>=Pc&&Yi("PROBLEM HAS UNBOUNDED SOLUTION"),ee(ne,e,dc,gc,ne.head[ne.m+ne.q]),ae=0;break;default:n(ne!=ne)}return ae}if(ne.p>0){var de=ne.tcol_vec[ne.p],ve=1e-5*(1+.01*ne.tcol_max);if(Math.abs(de)<ve&&(r.msg_lev>=Lc&&Yi("piv = "+de+"; eps = "+ve),!se)){se=5;continue}}if(ne.p>0){var ge=ne.work4;S(ne,ge),se&&q(ne,ge),R(ne,ge)}if(ne.p>0){var he=ne.tcol_vec[ne.p],ke=ne.trow_vec[ne.q];if(n(0!=he),Math.abs(he-ke)>1e-8*(1+Math.abs(he))||!(he>0&&ke>0||0>he&&0>ke)){if(r.msg_lev>=Lc&&Yi("piv1 = "+he+"; piv2 = "+ke),1!=oe||!se){1!=oe&&(oe=0),se=5;continue}0==ne.trow_vec[ne.q]&&(ne.trow_nnz++,n(ne.trow_nnz<=ne.n),ne.trow_ind[ne.trow_nnz]=ne.q),ne.trow_vec[ne.q]=he}}if(C(ne),ie=2,ne.p>0&&(B(ne),ue=2,1==ne.phase)){var ye=ne.head[ne.p];ne.cbar[ne.q]-=ne.coef[ye],ne.coef[ye]=0}if(ne.p>0)switch(r.pricing){case Fc:break;case Sc:ne.refct>0&&D(ne);break;default:n(r!=r)}ne.p>0&&(ae=f(ne,ne.p,ne.head[ne.m+ne.q]),0==ae?oe=2:(ne.valid=0,oe=0)),ne.p>0&&(g(ne,ne.q,ne.head[ne.m+ne.q]),ne.type[ne.head[ne.p]]!=nc&&v(ne,ne.q,ne.head[ne.p])),H(ne),ne.it_cnt++,se>0&&se--}else 1!=ue&&(ue=0),se=5}}}function Ri(e,r){function t(e){var r=e.m,t=e.n,a=e.nnz,l={};return n(r>0&&t>0),l.m=r,l.n=t,l.type=new Int8Array(1+r+t),l.lb=new Float64Array(1+r+t),l.ub=new Float64Array(1+r+t),l.coef=new Float64Array(1+r+t),l.orig_type=new Int8Array(1+r+t),l.orig_lb=new Float64Array(1+r+t),l.orig_ub=new Float64Array(1+r+t),l.obj=new Float64Array(1+t),l.A_ptr=new Int32Array(1+t+1),l.A_ind=new Int32Array(1+a),l.A_val=new Float64Array(1+a),l.AT_ptr=new Int32Array(1+r+1),l.AT_ind=new Int32Array(1+a),l.AT_val=new Float64Array(1+a),l.head=new Int32Array(1+r+t),l.bind=new Int32Array(1+r+t),l.stat=new Int8Array(1+t),l.bbar=new Float64Array(1+r),l.cbar=new Float64Array(1+t),l.refsp=new Int8Array(1+r+t),l.gamma=new Float64Array(1+r),l.trow_ind=new Int32Array(1+t),l.trow_vec=new Float64Array(1+t),l.tcol_ind=new Int32Array(1+r),l.tcol_vec=new Float64Array(1+r),l.work1=new Float64Array(1+r),l.work2=new Float64Array(1+r),l.work3=new Float64Array(1+r),l.work4=new Float64Array(1+r),l}function o(e,r){var t,o,u,s,c,f,_=e.m,p=e.n,m=e.type,b=e.lb,d=e.ub,v=e.coef,g=e.orig_type,h=e.orig_lb,k=e.orig_ub,y=e.obj,w=e.head,x=e.bind,A=e.stat,M=e.refsp,j=e.gamma;for(t=1;_>=t;t++)c=r.row[t],m[t]=c.type,b[t]=c.lb*c.rii,d[t]=c.ub*c.rii,v[t]=0;for(o=1;p>=o;o++)f=r.col[o],m[_+o]=f.type,b[_+o]=f.lb/f.sjj,d[_+o]=f.ub/f.sjj,v[_+o]=f.coef*f.sjj;for(a(g,1,m,1,_+p),a(h,1,b,1,_+p),a(k,1,d,1,_+p),y[0]=r.c0,a(y,1,v,_+1,p),s=0,o=1;p>=o;o++)s<Math.abs(y[o])&&(s=Math.abs(y[o]));switch(0==s&&(s=1),r.dir){case Vs:e.zeta=1/s;break;case Hs:e.zeta=-1/s;break;default:n(r!=r)}for(Math.abs(e.zeta)<1&&(e.zeta*=1e3),o=1;p>=o;o++)v[_+o]*=e.zeta;for(chrome_workaround_1(e,r),chrome_workaround_2(e,r),n(r.valid),a(w,1,r.head,1,_),u=0,t=1;_>=t;t++)c=r.row[t],c.stat!=rc&&(u++,n(p>=u),w[_+u]=t,A[u]=c.stat);for(o=1;p>=o;o++)f=r.col[o],f.stat!=rc&&(u++,n(p>=u),w[_+u]=_+o,A[u]=f.stat);for(n(u==p),u=1;_+p>=u;u++)x[w[u]]=u;for(e.valid=1,r.valid=0,e.bfd=r.bfd,r.bfd=null,e.phase=0,e.tm_beg=i(),e.it_beg=e.it_cnt=r.it_cnt,e.it_dpy=-1,e.refct=0,l(M,1,0,_+p),t=1;_>=t;t++)j[t]=1}function s(e,r,t,l){var o=e.m;if(Ci)var i=e.n;var u,s,c,f,_=e.A_ptr,p=e.A_ind,m=e.A_val,b=e.head;if(Ci&&n(r>=1&&o>=r),u=b[r],Ci&&n(u>=1&&o+i>=u),o>=u)s=1,t[1]=u,l[1]=1;else for(c=_[u-o],s=_[u-o+1]-c,a(t,1,p,c,s),a(l,1,m,c,s),f=1;s>=f;f++)l[f]=-l[f];return s}function c(e){var n=N(e.bfd,e.m,null,s,e);return e.valid=0==n,n}function f(e,r,t){var a=e.m;if(Ci)var l=e.n;var o,i;if(Ci&&(n(r>=1&&a>=r),n(t>=1&&a+l>=t)),a>=t){var u=new Array(2);i=new Array(2),u[1]=t,i[1]=1,n(e.valid),o=G(e.bfd,r,0,1,u,0,i)}else{var s=e.A_ptr,c=e.A_ind,f=e.A_val;i=e.work1;var _,p,m,b;for(_=s[t-a],p=s[t-a+1],b=0,m=_;p>m;m++)i[++b]=-f[m];n(e.valid),o=G(e.bfd,r,0,b,c,_-1,i)}return e.valid=0==o,o}function _(e,r,t,l){var o=e.m;if(Ci)var i=e.n;var u,s,c,f,_,p,m=e.A_ptr,b=e.A_ind,d=e.A_val,v=e.head;for(a(l,1,r,1,o),u=1;o>=u;u++)if(p=t[u],0!=p)if(s=v[u],Ci&&n(s>=1&&o+i>=s),o>=s)l[s]-=p;else for(c=m[s-o],f=m[s-o+1],_=c;f>_;_++)l[b[_]]+=d[_]*p}function p(e,r,t){var a,l=e.m,o=e.work1,i=e.work1;for(_(e,r,t,o),n(e.valid),O(e.bfd,i),a=1;l>=a;a++)t[a]+=i[a]}function m(e,r,t,a){var l=e.m;if(Ci)var o=e.n;var i,u,s,c,f,_,p=e.A_ptr,m=e.A_ind,b=e.A_val,d=e.head;for(i=1;l>=i;i++){if(u=d[i],Ci&&n(u>=1&&l+o>=u),_=r[i],l>=u)_-=t[u];else for(s=p[u-l],c=p[u-l+1],f=s;c>f;f++)_+=b[f]*t[m[f]];a[i]=_}}function b(e,r,t){var a,l=e.m,o=e.work1,i=e.work1;for(m(e,r,t,o),n(e.valid),T(e.bfd,i),a=1;l>=a;a++)t[a]+=i[a]}function d(e,r){var t=e.m;if(Ci)var a=e.n;var l,o,i=e.lb,u=e.ub,s=e.head,c=e.stat;switch(Ci&&n(r>=1&&a>=r),l=s[t+r],Ci&&n(l>=1&&t+a>=l),c[r]){case tc:o=i[l];break;case ac:o=u[l];break;case lc:o=0;break;case oc:o=i[l];break;default:n(c!=c)}return o}function v(e,r){var t,l,o,i,u,s,c,f=e.m,_=e.n,m=e.A_ptr,b=e.A_ind,v=e.A_val,g=e.head,h=e.work2;for(t=1;f>=t;t++)h[t]=0;for(l=1;_>=l;l++)if(o=g[f+l],Ci&&n(o>=1&&f+_>=o),c=d(e,l),0!=c)if(f>=o)h[o]-=c;else for(i=m[o-f],u=m[o-f+1],s=i;u>s;s++)h[b[s]]+=c*v[s];a(r,1,h,1,f),n(e.valid),O(e.bfd,r),p(e,h,r)}function g(e,r){var t,l=e.m,o=e.coef,i=e.head,u=e.work2;for(t=1;l>=t;t++)u[t]=o[i[t]];a(r,1,u,1,l),n(e.valid),T(e.bfd,r),b(e,u,r)}function h(e,r,t){var a=e.m;if(Ci)var l=e.n;var o,i,u=e.coef,s=e.head;if(Ci&&n(t>=1&&l>=t),o=s[a+t],Ci&&n(o>=1&&a+l>=o),i=u[o],a>=o)i-=r[o];else{var c,f,_,p=e.A_ptr,m=e.A_ind,b=e.A_val;for(c=p[o-a],f=p[o-a+1],_=c;f>_;_++)i+=b[_]*r[m[_]]}return i}function k(e){v(e,e.bbar)}function y(e){if(Ci)var r=e.m;var t=e.n;if(Ci)var a=e.head;var l,o=e.cbar,i=e.work3;if(Ci)var u;for(g(e,i),l=1;t>=l;l++)Ci&&(u=a[r+l],n(u>=1&&r+t>=u)),o[l]=h(e,i,l)}function w(e){var r,t,a=e.m,o=e.n,i=e.head,u=e.refsp,s=e.gamma;for(n(0==e.refct),e.refct=1e3,l(u,1,0,a+o),r=1;a>=r;r++)t=i[r],u[t]=1,s[r]=1}function x(e,r){var t,a,l,o=e.m,i=e.n,u=e.type,s=e.head,c=e.refsp,f=e.work3,_=e.work3;for(t=1;o>=t;t++)l=s[t],Ci&&n(l>=1&&o+i>=l),u[l]==Ys?r[t]=1:r[t]=c[l]?1:0;for(a=1;i>=a;a++)if(l=s[o+a],Ci&&n(l>=1&&o+i>=l),c[l]){for(Ci&&n(u[l]!=nc),t=1;o>=t;t++)_[t]=0;if(o>=l)_[l]=-1;else{var p,m,b,d=e.A_ptr,v=e.A_ind,g=e.A_val;for(p=d[l-o],m=d[l-o+1],b=p;m>b;b++)_[v[b]]=g[b]}for(n(e.valid),O(e.bfd,f),t=1;o>=t;t++)l=s[t],u[l]!=Ys&&(r[t]+=f[t]*f[t])}}function A(e,r){var t=e.m;if(Ci)var a=e.n;var l,o,i,u,s,c,f,_,p=e.type,m=e.lb,b=e.ub,d=e.head,v=e.bbar,g=e.gamma;for(i=0,u=0,s=0,l=1;t>=l;l++)o=d[l],Ci&&n(o>=1&&t+a>=o),f=0,(p[o]==$s||p[o]==ec||p[o]==nc)&&(c=r*(1+$*Math.abs(m[o])),v[l]<m[o]-c&&(f=m[o]-v[l])),(p[o]==Zs||p[o]==ec||p[o]==nc)&&(c=r*(1+$*Math.abs(b[o])),v[l]>b[o]+c&&(f=b[o]-v[l])),0!=f&&(Ci&&n(g[l]>=0),_=g[l],Ki>_&&(_=Ki),_=f*f/_,_>s&&(i=l,u=f,s=_));e.p=i,e.delta=u}function M(e,r){var t,a=e.m,l=e.p;for(Ci&&n(l>=1&&a>=l),t=1;a>=t;t++)r[t]=0;r[l]=1,n(e.valid),T(e.bfd,fe)}function j(e,r){var t,a=e.m,l=e.p,o=e.work3;for(Ci&&n(l>=1&&a>=l),t=1;a>=t;t++)o[t]=0;o[l]=1,b(e,o,r)}function P(e,n){var r,t,a,l,o,i,u,s=e.m,c=e.n,f=e.A_ptr,_=e.A_ind,p=e.A_val,m=e.head,b=e.stat,d=e.trow_ind,v=e.trow_vec;for(i=0,r=1;c>=r;r++)if(b[r]!=oc){if(t=m[s+r],s>=t)u=-n[t];else for(a=f[t-s],l=f[t-s+1],u=0,o=a;l>o;o++)u+=n[_[o]]*p[o];0!=u&&(d[++i]=r),v[r]=u}else v[r]=0;e.trow_nnz=i}function L(e,n){var r,t,a,l,o,i,u,s=e.m,c=e.n,f=e.AT_ptr,_=e.AT_ind,p=e.AT_val,m=e.bind,b=e.stat,d=e.trow_ind,v=e.trow_vec;for(t=1;c>=t;t++)v[t]=0;for(r=1;s>=r;r++)if(u=n[r],0!=u)for(t=m[r]-s,t>=1&&b[t]!=oc&&(v[t]-=u),a=f[r],l=f[r+1],o=a;l>o;o++)t=m[s+_[o]]-s,t>=1&&b[t]!=oc&&(v[t]+=u*p[o]);for(i=0,t=1;c>=t;t++)0!=v[t]&&(d[++i]=t);e.trow_nnz=i}function z(e,n){var r,t,a,l=e.m;for(t=0,r=1;l>=r;r++)0!=n[r]&&t++;a=t/l,a>=.2?P(e,n):L(e,n)}function I(e,r){if(Ci)var t=e.n,a=e.stat;var l,o,i,u,s,c,f=e.trow_nnz,_=e.trow_ind,p=e.trow_vec;for(u=0,i=1;f>=i;i++)Ci&&(l=_[i],n(l>=1&&t>=l),n(a[l]!=oc)),c=Math.abs(p[_[i]]),c>u&&(u=c);for(e.trow_max=u,s=r*(1+.01*u),o=0;f>o;)l=_[f],Math.abs(p[l])<s?f--:(o++,_[f]=_[o],_[o]=l);e.trow_num=o}function E(e,r){function t(){e.q=f,e.new_dq=m*d}if(Ci)var a=e.m,l=e.n;var o=e.stat,i=e.cbar;if(Ci)var u=e.p;var s,c,f,_,p,m,b,d,v,g=e.delta,h=e.trow_ind,k=e.trow_vec,y=e.trow_num;for(Ci&&n(u>=1&&a>=u),Ci&&n(0!=g),m=g>0?1:-1,f=0,d=Xi,p=0,c=1;y>=c;c++){if(s=h[c],Ci&&n(s>=1&&l>=s),_=m*k[s],Ci&&n(0!=_),_>0){if(o[s]!=tc&&o[s]!=lc)continue;b=(i[s]+r)/_}else{if(o[s]!=ac&&o[s]!=lc)continue;b=(i[s]-r)/_}0>b&&(b=0),(d>b||d==b&&p<Math.abs(_))&&(f=s,d=b,p=Math.abs(_))}if(0==r)return t();if(0==f)return t();if(0==d)return t();for(v=d,f=0,d=Xi,p=0,c=1;y>=c;c++){if(s=h[c],Ci&&n(s>=1&&l>=s),_=m*k[s],Ci&&n(0!=_),_>0){if(o[s]!=tc&&o[s]!=lc)continue;b=i[s]/_}else{if(o[s]!=ac&&o[s]!=lc)continue;b=i[s]/_}0>b&&(b=0),v>=b&&p<Math.abs(_)&&(f=s,d=b,p=Math.abs(_))}n(0!=f),t()}function F(e){var r=e.m;if(Ci)var t=e.n;var a,l,o,i=e.head,u=e.q,s=e.tcol_ind,c=e.tcol_vec,f=e.tcol_vec;for(Ci&&n(u>=1&&t>=u),l=i[r+u],Ci&&n(l>=1&&r+t>=l),a=1;r>=a;a++)f[a]=0;if(r>=l)f[l]=-1;else{var _,p,m,b=e.A_ptr,d=e.A_ind,v=e.A_val;for(_=b[l-r],p=b[l-r+1],m=_;p>m;m++)f[d[m]]=v[m]}for(n(e.valid),O(e.bfd,c),o=0,a=1;r>=a;a++)0!=c[a]&&(s[++o]=a);e.tcol_nnz=o}function S(e){var r=e.m;if(Ci)var t=e.n;var a,l,o,i=e.head,u=e.q,s=e.tcol_ind,c=e.tcol_vec,f=e.work3;for(Ci&&n(u>=1&&t>=u),l=i[r+u],Ci&&n(l>=1&&r+t>=l),a=1;r>=a;a++)f[a]=0;if(r>=l)f[l]=-1;else{var _,m,b,d=e.A_ptr,v=e.A_ind,g=e.A_val;for(_=d[l-r],m=d[l-r+1],b=_;m>b;b++)f[v[b]]=g[b]}for(p(e,f,c),o=0,a=1;r>=a;a++)0!=c[a]&&(s[++o]=a);e.tcol_nnz=o}function q(e){if(Ci)var r=e.n;var t,a,l=e.cbar,o=e.trow_nnz,i=e.trow_ind,u=e.trow_vec,s=e.q,c=e.new_dq;if(Ci&&n(s>=1&&r>=s),l[s]=c,0!=c)for(a=1;o>=a;a++)t=i[a],Ci&&n(t>=1&&r>=t),t!=s&&(l[t]-=u[t]*c)}function R(e){if(Ci)var r=e.m,t=e.n;var a,l,o,i=e.bbar,u=e.p,s=e.delta,c=e.q,f=e.tcol_nnz,_=e.tcol_ind,p=e.tcol_vec;if(Ci&&(n(u>=1&&r>=u),n(c>=1&&t>=c),n(0!=p[u])),o=s/p[u],i[u]=d(e,c)+o,0!=o)for(l=1;f>=l;l++)a=_[l],Ci&&n(a>=1&&r>=a),a!=u&&(i[a]+=p[a]*o)}function C(e){var r=e.m;if(Ci)var t=e.n;var a,l,o,i,u,s,c,f,_,p,m=e.type,b=e.head,d=e.refsp,v=e.gamma,g=e.p,h=e.trow_nnz,k=e.trow_ind,y=e.trow_vec,w=e.q,x=e.tcol_nnz,A=e.tcol_ind,M=e.tcol_vec,j=e.work3;for(Ci&&(n(g>=1&&r>=g),n(w>=1&&t>=w)),n(e.refct>0),e.refct--,Ci&&n(m[b[g]]!=Ys),u=s=d[b[g]]?1:0,a=1;r>=a;a++)j[a]=0;for(i=1;h>=i;i++)if(l=k[i],Ci&&n(l>=1&&t>=l),o=b[r+l],Ci&&(n(o>=1&&r+t>=o),n(m[o]!=nc)),d[o])if(f=y[l],u+=f*f,r>=o)j[o]+=f;else{var P,L,z,I=e.A_ptr,E=e.A_ind,F=e.A_val;for(P=I[o-r],L=I[o-r+1],z=P;L>z;z++)j[E[z]]-=f*F[z]}for(n(e.valid),O(e.bfd,j),c=M[g],Ci&&n(0!=c),i=1;x>=i;i++)a=A[i],Ci&&n(a>=1&&r>=a),o=b[a],Ci&&n(o>=1&&r+t>=o),a!=g&&(m[b[a]]!=Ys?(f=M[a]/c,_=v[a]+f*f*u+2*f*j[a],p=(d[o]?1:0)+s*f*f,v[a]=_>=p?_:p,v[a]<Ki&&(v[a]=Ki)):Ci&&n(1==v[a]));if(m[b[r+w]]==Ys?v[g]=1:(v[g]=u/(c*c),v[g]<Ki&&(v[g]=Ki)),o=b[g],m[o]==nc&&d[o])for(d[o]=0,i=1;x>=i;i++){if(a=A[i],a==g){if(m[b[r+w]]==Ys)continue;f=1/M[g]}else{if(m[b[a]]==Ys)continue;f=M[a]/M[g]}v[a]-=f*f,v[a]<Ki&&(v[a]=Ki)}}function X(e){var n,r,t,a=e.m,l=e.bbar,o=new Float64Array(1+a);for(v(e,o),t=0,n=1;a>=n;n++)r=Math.abs(o[n]-l[n])/(1+Math.abs(o[n])),r>t&&(t=r);return t}function B(e){var n,r,t,a,l=e.m,o=e.n,i=e.stat,u=e.cbar,s=new Float64Array(1+l);for(g(e,s),t=0,n=1;o>=n;n++)i[n]!=oc&&(a=h(e,s,n),r=Math.abs(a-u[n])/(1+Math.abs(a)),r>t&&(t=r));return t}function D(e){var r,t,a,l,o=e.m,i=e.type,u=e.head,s=e.gamma,c=e.work4;for(x(e,c),a=0,r=1;o>=r;r++)i[u[r]]!=Ys?(l=c[r],t=Math.abs(l-s[r])/(1+Math.abs(l)),t>a&&(a=t)):(n(1==s[r]),n(1==c[r]));return a}function U(e){var r=e.m;if(Ci)var t=e.n;var a,l=e.type,o=e.head,i=e.bind,u=e.stat,s=e.p,c=e.delta,f=e.q;Ci&&(n(s>=1&&r>=s),n(f>=1&&t>=f)),a=o[s],o[s]=o[r+f],o[r+f]=a,i[o[s]]=s,i[o[r+f]]=r+f,l[a]==nc?u[f]=oc:c>0?(Ci&&n(l[a]==$s||l[a]==ec),u[f]=tc):(Ci&&n(l[a]==Zs||l[a]==ec),u[f]=ac)}function K(e,r){var t,a,l=e.m,o=e.n,i=e.orig_type,u=e.head,s=e.cbar;for(t=1;o>=t;t++){if(a=u[l+t],Ci&&n(a>=1&&l+o>=a),s[t]<-r&&(i[a]==$s||i[a]==Ys))return 1;if(s[t]>+r&&(i[a]==Zs||i[a]==Ys))return 1}return 0}function V(e){var r,t,a=e.m,l=e.n,o=e.type,i=e.lb,u=e.ub,s=e.orig_type,c=e.head,f=e.stat,_=e.cbar;for(t=1;a+l>=t;t++)switch(s[t]){case Ys:o[t]=ec,i[t]=-1e3,u[t]=1e3;break;case $s:o[t]=ec,i[t]=0,u[t]=1;break;case Zs:o[t]=ec,i[t]=-1,u[t]=0;break;case ec:case nc:o[t]=nc,i[t]=u[t]=0;break;default:n(s!=s)}for(r=1;l>=r;r++)t=c[a+r],Ci&&n(t>=1&&a+l>=t),o[t]==nc?f[r]=oc:_[r]>=0?f[r]=tc:f[r]=ac}function H(e){var r,t,l=e.m,o=e.n,i=e.type,u=e.lb,s=e.ub,c=e.orig_type,f=e.orig_lb,_=e.orig_ub,p=e.head,m=e.stat,b=e.cbar;for(a(i,1,c,1,l+o),a(u,1,f,1,l+o),a(s,1,_,1,l+o),r=1;o>=r;r++)switch(t=p[l+r],Ci&&n(t>=1&&l+o>=t),i[t]){case Ys:m[r]=lc;break;case $s:m[r]=tc;break;case Zs:m[r]=ac;break;case ec:b[r]>=+Ki?m[r]=tc:b[r]<=-Ki?m[r]=ac:Math.abs(u[t])<=Math.abs(s[t])?m[r]=tc:m[r]=ac;break;case nc:m[r]=oc;break;default:n(i!=i)}}function W(e,n){var r,t=e.n,a=e.stat,l=e.cbar;for(r=1;t>=r;r++){if(l[r]<-n&&(a[r]==tc||a[r]==lc))return 1;if(l[r]>+n&&(a[r]==ac||a[r]==lc))return 1}return 0}function J(e){var r,t,a,l,o=e.m,i=e.n,u=e.obj,s=e.head,c=e.bbar;for(l=u[0],r=1;o>=r;r++)a=s[r],Ci&&n(a>=1&&o+i>=a),a>o&&(l+=u[a-o]*c[r]);for(t=1;i>=t;t++)a=s[o+t],Ci&&n(a>=1&&o+i>=a),a>o&&(l+=u[a-o]*d(e,t));return l}function Q(e,n,r){var t,a,l,o,s=e.m,c=e.n,f=e.coef,_=e.orig_type,p=e.head,m=e.stat,b=e.phase,v=e.bbar,g=e.cbar;if(!(n.msg_lev<jc)&&!(n.out_dly>0&&1e3*u(i(),e.tm_beg)<n.out_dly)&&e.it_cnt!=e.it_dpy&&(r||e.it_cnt%n.out_frq==0)){if(o=0,1==b){for(t=1;s>=t;t++)o-=f[p[t]]*v[t];for(a=1;c>=a;a++)o-=f[p[s+a]]*d(e,a)}else for(a=1;c>=a;a++)g[a]<0&&(m[a]==tc||m[a]==lc)&&(o-=g[a]),g[a]>0&&(m[a]==ac||m[a]==lc)&&(o+=g[a]);for(l=0,t=1;s>=t;t++)_[p[t]]==nc&&l++;Yi(1==e.phase?" "+e.it_cnt+":  infeas = "+o+" ("+l+")":"|"+e.it_cnt+": obj = "+J(e)+"  infeas = "+o+" ("+l+")"),e.it_dpy=e.it_cnt}}function Y(e,r,t,l,o){var i,u,s,c,f,_=e.m,p=e.n,m=e.zeta,b=e.head,d=e.stat,v=e.bbar,g=e.cbar;for(Ci&&(n(r.m==_),n(r.n==p),n(!r.valid&&null==r.bfd),n(e.valid&&null!=e.bfd)),r.valid=1,e.valid=0,r.bfd=e.bfd,e.bfd=null,a(r.head,1,b,1,_),r.pbs_stat=t,r.dbs_stat=l,r.obj_val=J(e),r.it_cnt=e.it_cnt,r.some=o,i=1;_>=i;i++)s=b[i],Ci&&n(s>=1&&_+p>=s),_>=s?(f=r.row[s],f.stat=rc,f.bind=i,f.prim=v[i]/f.rii,f.dual=0):(c=r.col[s-_],c.stat=rc,c.bind=i,c.prim=v[i]*c.sjj,c.dual=0);for(u=1;p>=u;u++)if(s=b[_+u],Ci&&n(s>=1&&_+p>=s),_>=s){switch(f=r.row[s],f.stat=d[u],f.bind=0,d[u]){case tc:f.prim=f.lb;break;case ac:f.prim=f.ub;break;case lc:f.prim=0;break;case oc:f.prim=f.lb;break;default:n(d!=d)}f.dual=g[u]*f.rii/m}else{switch(c=r.col[s-_],c.stat=d[u],c.bind=0,d[u]){case tc:c.prim=c.lb;break;case ac:c.prim=c.ub;break;case lc:c.prim=0;break;case oc:c.prim=c.lb;break;default:n(d!=d)}c.dual=g[u]/c.sjj/m}}var $=.1;this.chrome_workaround_1=function(e,r){var t,a,l,o=e.A_ptr,i=e.A_ind,u=e.A_val,s=e.n;for(a=1,l=1;s>=l;l++)for(o[l]=a,t=r.col[l].ptr;null!=t;t=t.c_next)i[a]=t.row.i,u[a]=t.row.rii*t.val*t.col.sjj,a++;o[s+1]=a,n(a-1==r.nnz)},this.chrome_workaround_2=function(e,r){var t,a,l,o=e.AT_ptr,i=e.AT_ind,u=e.AT_val,s=e.m;for(t=1,a=1;s>=a;a++)for(o[a]=t,l=r.row[a].ptr;null!=l;l=l.r_next)i[t]=l.col.j,u[t]=l.row.rii*l.val*l.col.sjj,t++;o[s+1]=t,n(t-1==r.nnz)};var Z,ee,ne,re,te=2,ae=0,le=0,oe=0,ie=0;for(Z=t(e),o(Z,e),r.msg_lev>=Lc&&Yi("Objective scale factor = "+Z.zeta);;){if(0==te){if(re=c(Z),0!=re)return r.msg_lev>=Mc&&(Yi("Error: unable to factorize the basis matrix ("+re+")"),Yi("Sorry, basis recovery procedure not implemented yet")),n(!e.valid&&null==e.bfd),e.bfd=Z.bfd,Z.bfd=null,e.pbs_stat=e.dbs_stat=bc,e.obj_val=0,e.it_cnt=Z.it_cnt,e.some=0,re=vf;Z.valid=1,te=1,ae=le=0}if(0!=le||(y(Z),le=1,0==Z.phase&&(0!=K(Z,.9*r.tol_dj)?(Z.phase=1,V(Z)):(Z.phase=2,H(Z)),n(0==W(Z,r.tol_dj)),Z.refct=0,ae=0),0==W(Z,r.tol_dj))){switch(n(1==Z.phase||2==Z.phase),1==Z.phase&&0==K(Z,r.tol_dj)&&(Q(Z,r,1),Z.phase=2,1!=le&&(y(Z),le=1),H(Z),Z.refct=0,ae=0),0==ae&&(k(Z),2==Z.phase&&(Z.bbar[0]=J(Z)),ae=1),r.pricing){case Fc:break;case Sc:0==Z.refct&&w(Z);break;default:n(r!=r)}if(n(te&&ae&&le),ie){var ue=X(Z),se=B(Z),ce=r.pricing==Sc?D(Z):0;Yi("e_bbar = "+ue+"; e_cbar = "+se+"; e_gamma = "+ce),n(1e-5>=ue&&1e-5>=se&&.001>=ce)}if(2==Z.phase&&Z.zeta<0&&r.obj_ll>-Xi&&Z.bbar[0]<=r.obj_ll){if(1!=ae||1!=le){1!=ae&&(ae=0),1!=le&&(le=0);continue}return Q(Z,r,1),r.msg_lev>=Pc&&Yi("OBJECTIVE LOWER LIMIT REACHED; SEARCH TERMINATED"),Y(Z,e,vc,dc,0),re=gf}if(2==Z.phase&&Z.zeta>0&&r.obj_ul<+Xi&&Z.bbar[0]>=r.obj_ul){if(1!=ae||1!=le){1!=ae&&(ae=0),1!=le&&(le=0);continue}return Q(Z,r,1),r.msg_lev>=Pc&&Yi("OBJECTIVE UPPER LIMIT REACHED; SEARCH TERMINATED"),Y(Z,e,vc,dc,0),re=hf}if(r.it_lim<Ui&&Z.it_cnt-Z.it_beg>=r.it_lim){if(2==Z.phase&&1!=ae||1!=le){2==Z.phase&&1!=ae&&(ae=0),1!=le&&(le=0);continue}switch(Q(Z,r,1),r.msg_lev>=Pc&&Yi("ITERATION LIMIT EXCEEDED; SEARCH TERMINATED"),Z.phase){case 1:ne=vc,H(Z),k(Z);break;case 2:ne=dc;break;default:n(Z!=Z)}return Y(Z,e,vc,ne,0),re=kf}if(r.tm_lim<Ui&&1e3*u(i(),Z.tm_beg)>=r.tm_lim){if(2==Z.phase&&1!=ae||1!=le){2==Z.phase&&1!=ae&&(ae=0),1!=le&&(le=0);continue}switch(Q(Z,r,1),r.msg_lev>=Pc&&Yi("TIME LIMIT EXCEEDED; SEARCH TERMINATED"),Z.phase){case 1:ne=vc,H(Z),k(Z);break;case 2:ne=dc;break;default:n(Z!=Z)}return Y(Z,e,vc,ne,0),re=yf}if(Q(Z,r,0),A(Z,r.tol_bnd),0==Z.p){if(1!=ae||1!=le){1!=ae&&(ae=0),1!=le&&(le=0);continue}switch(Q(Z,r,1),Z.phase){case 1:r.msg_lev>=Pc&&Yi("PROBLEM HAS NO DUAL FEASIBLE SOLUTION"),H(Z),k(Z),ee=vc,ne=gc;break;case 2:r.msg_lev>=Pc&&Yi("OPTIMAL SOLUTION FOUND"),ee=ne=dc;break;default:n(Z!=Z)}return Y(Z,e,ee,ne,0),re=0}var fe=Z.work4;switch(M(Z,fe),oe&&j(Z,fe),z(Z,fe),I(Z,r.tol_bnd),r.r_test){case qc:E(Z,0);break;case Nc:E(Z,.3*r.tol_dj);break;default:n(r!=r)}if(0==Z.q){if(1!=ae||1!=le||!oe){1!=ae&&(ae=0),1!=le&&(le=0),oe=1;continue}switch(Q(Z,r,1),Z.phase){case 1:r.msg_lev>=Mc&&Yi("Error: unable to choose basic variable on phase I"),n(!e.valid&&null==e.bfd),e.bfd=Z.bfd,Z.bfd=null,e.pbs_stat=e.dbs_stat=bc,e.obj_val=0,e.it_cnt=Z.it_cnt,e.some=0,re=vf;break;case 2:r.msg_lev>=Pc&&Yi("PROBLEM HAS NO FEASIBLE SOLUTION"),Y(Z,e,gc,dc,Z.head[Z.p]),re=0;break;default:n(Z!=Z)}return re}var _e=Z.trow_vec[Z.q],pe=1e-5*(1+.01*Z.trow_max);if(Math.abs(_e)<pe&&(r.msg_lev>=Lc&&Yi("piv = "+_e+"; eps = "+pe),!oe))oe=5;else{F(Z),oe&&S(Z);var me=Z.tcol_vec[Z.p],be=Z.trow_vec[Z.q];if(n(0!=me),Math.abs(me-be)>1e-8*(1+Math.abs(me))||!(me>0&&be>0||0>me&&0>be)){if(r.msg_lev>=Lc&&Yi("piv1 = "+me+"; piv2 = "+be),1!=te||!oe){1!=te&&(te=0),oe=5;continue}0==Z.tcol_vec[Z.p]&&(Z.tcol_nnz++,n(Z.tcol_nnz<=Z.m),Z.tcol_ind[Z.tcol_nnz]=Z.p),Z.tcol_vec[Z.p]=be}switch(R(Z),2==Z.phase&&(Z.bbar[0]+=Z.cbar[Z.q]/Z.zeta*(Z.delta/Z.tcol_vec[Z.p])),ae=2,q(Z),le=2,r.pricing){case Fc:break;case Sc:Z.refct>0&&C(Z);break;default:n(r!=r)}re=f(Z,Z.p,Z.head[Z.m+Z.q]),0==re?te=2:(Z.valid=0,te=0),U(Z),Z.it_cnt++,oe>0&&oe--}}else{if(r.msg_lev>=Mc&&Yi("Warning: numerical instability (dual simplex, phase "+(1==Z.phase?"I":"II")+")"),r.meth==Ic)return Y(Z,e,bc,bc,0),re=vf;Z.phase=0,te=0,oe=5}}}var Ci=!1,Xi=Number.MAX_VALUE,Bi=Number.MIN_VALUE,Di=16,Ui=2147483647,Ki=2.220446049250313e-16,Vi=1,Hi=1e8,Wi=1e8,Ji=5e8,Qi=-1,Yi=function(e){};
e.glp_get_print_func=function(){return Yi},e.glp_set_print_func=function(e){Yi=e};var $i={},Zi=e.glp_version=function(){return Us+"."+Ks},eu=3621377730,nu=e.glp_create_prob=function(){var e={};return h(e),e},ru=e.glp_set_prob_name=function(e,n){var t=e.tree;null!=t&&0!=t.reason&&r("glp_set_prob_name: operation not allowed"),e.name=n},tu=e.glp_set_obj_name=function(e,n){var t=e.tree;null!=t&&0!=t.reason&&r("glp_set_obj_name: operation not allowed"),e.obj=n},au=e.glp_set_obj_dir=function(e,n){var t=e.tree;null!=t&&0!=t.reason&&r("glp_set_obj_dir: operation not allowed"),n!=Vs&&n!=Hs&&r("glp_set_obj_dir: dir = "+n+"; invalid direction flag"),e.dir=n},lu=e.glp_add_rows=function(e,t){var a,l=e.tree;1>t&&r("glp_add_rows: nrs = "+t+"; invalid number of rows"),t>Hi-e.m&&r("glp_add_rows: nrs = "+t+"; too many rows");var o=e.m+t;if(e.m_max<o){for(;e.m_max<o;)e.m_max+=e.m_max,n(e.m_max>0);e.row.length=1+e.m_max,e.head=new Int32Array(1+e.m_max)}for(var i=e.m+1;o>=i;i++){if(e.row[i]=a={},a.i=i,a.name=null,a.node=null,a.level=0,a.origin=0,a.klass=0,null!=l)switch(l.reason){case 0:break;case rf:n(null!=l.curr),a.level=l.curr.level,a.origin=Wc;break;case lf:n(null!=l.curr),a.level=l.curr.level,a.origin=Jc;break;default:n(l!=l)}a.type=Ys,a.lb=a.ub=0,a.ptr=null,a.rii=1,a.stat=rc,a.bind=0,a.prim=a.dual=0,a.pval=a.dval=0,a.mipx=0}return e.m=o,e.valid=0,null!=l&&0!=l.reason&&(l.reopt=1),o-t+1},ou=e.glp_add_cols=function(e,t){var a,l=e.tree;null!=l&&0!=l.reason&&r("glp_add_cols: operation not allowed"),1>t&&r("glp_add_cols: ncs = "+t+"; invalid number of columns"),t>Wi-e.n&&r("glp_add_cols: ncs = "+t+"; too many columns");var o=e.n+t;if(e.n_max<o){for(;e.n_max<o;)e.n_max+=e.n_max,n(e.n_max>0);e.col.length=1+e.n_max}for(var i=e.n+1;o>=i;i++)e.col[i]=a={},a.j=i,a.name=null,a.node=null,a.kind=Ws,a.type=nc,a.lb=a.ub=0,a.coef=0,a.ptr=null,a.sjj=1,a.stat=oc,a.bind=0,a.prim=a.dual=0,a.pval=a.dval=0,a.mipx=0;return e.n=o,o-t+1},iu=e.glp_set_row_name=function(e,t,a){var l=e.tree;t>=1&&t<=e.m||r("glp_set_row_name: i = "+t+"; row number out of range");var o=e.row[t];null!=l&&0!=l.reason&&(n(null!=l.curr),n(o.level==l.curr.level)),null!=o.name&&(delete e.r_tree[o.name],o.name=null),null!=a&&(o.name=a,e.r_tree[o.name]=o)},uu=e.glp_set_col_name=function(e,n,t){var a=e.tree;null!=a&&0!=a.reason&&r("glp_set_col_name: operation not allowed"),n>=1&&n<=e.n||r("glp_set_col_name: j = "+n+"; column number out of range");var l=e.col[n];null!=l.name&&(delete e.c_tree[l.name],l.name=null),null!=t&&(l.name=t,e.c_tree[l.name]=l)},su=e.glp_set_row_bnds=function(e,n,t,a,l){n>=1&&n<=e.m||r("glp_set_row_bnds: i = "+n+"; row number out of range");var o=e.row[n];switch(o.type=t,t){case Ys:o.lb=o.ub=0,o.stat!=rc&&(o.stat=lc);break;case $s:o.lb=a,o.ub=0,o.stat!=rc&&(o.stat=tc);break;case Zs:o.lb=0,o.ub=l,o.stat!=rc&&(o.stat=ac);break;case ec:o.lb=a,o.ub=l,o.stat!=rc&&o.stat!=tc&&o.stat!=ac&&(o.stat=Math.abs(a)<=Math.abs(l)?tc:ac);break;case nc:o.lb=o.ub=a,o.stat!=rc&&(o.stat=oc);break;default:r("glp_set_row_bnds: i = "+n+"; type = "+t+"; invalid row type")}},cu=e.glp_set_col_bnds=function(e,n,t,a,l){n>=1&&n<=e.n||r("glp_set_col_bnds: j = "+n+"; column number out of range");var o=e.col[n];switch(o.type=t,t){case Ys:o.lb=o.ub=0,o.stat!=rc&&(o.stat=lc);break;case $s:o.lb=a,o.ub=0,o.stat!=rc&&(o.stat=tc);break;case Zs:o.lb=0,o.ub=l,o.stat!=rc&&(o.stat=ac);break;case ec:o.lb=a,o.ub=l,o.stat!=rc&&o.stat!=tc&&o.stat!=ac&&(o.stat=Math.abs(a)<=Math.abs(l)?tc:ac);break;case nc:o.lb=o.ub=a,o.stat!=rc&&(o.stat=oc);break;default:r("glp_set_col_bnds: j = "+n+"; type = "+t+"; invalid column type")}},fu=e.glp_set_obj_coef=function(e,n,t){var a=e.tree;null!=a&&0!=a.reason&&r("glp_set_obj_coef: operation not allowed"),n>=0&&n<=e.n||r("glp_set_obj_coef: j = "+n+"; column number out of range"),0==n?e.c0=t:e.col[n].coef=t},_u=e.glp_set_mat_row=function(e,t,a,l,o){var i,u,s,c,f,_=e.tree;t>=1&&t<=e.m||r("glp_set_mat_row: i = "+t+"; row number out of range");var p=e.row[t];for(null!=_&&0!=_.reason&&(n(null!=_.curr),n(p.level==_.curr.level));null!=p.ptr;)u=p.ptr,p.ptr=u.r_next,i=u.col,null==u.c_prev?i.ptr=u.c_next:u.c_prev.c_next=u.c_next,null!=u.c_next&&(u.c_next.c_prev=u.c_prev),e.nnz--,i.stat==rc&&(e.valid=0);for(a>=0&&a<=e.n||r("glp_set_mat_row: i = "+t+"; len = "+a+"; invalid row length "),a>Ji-e.nnz&&r("glp_set_mat_row: i = "+t+"; len = "+a+"; too many constraint coefficients"),f=1;a>=f;f++)c=l[f],c>=1&&c<=e.n||r("glp_set_mat_row: i = "+t+"; ind["+f+"] = "+c+"; column index out of range"),i=e.col[c],null!=i.ptr&&i.ptr.row.i==t&&r("glp_set_mat_row: i = "+t+"; ind["+f+"] = "+c+"; duplicate column indices not allowed"),u={},e.nnz++,u.row=p,u.col=i,u.val=o[f],u.r_prev=null,u.r_next=p.ptr,u.c_prev=null,u.c_next=i.ptr,null!=u.r_next&&(u.r_next.r_prev=u),null!=u.c_next&&(u.c_next.c_prev=u),p.ptr=i.ptr=u,i.stat==rc&&0!=u.val&&(e.valid=0);for(u=p.ptr;null!=u;u=s)s=u.r_next,0==u.val&&(null==u.r_prev?p.ptr=s:u.r_prev.r_next=s,null!=s&&(s.r_prev=u.r_prev),n(null==u.c_prev),u.col.ptr=u.c_next,null!=u.c_next&&(u.c_next.c_prev=null),e.nnz--)},pu=e.glp_set_mat_col=function(e,t,a,l,o){var i,u,s,c,f,_=e.tree;null!=_&&0!=_.reason&&r("glp_set_mat_col: operation not allowed"),t>=1&&t<=e.n||r("glp_set_mat_col: j = "+t+"; column number out of range");for(var p=e.col[t];null!=p.ptr;)u=p.ptr,p.ptr=u.c_next,i=u.row,null==u.r_prev?i.ptr=u.r_next:u.r_prev.r_next=u.r_next,null!=u.r_next&&(u.r_next.r_prev=u.r_prev),e.nnz--;for(a>=0&&a<=e.m||r("glp_set_mat_col: j = "+t+"; len = "+a+"; invalid column length"),a>Ji-e.nnz&&r("glp_set_mat_col: j = "+t+"; len = "+a+"; too many constraint coefficients"),f=1;a>=f;f++)c=l[f],c>=1&&c<=e.m||r("glp_set_mat_col: j = "+t+"; ind["+f+"] = "+c+"; row index out of range"),i=e.row[c],null!=i.ptr&&i.ptr.col.j==t&&r("glp_set_mat_col: j = "+t+"; ind["+f+"] = "+c+"; duplicate row indices not allowed"),u={},e.nnz++,u.row=i,u.col=p,u.val=o[f],u.r_prev=null,u.r_next=i.ptr,u.c_prev=null,u.c_next=p.ptr,null!=u.r_next&&(u.r_next.r_prev=u),null!=u.c_next&&(u.c_next.c_prev=u),i.ptr=p.ptr=u;for(u=p.ptr;null!=u;u=s)s=u.c_next,0==u.val&&(n(null==u.r_prev),u.row.ptr=u.r_next,null!=u.r_next&&(u.r_next.r_prev=null),null==u.c_prev?p.ptr=s:u.c_prev.c_next=s,null!=s&&(s.c_prev=u.c_prev),e.nnz--);p.stat==rc&&(e.valid=0)},mu=(e.glp_load_matrix=function(e,t,a,l,o){var i,u,s,c,f,_,p,m=e.tree;for(null!=m&&0!=m.reason&&r("glp_load_matrix: operation not allowed"),f=1;f<=e.m;f++)for(i=e.row[f];null!=i.ptr;)s=i.ptr,i.ptr=s.r_next,e.nnz--;for(n(0==e.nnz),_=1;_<=e.n;_++)e.col[_].ptr=null;for(0>t&&r("glp_load_matrix: ne = "+t+"; invalid number of constraint coefficients"),t>Ji&&r("glp_load_matrix: ne = "+t+"; too many constraint coefficients"),p=1;t>=p;p++)f=a[p],_=l[p],f>=1&&f<=e.m||r("glp_load_matrix: ia["+p+"] = "+f+"; row index out of range"),i=e.row[f],_>=1&&_<=e.n||r("glp_load_matrix: ja["+p+"] = "+_+"; column index out of range"),u=e.col[_],s={},e.nnz++,s.row=i,s.col=u,s.val=o[p],s.r_prev=null,s.r_next=i.ptr,null!=s.r_next&&(s.r_next.r_prev=s),i.ptr=s;for(n(e.nnz==t),f=1;f<=e.m;f++)for(s=e.row[f].ptr;null!=s;s=s.r_next){if(u=s.col,null!=u.ptr&&u.ptr.row.i==f){for(p=1;t>=p&&(a[p]!=f||l[p]!=u.j);p++);r("glp_load_mat: ia["+p+"] = "+f+"; ja["+p+"] = "+u.j+"; duplicate indices not allowed")}s.c_prev=null,s.c_next=u.ptr,null!=s.c_next&&(s.c_next.c_prev=s),u.ptr=s}for(f=1;f<=e.m;f++)for(i=e.row[f],s=i.ptr;null!=s;s=c)c=s.r_next,0==s.val&&(null==s.r_prev?i.ptr=c:s.r_prev.r_next=c,null!=c&&(c.r_prev=s.r_prev),null==s.c_prev?s.col.ptr=s.c_next:s.c_prev.c_next=s.c_next,null!=s.c_next&&(s.c_next.c_prev=s.c_prev),e.nnz--);e.valid=0},e.glp_check_dup=function(e,t,a,l,o){var i,u,s,c,f,_,p;for(0>e&&r("glp_check_dup: m = %d; invalid parameter"),0>t&&r("glp_check_dup: n = %d; invalid parameter"),0>a&&r("glp_check_dup: ne = %d; invalid parameter"),a>0&&null==l&&r("glp_check_dup: ia = "+l+"; invalid parameter"),a>0&&null==o&&r("glp_check_dup: ja = "+o+"; invalid parameter"),s=1;a>=s;s++)if(i=l[s],u=o[s],!(i>=1&&e>=i&&u>=1&&t>=u))return _=-s;if(0==e||0==t)return _=0;for(c=new Int32Array(1+e),f=new Int32Array(1+a),p=new Int8Array(1+t),s=1;a>=s;s++)i=l[s],f[s]=c[i],c[i]=s;for(i=1;e>=i;i++){for(s=c[i];0!=s;s=f[s]){if(u=o[s],p[u]){for(s=1;a>=s&&(l[s]!=i||o[s]!=u);s++);for(n(a>=s),s++;a>=s&&(l[s]!=i||o[s]!=u);s++);return n(a>=s),_=+s}p[u]=1}for(s=c[i];0!=s;s=f[s])p[o[s]]=0}return _=0},e.glp_sort_matrix=function(e){var n,t,a;for((null==e||e.magic!=eu)&&r("glp_sort_matrix: P = "+e+"; invalid problem object"),t=e.m;t>=1;t--)e.row[t].ptr=null;for(a=e.n;a>=1;a--)for(n=e.col[a].ptr;null!=n;n=n.c_next)t=n.row.i,n.r_prev=null,n.r_next=e.row[t].ptr,null!=n.r_next&&(n.r_next.r_prev=n),e.row[t].ptr=n;for(a=e.n;a>=1;a--)e.col[a].ptr=null;for(t=e.m;t>=1;t--)for(n=e.row[t].ptr;null!=n;n=n.r_next)a=n.col.j,n.c_prev=null,n.c_next=e.col[a].ptr,null!=n.c_next&&(n.c_next.c_prev=n),e.col[a].ptr=n}),bu=e.glp_del_rows=function(e,t,a){var l,o,i,u,s=e.tree;for(t>=1&&t<=e.m||r("glp_del_rows: nrs = "+t+"; invalid number of rows"),i=1;t>=i;i++)o=a[i],o>=1&&o<=e.m||r("glp_del_rows: num["+i+"] = "+o+"; row number out of range"),l=e.row[o],null!=s&&0!=s.reason&&(s.reason!=rf&&s.reason!=lf&&r("glp_del_rows: operation not allowed"),n(null!=s.curr),l.level!=s.curr.level&&r("glp_del_rows: num["+i+"] = "+o+"; invalid attempt to delete row created not in current subproblem"),l.stat!=rc&&r("glp_del_rows: num["+i+"] = "+o+"; invalid attempt to delete active row (constraint)"),s.reinv=1),0==l.i&&r("glp_del_rows: num["+i+"] = "+o+"; duplicate row numbers not allowed"),iu(e,o,null),n(null==l.node),_u(e,o,0,null,null),n(null==l.ptr),l.i=0;for(u=0,o=1;o<=e.m;o++)l=e.row[o],0!=l.i&&(l.i=++u,e.row[l.i]=l);e.m=u,e.valid=0},du=(e.glp_del_cols=function(e,t,a){var l,o,i,u,s=e.tree;for(null!=s&&0!=s.reason&&r("glp_del_cols: operation not allowed"),t>=1&&t<=e.n||r("glp_del_cols: ncs = "+t+"; invalid number of columns"),i=1;t>=i;i++)o=a[i],o>=1&&o<=e.n||r("glp_del_cols: num["+i+"] = "+o+"; column number out of range"),l=e.col[o],0==l.j&&r("glp_del_cols: num["+i+"] = "+o+"; duplicate column numbers not allowed"),uu(e,o,null),n(null==l.node),pu(e,o,0,null,null),n(null==l.ptr),l.j=0,l.stat==rc&&(e.valid=0);for(u=0,o=1;o<=e.n;o++)l=e.col[o],0!=l.j&&(l.j=++u,e.col[l.j]=l);if(e.n=u,e.valid){var c=e.m,f=e.head;for(o=1;u>=o;o++)i=e.col[o].bind,0!=i&&(n(i>=1&&c>=i),f[i]=c+o)}},e.glp_copy_prob=function(e,n,t){var a,l,o,i,u,s=e.tree,c={};null!=s&&0!=s.reason&&r("glp_copy_prob: operation not allowed"),e==n&&r("glp_copy_prob: copying problem object to itself not allowed"),t!=ef&&t!=nf&&r("glp_copy_prob: names = "+t+"; invalid parameter"),vu(e),t&&null!=n.name&&ru(e,n.name),t&&null!=n.obj&&tu(e,n.obj),e.dir=n.dir,e.c0=n.c0,n.m>0&&lu(e,n.m),n.n>0&&ou(e,n.n),_s(n,c),ps(e,c),e.pbs_stat=n.pbs_stat,e.dbs_stat=n.dbs_stat,e.obj_val=n.obj_val,e.some=n.some,e.ipt_stat=n.ipt_stat,e.ipt_obj=n.ipt_obj,e.mip_stat=n.mip_stat,e.mip_obj=n.mip_obj;var f,_;for(a=1;a<=n.m;a++)f=e.row[a],_=n.row[a],t&&null!=_.name&&iu(e,a,_.name),f.type=_.type,f.lb=_.lb,f.ub=_.ub,f.rii=_.rii,f.stat=_.stat,f.prim=_.prim,f.dual=_.dual,f.pval=_.pval,f.dval=_.dval,f.mipx=_.mipx;for(i=new Int32Array(1+n.m),u=new Float64Array(1+n.m),l=1;l<=n.n;l++)f=e.col[l],_=n.col[l],t&&null!=_.name&&uu(e,l,_.name),f.kind=_.kind,f.type=_.type,f.lb=_.lb,f.ub=_.ub,f.coef=_.coef,o=Eu(n,l,i,u),pu(e,l,o,i,u),f.sjj=_.sjj,f.stat=_.stat,f.prim=_.prim,f.dual=_.dual,f.pval=_.pval,f.dval=_.dval,f.mipx=_.mipx}),vu=e.glp_erase_prob=function(e){var n=e.tree;null!=n&&0!=n.reason&&r("glp_erase_prob: operation not allowed"),k(e),h(e)},gu=(e.glp_get_prob_name=function(e){return e.name},e.glp_get_obj_name=function(e){return e.obj}),hu=e.glp_get_obj_dir=function(e){return e.dir},ku=e.glp_get_num_rows=function(e){return e.m},yu=e.glp_get_num_cols=function(e){return e.n},wu=e.glp_get_row_name=function(e,n){return n>=1&&n<=e.m||r("glp_get_row_name: i = "+n+"; row number out of range"),e.row[n].name},xu=e.glp_get_col_name=function(e,n){return n>=1&&n<=e.n||r("glp_get_col_name: j = "+n+"; column number out of range"),e.col[n].name},Au=e.glp_get_row_type=function(e,n){return n>=1&&n<=e.m||r("glp_get_row_type: i = "+n+"; row number out of range"),e.row[n].type},Mu=e.glp_get_row_lb=function(e,t){var a;switch(t>=1&&t<=e.m||r("glp_get_row_lb: i = "+t+"; row number out of range"),e.row[t].type){case Ys:case Zs:a=-Xi;break;case $s:case ec:case nc:a=e.row[t].lb;break;default:n(e!=e)}return a},ju=e.glp_get_row_ub=function(e,t){var a;switch(t>=1&&t<=e.m||r("glp_get_row_ub: i = "+t+"; row number out of range"),e.row[t].type){case Ys:case $s:a=+Xi;break;case Zs:case ec:case nc:a=e.row[t].ub;break;default:n(e!=e)}return a},Pu=e.glp_get_col_type=function(e,n){return n>=1&&n<=e.n||r("glp_get_col_type: j = "+n+"; column number out of range"),e.col[n].type},Lu=e.glp_get_col_lb=function(e,t){var a;switch(t>=1&&t<=e.n||r("glp_get_col_lb: j = "+t+"; column number out of range"),e.col[t].type){case Ys:case Zs:a=-Xi;break;case $s:case ec:case nc:a=e.col[t].lb;break;default:n(e!=e)}return a},zu=e.glp_get_col_ub=function(e,t){var a;switch(t>=1&&t<=e.n||r("glp_get_col_ub: j = "+t+"; column number out of range"),e.col[t].type){case Ys:case $s:a=+Xi;break;case Zs:case ec:case nc:a=e.col[t].ub;break;default:n(e!=e)}return a},Iu=(e.glp_get_obj_coef=function(e,n){return n>=0&&n<=e.n||r("glp_get_obj_coef: j = "+n+"; column number out of range"),0==n?e.c0:e.col[n].coef},e.glp_get_num_nz=function(e){return e.nnz},e.glp_get_mat_row=function(e,t,a,l){var o,i;for(t>=1&&t<=e.m||r("glp_get_mat_row: i = "+t+"; row number out of range"),i=0,o=e.row[t].ptr;null!=o;o=o.r_next)i++,null!=a&&(a[i]=o.col.j),null!=l&&(l[i]=o.val);return n(i<=e.n),i}),Eu=e.glp_get_mat_col=function(e,t,a,l){var o,i;for(t>=1&&t<=e.n||r("glp_get_mat_col: j = "+t+"; column number out of range"),i=0,o=e.col[t].ptr;null!=o;o=o.c_next)i++,null!=a&&(a[i]=o.row.i),null!=l&&(l[i]=o.val);return n(i<=e.m),i},Fu=e.glp_create_index=function(e){var n,r,t,a;if(null==e.r_tree)for(e.r_tree={},t=1;t<=e.m;t++)n=e.row[t],null!=n.name&&(e.r_tree[n.name]=n);if(null==e.c_tree)for(e.c_tree={},a=1;a<=e.n;a++)r=e.col[a],null!=r.name&&(e.c_tree[r.name]=r)},Su=e.glp_find_row=function(e,n){var t=0;null==e.r_tree&&r("glp_find_row: row name index does not exist");var a=e.r_tree[n];return a&&(t=a.i),t},qu=e.glp_find_col=function(e,n){var t=0;null==e.c_tree&&r("glp_find_col: column name index does not exist");var a=e.c_tree[n];return a&&(t=a.j),t},Nu=e.glp_delete_index=function(e){e.r_tree=null,e.r_tree=null},Ou=e.glp_set_rii=function(e,n,t){if(n>=1&&n<=e.m||r("glp_set_rii: i = "+n+"; row number out of range"),0>=t&&r("glp_set_rii: i = "+n+"; rii = "+t+"; invalid scale factor"),e.valid&&e.row[n].rii!=t)for(var a=e.row[n].ptr;null!=a;a=a.r_next)if(a.col.stat==rc){e.valid=0;break}e.row[n].rii=t},Tu=e.glp_set_sjj=function(e,n,t){n>=1&&n<=e.n||r("glp_set_sjj: j = "+n+"; column number out of range"),0>=t&&r("glp_set_sjj: j = "+n+"; sjj = "+t+"; invalid scale factor"),e.valid&&e.col[n].sjj!=t&&e.col[n].stat==rc&&(e.valid=0),e.col[n].sjj=t},Gu=e.glp_get_rii=function(e,n){return n>=1&&n<=e.m||r("glp_get_rii: i = "+n+"; row number out of range"),e.row[n].rii},Ru=e.glp_get_sjj=function(e,n){return n>=1&&n<=e.n||r("glp_get_sjj: j = "+n+"; column number out of range"),e.col[n].sjj},Cu=e.glp_unscale_prob=function(e){var n,r,t=ku(e),a=yu(e);for(n=1;t>=n;n++)Ou(e,n,1);for(r=1;a>=r;r++)Tu(e,r,1)},Xu=e.glp_set_row_stat=function(e,t,a){var l;if(t>=1&&t<=e.m||r("glp_set_row_stat: i = "+t+"; row number out of range"),a!=rc&&a!=tc&&a!=ac&&a!=lc&&a!=oc&&r("glp_set_row_stat: i = "+t+"; stat = "+a+"; invalid status"),l=e.row[t],a!=rc)switch(l.type){case Ys:a=lc;break;case $s:a=tc;break;case Zs:a=ac;break;case ec:a!=ac&&(a=tc);break;case nc:a=oc;break;default:n(l!=l)}(l.stat==rc&&a!=rc||l.stat!=rc&&a==rc)&&(e.valid=0),l.stat=a},Bu=e.glp_set_col_stat=function(e,t,a){var l;if(t>=1&&t<=e.n||r("glp_set_col_stat: j = "+t+"; column number out of range"),a!=rc&&a!=tc&&a!=ac&&a!=lc&&a!=oc&&r("glp_set_col_stat: j = "+t+"; stat = "+a+"; invalid status"),l=e.col[t],a!=rc)switch(l.type){case Ys:a=lc;break;case $s:a=tc;break;case Zs:a=ac;break;case ec:a!=ac&&(a=tc);break;case nc:a=oc;break;default:n(l!=l)}(l.stat==rc&&a!=rc||l.stat!=rc&&a==rc)&&(e.valid=0),l.stat=a},Du=e.glp_std_basis=function(e){var n,r;for(n=1;n<=e.m;n++)Xu(e,n,rc);for(r=1;r<=e.n;r++){var t=e.col[r];t.type==ec&&Math.abs(t.lb)>Math.abs(t.ub)?Bu(e,r,ac):Bu(e,r,tc)}},Uu=e.glp_simplex=function(e,t){function a(e,r){var t;return cs(e)||(t=fs(e),0==t||(t==pf?r.msg_lev>=Mc&&Yi("glp_simplex: initial basis is invalid"):t==mf?r.msg_lev>=Mc&&Yi("glp_simplex: initial basis is singular"):t==bf?r.msg_lev>=Mc&&Yi("glp_simplex: initial basis is ill-conditioned"):n(t!=t)),0==t)?(r.meth==zc?t=Gi(e,r):r.meth==Ic?(t=Ri(e,r),t==vf&&e.valid&&(t=Gi(e,r))):r.meth==Ec?t=Ri(e,r):n(r!=r),t):t}function l(e,r){function t(){return Oo(l,i),i=null,To(l,e),o=0}var l,o,i=null,u={};if(r.msg_lev>=Pc&&Yi("Preprocessing..."),l=go(),qo(l,e,nf,_c,nf),o=bi(l,r),0==o||(o==wf?r.msg_lev>=Pc&&Yi("PROBLEM HAS NO PRIMAL FEASIBLE SOLUTION"):o==xf?r.msg_lev>=Pc&&Yi("PROBLEM HAS NO DUAL FEASIBLE SOLUTION"):n(o!=o)),0!=o)return o;if(i=nu(),No(l,i),0==i.m&&0==i.n)return i.pbs_stat=i.dbs_stat=dc,i.obj_val=i.c0,r.msg_lev>=jc&&0==r.out_dly&&Yi(e.it_cnt+": obj = "+i.obj_val+"  infeas = 0.0"),r.msg_lev>=Pc&&Yi("OPTIMAL SOLUTION FOUND BY LP PREPROCESSOR"),t();r.msg_lev>=Pc&&Yi(i.m+" row"+(1==i.m?"":"s")+", "+i.n+" column"+(1==i.n?"":"s")+", "+i.nnz+" non-zero"+(1==i.nnz?"":"s")),_s(e,u),ps(i,u);var s=c(),f=s.term_out;return!f||r.msg_lev<Pc?s.term_out=nf:s.term_out=ef,Dd(i,fc),s.term_out=f,s=c(),f=s.term_out,!f||r.msg_lev<Pc?s.term_out=nf:s.term_out=ef,H(i,0),s.term_out=f,i.it_cnt=e.it_cnt,o=a(i,r),e.it_cnt=i.it_cnt,0!=o||i.pbs_stat!=dc||i.dbs_stat!=dc?(r.msg_lev>=Mc&&Yi("glp_simplex: unable to recover undefined or non-optimal solution"),0==o&&(i.pbs_stat==gc?o=wf:i.dbs_stat==gc?o=xf:n(i!=i)),o):t()}function o(e,n){function r(){l.stat=tc,l.prim=l.lb}function t(){l.stat=ac,l.prim=l.ub}var a,l,o,i,u,s,c;for(e.valid=0,e.pbs_stat=e.dbs_stat=dc,e.obj_val=e.c0,e.some=0,u=s=0,o=1;o<=e.m;o++)a=e.row[o],a.stat=rc,a.prim=a.dual=0,(a.type==$s||a.type==ec||a.type==nc)&&(a.lb>+n.tol_bnd&&(e.pbs_stat=gc,0==e.some&&n.meth!=zc&&(e.some=o)),u<+a.lb&&(u=+a.lb)),(a.type==Zs||a.type==ec||a.type==nc)&&(a.ub<-n.tol_bnd&&(e.pbs_stat=gc,0==e.some&&n.meth!=zc&&(e.some=o)),u<-a.ub&&(u=-a.ub));for(c=1,i=1;i<=e.n;i++)l=e.col[i],c<Math.abs(l.coef)&&(c=Math.abs(l.coef));for(c=(e.dir==Vs?1:-1)/c,i=1;i<=e.n;i++)l=e.col[i],l.type==Ys?(l.stat=lc,l.prim=0):l.type==$s?r():l.type==Zs?t():l.type==ec?c*l.coef>0?r():c*l.coef<0?t():Math.abs(l.lb)<=Math.abs(l.ub)?r():t():l.type==nc&&(l.stat=oc,l.prim=l.lb),l.dual=l.coef,e.obj_val+=l.coef*l.prim,(l.type==Ys||l.type==$s)&&(c*l.dual<-n.tol_dj&&(e.dbs_stat=gc,0==e.some&&n.meth==zc&&(e.some=e.m+i)),s<-c*l.dual&&(s=-c*l.dual)),(l.type==Ys||l.type==Zs)&&(c*l.dual>+n.tol_dj&&(e.dbs_stat=gc,0==e.some&&n.meth==zc&&(e.some=e.m+i)),s<+c*l.dual&&(s=+c*l.dual));n.msg_lev>=jc&&0==n.out_dly&&Yi("~"+e.it_cnt+": obj = "+e.obj_val+"  infeas = "+(n.meth==zc?u:s)),n.msg_lev>=Pc&&0==n.out_dly&&Yi(e.pbs_stat==dc&&e.dbs_stat==dc?"OPTIMAL SOLUTION FOUND":e.pbs_stat==gc?"PROBLEM HAS NO FEASIBLE SOLUTION":n.meth==zc?"PROBLEM HAS UNBOUNDED SOLUTION":"PROBLEM HAS NO DUAL FEASIBLE SOLUTION")}var i,u,s;for((null==e||e.magic!=eu)&&r("glp_simplex: P = "+e+"; invalid problem object"),null!=e.tree&&0!=e.tree.reason&&r("glp_simplex: operation not allowed"),null==t&&(t=new Ku),t.msg_lev!=Ac&&t.msg_lev!=Mc&&t.msg_lev!=jc&&t.msg_lev!=Pc&&t.msg_lev!=Lc&&r("glp_simplex: msg_lev = "+t.msg_lev+"; invalid parameter"),t.meth!=zc&&t.meth!=Ic&&t.meth!=Ec&&r("glp_simplex: meth = "+t.meth+"; invalid parameter"),t.pricing!=Fc&&t.pricing!=Sc&&r("glp_simplex: pricing = "+t.pricing+"; invalid parameter"),t.r_test!=qc&&t.r_test!=Nc&&r("glp_simplex: r_test = "+t.r_test+"; invalid parameter"),0<t.tol_bnd&&t.tol_bnd<1||r("glp_simplex: tol_bnd = "+t.tol_bnd+"; invalid parameter"),0<t.tol_dj&&t.tol_dj<1||r("glp_simplex: tol_dj = "+t.tol_dj+"; invalid parameter"),0<t.tol_piv&&t.tol_piv<1||r("glp_simplex: tol_piv = "+t.tol_piv+"; invalid parameter"),t.it_lim<0&&r("glp_simplex: it_lim = "+t.it_lim+"; invalid parameter"),t.tm_lim<0&&r("glp_simplex: tm_lim = "+t.tm_lim+"; invalid parameter"),t.out_frq<1&&r("glp_simplex: out_frq = "+t.out_frq+"; invalid parameter"),t.out_dly<0&&r("glp_simplex: out_dly = "+t.out_dly+"; invalid parameter"),t.presolve!=ef&&t.presolve!=nf&&r("glp_simplex: presolve = "+t.presolve+"; invalid parameter"),e.pbs_stat=e.dbs_stat=bc,e.obj_val=0,e.some=0,i=1;i<=e.m;i++){var f=e.row[i];if(f.type==ec&&f.lb>=f.ub)return t.msg_lev>=Mc&&Yi("glp_simplex: row "+i+": lb = "+f.lb+", ub = "+f.ub+"; incorrect bounds"),s=df}for(u=1;u<=e.n;u++){var _=e.col[u];if(_.type==ec&&_.lb>=_.ub)return t.msg_lev>=Mc&&Yi("glp_simplex: column "+u+": lb = "+_.lb+", ub = "+_.ub+"; incorrect bounds"),s=df}return t.msg_lev>=Pc&&(Yi("GLPK Simplex Optimizer, v"+Zi()),Yi(e.m+" row"+(1==e.m?"":"s")+", "+e.n+" column"+(1==e.n?"":"s")+", "+e.nnz+" non-zero"+(1==e.nnz?"":"s"))),0==e.nnz?(o(e,t),s=0):s=t.presolve?l(e,t):a(e,t),s},Ku=e.SMCP=function(e){e=e||{},this.msg_lev=e.msg_lev||Pc,this.meth=e.meth||zc,this.pricing=e.pricing||Sc,this.r_test=e.r_test||Nc,this.tol_bnd=e.tol_bnd||1e-7,this.tol_dj=e.tol_dj||1e-7,this.tol_piv=e.tol_piv||1e-10,this.obj_ll=e.obj_ll||-Xi,this.obj_ul=e.obj_ul||+Xi,this.it_lim=e.it_lim||Ui,this.tm_lim=e.tm_lim||Ui,this.out_frq=e.out_frq||500,this.out_dly=e.out_dly||0,this.presolve=e.presolve||nf},Vu=e.glp_get_status=function(e){var r;switch(r=Hu(e)){case dc:switch(Wu(e)){case dc:r=hc;break;case gc:r=kc;break;case bc:case vc:break;default:n(e!=e)}break;case bc:case vc:case gc:break;default:n(e!=e)}return r},Hu=e.glp_get_prim_stat=function(e){return e.pbs_stat},Wu=e.glp_get_dual_stat=function(e){return e.dbs_stat},Ju=e.glp_get_obj_val=function(e){return e.obj_val},Qu=e.glp_get_row_stat=function(e,n){return n>=1&&n<=e.m||r("glp_get_row_stat: i = "+n+"; row number out of range"),e.row[n].stat},Yu=e.glp_get_row_prim=function(e,n){return n>=1&&n<=e.m||r("glp_get_row_prim: i = "+n+"; row number out of range"),e.row[n].prim},$u=e.glp_get_row_dual=function(e,n){return n>=1&&n<=e.m||r("glp_get_row_dual: i = "+n+"; row number out of range"),e.row[n].dual},Zu=e.glp_get_col_stat=function(e,n){return n>=1&&n<=e.n||r("glp_get_col_stat: j = "+n+"; column number out of range"),e.col[n].stat},es=e.glp_get_col_prim=function(e,n){return n>=1&&n<=e.n||r("glp_get_col_prim: j = "+n+"; column number out of range"),e.col[n].prim},ns=e.glp_get_col_dual=function(e,n){return n>=1&&n<=e.n||r("glp_get_col_dual: j = "+n+"; column number out of range"),e.col[n].dual},rs=(e.glp_get_unbnd_ray=function(e){var r=e.some;return n(r>=0),r>e.m+e.n&&(r=0),r},e.glp_set_col_kind=function(e,n,t){n>=1&&n<=e.n||r("glp_set_col_kind: j = "+n+"; column number out of range");var a=e.col[n];switch(t){case Ws:a.kind=Ws;break;case Js:a.kind=Js;break;case Qs:a.kind=Js,(a.type!=ec||0!=a.lb||1!=a.ub)&&cu(e,n,ec,0,1);break;default:r("glp_set_col_kind: j = "+n+"; kind = "+t+"; invalid column kind")}}),ts=e.glp_get_col_kind=function(e,t){t>=1&&t<=e.n||r("glp_get_col_kind: j = "+t+"; column number out of range");var a=e.col[t],l=a.kind;switch(l){case Ws:break;case Js:a.type==ec&&0==a.lb&&1==a.ub&&(l=Qs);break;default:n(l!=l)}return l},as=e.glp_get_num_int=function(e){for(var n,r=0,t=1;t<=e.n;t++)n=e.col[t],n.kind==Js&&r++;return r},ls=e.glp_get_num_bin=function(e){for(var n,r=0,t=1;t<=e.n;t++)n=e.col[t],n.kind==Js&&n.type==ec&&0==n.lb&&1==n.ub&&r++;return r},os=e.glp_intopt=function(e,t){function a(e,r){var t,a;return Vu(e)!=hc?(r.msg_lev>=Mc&&Yi("glp_intopt: optimal basis to initial LP relaxation not provided"),a=Af):(r.msg_lev>=Pc&&Yi("Integer optimization begins..."),t=Q(e,r),a=_e(t),ne(t),0==a?e.mip_stat==dc?(r.msg_lev>=Pc&&Yi("INTEGER OPTIMAL SOLUTION FOUND"),e.mip_stat=hc):(r.msg_lev>=Pc&&Yi("PROBLEM HAS NO INTEGER FEASIBLE SOLUTION"),e.mip_stat=gc):a==jf?r.msg_lev>=Pc&&Yi("RELATIVE MIP GAP TOLERANCE REACHED; SEARCH TERMINATED"):a==yf?r.msg_lev>=Pc&&Yi("TIME LIMIT EXCEEDED; SEARCH TERMINATED"):a==vf?r.msg_lev>=Mc&&Yi("glp_intopt: cannot solve current LP relaxation"):a==Mf?r.msg_lev>=Pc&&Yi("SEARCH TERMINATED BY APPLICATION"):n(a!=a),a)}function l(e,r){function t(){return Oo(l,s),s=null,To(l,e),o}var l,o,i=c(),u=i.term_out,s=null,f={};if(r.msg_lev>=Pc&&Yi("Preprocessing..."),l=go(),qo(l,e,nf,mc,nf),!u||r.msg_lev<Pc?i.term_out=nf:i.term_out=ef,o=di(l,r),i.term_out=u,0==o||(o==wf?r.msg_lev>=Pc&&Yi("PROBLEM HAS NO PRIMAL FEASIBLE SOLUTION"):o==xf?r.msg_lev>=Pc&&Yi("LP RELAXATION HAS NO DUAL FEASIBLE SOLUTION"):n(o!=o)),0!=o)return o;if(s=nu(),No(l,s),0==s.m&&0==s.n)return s.mip_stat=hc,s.mip_obj=s.c0,r.msg_lev>=Pc&&(Yi("Objective value = "+s.mip_obj),Yi("INTEGER OPTIMAL SOLUTION FOUND BY MIP PREPROCESSOR")),t();if(r.msg_lev>=Pc){var _,p=as(s),m=ls(s);Yi(s.m+" row"+(1==s.m?"":"s")+", "+s.n+" column"+(1==s.n?"":"s")+", "+s.nnz+" non-zero"+(1==s.nnz?"":"s")),_=0==m?"none of":1==p&&1==m?"":1==m?"one of":m==p?"all of":m+" of",Yi(p+" integer variable"+(1==p?"":"s")+", "+_+" which "+(1==m?"is":"are")+" binary")}_s(e,f),ps(s,f),!u||r.msg_lev<Pc?i.term_out=nf:i.term_out=ef,Dd(s,ic|uc|sc|cc),i.term_out=u,!u||r.msg_lev<Pc?i.term_out=nf:i.term_out=ef,H(s,0),i.term_out=u,r.msg_lev>=Pc&&Yi("Solving LP relaxation...");var b=new Ku;return b.msg_lev=r.msg_lev,s.it_cnt=e.it_cnt,o=Uu(s,b),e.it_cnt=s.it_cnt,0!=o?(r.msg_lev>=Mc&&Yi("glp_intopt: cannot solve LP relaxation"),o=vf):(o=Vu(s),o==hc?o=0:o==gc?o=wf:o==kc?o=xf:n(o!=o),0!=o?o:(s.it_cnt=e.it_cnt,o=a(s,r),e.it_cnt=s.it_cnt,s.mip_stat!=hc&&s.mip_stat!=dc?(e.mip_stat=s.mip_stat,o):t()))}var o,i,u,s;for((null==e||e.magic!=eu)&&r("glp_intopt: P = "+e+"; invalid problem object"),null!=e.tree&&r("glp_intopt: operation not allowed"),null==t&&(t=new is),t.msg_lev!=Ac&&t.msg_lev!=Mc&&t.msg_lev!=jc&&t.msg_lev!=Pc&&t.msg_lev!=Lc&&r("glp_intopt: msg_lev = "+t.msg_lev+"; invalid parameter"),t.br_tech!=Oc&&t.br_tech!=Tc&&t.br_tech!=Gc&&t.br_tech!=Rc&&t.br_tech!=Cc&&r("glp_intopt: br_tech = "+t.br_tech+"; invalid parameter"),t.bt_tech!=Xc&&t.bt_tech!=Bc&&t.bt_tech!=Dc&&t.bt_tech!=Uc&&r("glp_intopt: bt_tech = "+t.bt_tech+"; invalid parameter"),0<t.tol_int&&t.tol_int<1||r("glp_intopt: tol_int = "+t.tol_int+"; invalid parameter"),0<t.tol_obj&&t.tol_obj<1||r("glp_intopt: tol_obj = "+t.tol_obj+"; invalid parameter"),t.tm_lim<0&&r("glp_intopt: tm_lim = "+t.tm_lim+"; invalid parameter"),t.out_frq<0&&r("glp_intopt: out_frq = "+t.out_frq+"; invalid parameter"),t.out_dly<0&&r("glp_intopt: out_dly = "+t.out_dly+"; invalid parameter"),0<=t.cb_size&&t.cb_size<=256||r("glp_intopt: cb_size = "+t.cb_size+"; invalid parameter"),t.pp_tech!=Kc&&t.pp_tech!=Vc&&t.pp_tech!=Hc&&r("glp_intopt: pp_tech = "+t.pp_tech+"; invalid parameter"),t.mip_gap<0&&r("glp_intopt: mip_gap = "+t.mip_gap+"; invalid parameter"),t.mir_cuts!=ef&&t.mir_cuts!=nf&&r("glp_intopt: mir_cuts = "+t.mir_cuts+"; invalid parameter"),t.gmi_cuts!=ef&&t.gmi_cuts!=nf&&r("glp_intopt: gmi_cuts = "+t.gmi_cuts+"; invalid parameter"),t.cov_cuts!=ef&&t.cov_cuts!=nf&&r("glp_intopt: cov_cuts = "+t.cov_cuts+"; invalid parameter"),t.clq_cuts!=ef&&t.clq_cuts!=nf&&r("glp_intopt: clq_cuts = "+t.clq_cuts+"; invalid parameter"),t.presolve!=ef&&t.presolve!=nf&&r("glp_intopt: presolve = "+t.presolve+"; invalid parameter"),t.binarize!=ef&&t.binarize!=nf&&r("glp_intopt: binarize = "+t.binarize+"; invalid parameter"),t.fp_heur!=ef&&t.fp_heur!=nf&&r("glp_intopt: fp_heur = "+t.fp_heur+"; invalid parameter"),e.mip_stat=bc,e.mip_obj=0,o=1;o<=e.m;o++){var f=e.row[o];if(f.type==ec&&f.lb>=f.ub)return t.msg_lev>=Mc&&Yi("glp_intopt: row "+o+": lb = "+f.lb+", ub = "+f.ub+"; incorrect bounds"),u=df}for(i=1;i<=e.n;i++)if(s=e.col[i],s.type==ec&&s.lb>=s.ub)return t.msg_lev>=Mc&&Yi("glp_intopt: column "+i+": lb = "+s.lb+", ub = "+s.ub+"; incorrect bounds"),u=df;for(i=1;i<=e.n;i++)if(s=e.col[i],s.kind==Js){if((s.type==$s||s.type==ec)&&s.lb!=Math.floor(s.lb))return t.msg_lev>=Mc&&Yi("glp_intopt: integer column "+i+" has non-integer lower bound "+s.lb),u=df;if((s.type==Zs||s.type==ec)&&s.ub!=Math.floor(s.ub))return t.msg_lev>=Mc&&Yi("glp_intopt: integer column "+i+" has non-integer upper bound "+s.ub),u=df;if(s.type==nc&&s.lb!=Math.floor(s.lb))return t.msg_lev>=Mc&&Yi("glp_intopt: integer column "+i+" has non-integer fixed value "+s.lb),u=df}if(t.msg_lev>=Pc){var _,p=as(e),m=ls(e);Yi("GLPK Integer Optimizer, v"+Zi()),Yi(e.m+" row"+(1==e.m?"":"s")+", "+e.n+" column"+(1==e.n?"":"s")+", "+e.nnz+" non-zero"+(1==e.nnz?"":"s")),_=0==m?"none of":1==p&&1==m?"":1==m?"one of":m==p?"all of":m+" of",Yi(p+" integer variable"+(1==p?"":"s")+", "+_+" which "+(1==m?"is":"are")+" binary")}return u=t.presolve?l(e,t):a(e,t)},is=e.IOCP=function(e){e=e||{},this.msg_lev=e.msg_lev||Pc,this.br_tech=e.br_tech||Rc,this.bt_tech=e.bt_tech||Dc,this.tol_int=e.tol_int||1e-5,this.tol_obj=e.tol_obj||1e-7,this.tm_lim=e.tm_lim||Ui,this.out_frq=e.out_frq||5e3,this.out_dly=e.out_dly||1e4,this.cb_func=e.cb_func||null,this.cb_info=e.cb_info||null,this.cb_size=e.cb_size||0,this.pp_tech=e.pp_tech||Hc,this.mip_gap=e.mip_gap||0,this.mir_cuts=e.mir_cuts||nf,this.gmi_cuts=e.gmi_cuts||nf,this.cov_cuts=e.cov_cuts||nf,this.clq_cuts=e.clq_cuts||nf,this.presolve=e.presolve||nf,this.binarize=e.binarize||nf,this.fp_heur=e.fp_heur||nf},us=(e.glp_mip_status=function(e){return e.mip_stat},e.glp_mip_obj_val=function(e){return e.mip_obj},e.glp_mip_row_val=function(e,n){return n>=1&&n<=e.m||r("glp_mip_row_val: i = "+n+"; row number out of range"),e.row[n].mipx}),ss=e.glp_mip_col_val=function(e,n){return n>=1&&n<=e.n||r("glp_mip_col_val: j = "+n+"; column number out of range"),e.col[n].mipx},cs=e.glp_bf_exists=function(e){return 0==e.m||e.valid},fs=e.glp_factorize=function(e){function r(e,r,t,a){var l,o,i,u=e.m;if(n(r>=1&&u>=r),o=e.head[r],u>=o)i=1,t[1]=o,a[1]=1;else for(i=0,l=e.col[o-u].ptr;null!=l;l=l.c_next)i++,t[i]=l.row.i,a[i]=-l.row.rii*l.val*l.col.sjj;return i}var t,a,l,o,i=e.m,u=e.n,s=e.row,c=e.col,f=e.head;for(e.valid=0,t=0,a=1;i+u>=a;a++)if(i>=a?(l=s[a].stat,s[a].bind=0):(l=c[a-i].stat,c[a-i].bind=0),l==rc){if(t++,t>i)return o=pf;f[t]=a,i>=a?s[a].bind=t:c[a-i].bind=t}if(i>t)return o=pf;if(i>0){switch(null==e.bfd&&(e.bfd=S(),y(e)),N(e.bfd,i,e.head,r,e)){case 0:break;case js:return o=mf;case Ps:return o=bf;default:n(e!=e)}e.valid=1}return o=0},_s=(e.glp_bf_updated=function(e){return 0==e.m||e.valid||r("glp_bf_update: basis factorization does not exist"),0==e.m?0:R(e.bfd)},e.glp_get_bfcp=function(e,n){var r=e.bfcp;null==r?(n.type=yc,n.lu_size=0,n.piv_tol=.1,n.piv_lim=4,n.suhl=ef,n.eps_tol=1e-15,n.max_gro=1e10,n.nfs_max=100,n.upd_tol=1e-6,n.nrs_max=100,n.rs_size=0):t(n,r)}),ps=e.glp_set_bfcp=function(e,n){var a=e.bfcp;null==n?null!=a&&(e.bfcp=null):(null==a&&(a=e.bfcp={}),t(a,n),a.type!=yc&&a.type!=wc&&a.type!=xc&&r("glp_set_bfcp: type = "+a.type+"; invalid parameter"),a.lu_size<0&&r("glp_set_bfcp: lu_size = "+a.lu_size+"; invalid parameter"),0<a.piv_tol&&a.piv_tol<1||r("glp_set_bfcp: piv_tol = "+a.piv_tol+"; invalid parameter"),a.piv_lim<1&&r("glp_set_bfcp: piv_lim = "+a.piv_lim+"; invalid parameter"),a.suhl!=ef&&a.suhl!=nf&&r("glp_set_bfcp: suhl = "+a.suhl+"; invalid parameter"),0<=a.eps_tol&&a.eps_tol<=1e-6||r("glp_set_bfcp: eps_tol = "+a.eps_tol+"; invalid parameter"),a.max_gro<1&&r("glp_set_bfcp: max_gro = "+a.max_gro+"; invalid parameter"),1<=a.nfs_max&&a.nfs_max<=32767||r("glp_set_bfcp: nfs_max = "+a.nfs_max+"; invalid parameter"),0<a.upd_tol&&a.upd_tol<1||r("glp_set_bfcp: upd_tol = "+a.upd_tol+"; invalid parameter"),1<=a.nrs_max&&a.nrs_max<=32767||r("glp_set_bfcp: nrs_max = "+a.nrs_max+"; invalid parameter"),a.rs_size<0&&r("glp_set_bfcp: rs_size = "+a.nrs_max+"; invalid parameter"),0==a.rs_size&&(a.rs_size=20*a.nrs_max)),null!=e.bfd&&y(e)},ms=e.glp_get_bhead=function(e,n){return 0==e.m||e.valid||r("glp_get_bhead: basis factorization does not exist"),n>=1&&n<=e.m||r("glp_get_bhead: k = "+n+"; index out of range"),e.head[n]},bs=e.glp_get_row_bind=function(e,n){return 0==e.m||e.valid||r("glp_get_row_bind: basis factorization does not exist"),
n>=1&&n<=e.m||r("glp_get_row_bind: i = "+n+"; row number out of range"),e.row[n].bind},ds=e.glp_get_col_bind=function(e,n){return 0==e.m||e.valid||r("glp_get_col_bind: basis factorization does not exist"),n>=1&&n<=e.n||r("glp_get_col_bind: j = "+n+"; column number out of range"),e.col[n].bind},vs=e.glp_ftran=function(e,n){var t,a,l=e.m,o=e.row,i=e.col;for(0==l||e.valid||r("glp_ftran: basis factorization does not exist"),t=1;l>=t;t++)n[t]*=o[t].rii;for(l>0&&O(e.bfd,n),t=1;l>=t;t++)a=e.head[t],l>=a?n[t]/=o[a].rii:n[t]*=i[a-l].sjj},gs=e.glp_btran=function(e,n){var t,a,l=e.m,o=e.row,i=e.col;for(0==l||e.valid||r("glp_btran: basis factorization does not exist"),t=1;l>=t;t++)a=e.head[t],l>=a?n[t]/=o[a].rii:n[t]*=i[a-l].sjj;for(l>0&&T(e.bfd,n),t=1;l>=t;t++)n[t]*=o[t].rii},hs=(e.glp_warm_up=function(e){var r,t,a,l,o,i,u,s,c,f,_;for(e.pbs_stat=e.dbs_stat=bc,e.obj_val=0,e.some=0,l=1;l<=e.m;l++)r=e.row[l],r.prim=r.dual=0;for(o=1;o<=e.n;o++)t=e.col[o],t.prim=t.dual=0;if(!cs(e)&&(s=fs(e),0!=s))return s;for(_=new Float64Array(1+e.m),l=1;l<=e.m;l++)r=e.row[l],r.stat!=rc&&(r.stat==tc?r.prim=r.lb:r.stat==ac?r.prim=r.ub:r.stat==lc?r.prim=0:r.stat==oc?r.prim=r.lb:n(r!=r),_[l]-=r.prim);for(o=1;o<=e.n;o++)if(t=e.col[o],t.stat!=rc&&(t.stat==tc?t.prim=t.lb:t.stat==ac?t.prim=t.ub:t.stat==lc?t.prim=0:t.stat==oc?t.prim=t.lb:n(t!=t),0!=t.prim))for(a=t.ptr;null!=a;a=a.c_next)_[a.row.i]+=a.val*t.prim;for(vs(e,_),e.pbs_stat=dc,l=1;l<=e.m;l++)r=e.row[l],r.stat==rc&&(r.prim=_[r.bind],i=r.type,(i==$s||i==ec||i==nc)&&(c=1e-6+1e-9*Math.abs(r.lb),r.prim<r.lb-c&&(e.pbs_stat=vc)),(i==Zs||i==ec||i==nc)&&(c=1e-6+1e-9*Math.abs(r.ub),r.prim>r.ub+c&&(e.pbs_stat=vc)));for(o=1;o<=e.n;o++)t=e.col[o],t.stat==rc&&(t.prim=_[t.bind],i=t.type,(i==$s||i==ec||i==nc)&&(c=1e-6+1e-9*Math.abs(t.lb),t.prim<t.lb-c&&(e.pbs_stat=vc)),(i==Zs||i==ec||i==nc)&&(c=1e-6+1e-9*Math.abs(t.ub),t.prim>t.ub+c&&(e.pbs_stat=vc)));for(e.obj_val=e.c0,o=1;o<=e.n;o++)t=e.col[o],e.obj_val+=t.coef*t.prim;for(l=1;l<=e.m;l++)_[l]=0;for(o=1;o<=e.n;o++)t=e.col[o],t.stat==rc&&(_[t.bind]=t.coef);for(gs(e,_),e.dbs_stat=dc,l=1;l<=e.m;l++)r=e.row[l],r.stat!=rc?(r.dual=-_[l],u=r.stat,f=e.dir==Vs?+r.dual:-r.dual,((u==lc||u==tc)&&-1e-5>f||(u==lc||u==ac)&&f>1e-5)&&(e.dbs_stat=vc)):r.dual=0;for(o=1;o<=e.n;o++)if(t=e.col[o],t.stat!=rc){for(t.dual=t.coef,a=t.ptr;null!=a;a=a.c_next)t.dual+=a.val*_[a.row.i];u=t.stat,f=e.dir==Vs?+t.dual:-t.dual,((u==lc||u==tc)&&-1e-5>f||(u==lc||u==ac)&&f>1e-5)&&(e.dbs_stat=vc)}else t.dual=0;return 0},e.glp_eval_tab_row=function(e,t,a,l){var o,i,u,s,c,f,_,p,m=e.m,b=e.n;for(0==m||e.valid||r("glp_eval_tab_row: basis factorization does not exist"),t>=1&&m+b>=t||r("glp_eval_tab_row: k = "+t+"; variable number out of range"),o=m>=t?bs(e,t):ds(e,t-m),0==o&&r("glp_eval_tab_row: k = "+t+"; variable must be basic"),n(o>=1&&m>=o),_=new Float64Array(1+m),c=new Int32Array(1+m),p=new Float64Array(1+m),_[o]=1,gs(e,_),u=0,t=1;m+b>=t;t++){if(m>=t){if(Qu(e,t)==rc)continue;f=-_[t]}else{if(Zu(e,t-m)==rc)continue;for(s=Eu(e,t-m,c,p),f=0,i=1;s>=i;i++)f+=_[c[i]]*p[i]}0!=f&&(u++,a[u]=t,l[u]=f)}return n(b>=u),u}),ks=e.glp_eval_tab_col=function(e,n,t,a){var l,o,i,u,s=e.m,c=e.n;if(0==s||e.valid||r("glp_eval_tab_col: basis factorization does not exist"),n>=1&&s+c>=n||r("glp_eval_tab_col: k = "+n+"; variable number out of range"),i=s>=n?Qu(e,n):Zu(e,n-s),i==rc&&r("glp_eval_tab_col: k = "+n+"; variable must be non-basic"),u=new Float64Array(1+s),s>=n)u[n]=-1;else for(o=Eu(e,n-s,t,a),l=1;o>=l;l++)u[t[l]]=a[l];for(vs(e,u),o=0,l=1;s>=l;l++)0!=u[l]&&(o++,t[o]=ms(e,l),a[o]=u[l]);return o},ys=e.glp_transform_row=function(e,t,a,l){var o,i,u,s,c,f,_,p,m,b,d,v,g;for(cs(e)||r("glp_transform_row: basis factorization does not exist "),s=ku(e),c=yu(e),b=new Float64Array(1+c),t>=0&&c>=t||r("glp_transform_row: len = "+t+"; invalid row length"),f=1;t>=f;f++)i=a[f],i>=1&&c>=i||r("glp_transform_row: ind["+f+"] = "+i+"; column index out of range"),0==l[f]&&r("glp_transform_row: val["+f+"] = 0; zero coefficient not allowed"),0!=b[i]&&r("glp_transform_row: ind["+f+"] = "+i+"; duplicate column indices not allowed"),b[i]=l[f];for(d=new Float64Array(1+s),o=1;s>=o;o++)u=ms(e,o),n(u>=1&&s+c>=u),d[o]=s>=u?0:b[u-s];for(v=d,gs(e,v),t=0,o=1;s>=o;o++)Qu(e,o)!=rc&&(m=-v[o],0!=m&&(t++,a[t]=o,l[t]=m));for(p=new Int32Array(1+s),g=new Float64Array(1+s),i=1;c>=i;i++)if(Zu(e,i)!=rc){for(m=b[i],_=Eu(e,i,p,g),f=1;_>=f;f++)m+=g[f]*v[p[f]];0!=m&&(t++,a[t]=s+i,l[t]=m)}return n(c>=t),t},ws=(e.glp_transform_col=function(e,n,t,a){var l,o,i,u,s;for(cs(e)||r("glp_transform_col: basis factorization does not exist "),o=ku(e),u=new Float64Array(1+o),n>=0&&o>=n||r("glp_transform_col: len = "+n+"; invalid column length"),i=1;n>=i;i++)l=t[i],l>=1&&o>=l||r("glp_transform_col: ind["+i+"] = "+l+"; row index out of range"),0==a[i]&&r("glp_transform_col: val["+i+"] = 0; zero coefficient not allowed"),0!=u[l]&&r("glp_transform_col: ind["+i+"] = "+l+"; duplicate row indices not allowed"),u[l]=a[i];for(s=u,vs(e,s),n=0,l=1;o>=l;l++)0!=s[l]&&(n++,t[n]=ms(e,l),a[n]=s[l]);return n},e.glp_prim_rtest=function(e,t,a,l,o,i){var u,s,c,f,_,p,m,b,d,v,g,h,k,y;for(Hu(e)!=dc&&r("glp_prim_rtest: basic solution is not primal feasible "),1!=o&&-1!=o&&r("glp_prim_rtest: dir = "+o+"; invalid parameter"),i>0&&1>i||r("glp_prim_rtest: eps = "+i+"; invalid parameter"),s=ku(e),c=yu(e),f=0,y=Xi,d=0,_=1;t>=_;_++)if(u=a[_],u>=1&&s+c>=u||r("glp_prim_rtest: ind["+_+"] = "+u+"; variable number out of range"),s>=u?(p=Au(e,u),g=Mu(e,u),h=ju(e,u),m=Qu(e,u),v=Yu(e,u)):(p=Pu(e,u-s),g=Lu(e,u-s),h=zu(e,u-s),m=Zu(e,u-s),v=es(e,u-s)),m!=rc&&r("glp_prim_rtest: ind["+_+"] = "+u+"; non-basic variable not allowed"),b=o>0?+l[_]:-l[_],p!=Ys){if(p==$s){if(b>-i)continue;k=(g-v)/b}else if(p==Zs){if(+i>b)continue;k=(h-v)/b}else if(p==ec)if(0>b){if(b>-i)continue;k=(g-v)/b}else{if(+i>b)continue;k=(h-v)/b}else if(p==nc){if(b>-i&&+i>b)continue;k=0}else n(p!=p);0>k&&(k=0),(y>k||y==k&&d<Math.abs(b))&&(f=_,y=k,d=Math.abs(b))}return f}),xs=e.glp_dual_rtest=function(e,t,a,l,o,i){var u,s,c,f,_,p,m,b,d,v,g,h;for(Wu(e)!=dc&&r("glp_dual_rtest: basic solution is not dual feasible"),1!=o&&-1!=o&&r("glp_dual_rtest: dir = "+o+"; invalid parameter"),i>0&&1>i||r("glp_dual_rtest: eps = "+i+"; invalid parameter"),s=ku(e),c=yu(e),v=hu(e)==Vs?1:-1,f=0,h=Xi,b=0,_=1;t>=_;_++){if(u=a[_],u>=1&&s+c>=u||r("glp_dual_rtest: ind["+_+"] = "+u+"; variable number out of range"),s>=u?(p=Qu(e,u),d=$u(e,u)):(p=Zu(e,u-s),d=ns(e,u-s)),p==rc&&r("glp_dual_rtest: ind["+_+"] = "+u+"; basic variable not allowed"),m=o>0?+l[_]:-l[_],p==tc){if(+i>m)continue;g=v*d/m}else if(p==ac){if(m>-i)continue;g=v*d/m}else if(p==lc){if(m>-i&&+i>m)continue;g=0}else{if(p==oc)continue;n(p!=p)}0>g&&(g=0),(h>g||h==g&&b<Math.abs(m))&&(f=_,h=g,b=Math.abs(m))}return f},As=(e.glp_analyze_bound=function(e,t,a){function l(){0>f?(x=v,A=_):(M=v,j=_)}var o,i,u,s,c,f,_,p,m,b,d,v,g,h,k,y,w,x,A,M,j;for(x=A=M=j=null,(null==e||e.magic!=eu)&&r("glp_analyze_bound: P = "+e+"; invalid problem object"),u=e.m,s=e.n,(e.pbs_stat!=dc||e.dbs_stat!=dc)&&r("glp_analyze_bound: optimal basic solution required"),0==u||e.valid||r("glp_analyze_bound: basis factorization required"),t>=1&&u+s>=t||r("glp_analyze_bound: k = "+t+"; variable number out of range"),u>=t?(o=e.row[t],c=o.stat,d=o.prim):(i=e.col[t-u],c=i.stat,d=i.prim),c==rc&&r("glp_analyze_bound: k = "+t+"; basic variable not allowed "),b=new Int32Array(1+u),w=new Float64Array(1+u),p=ks(e,t,b,w),n(p>=0&&u>=p),f=-1;1>=f;f+=2)m=ws(e,p,b,w,f,1e-9),0!=m?(n(m>=1&&p>=m),_=b[m],u>=_?(o=e.row[_],g=Mu(e,o.i),h=ju(e,o.i),c=o.stat,k=o.prim):(i=e.col[_-u],g=Lu(e,i.j),h=zu(e,i.j),c=i.stat,k=i.prim),n(c==rc),0>f&&w[m]>0||f>0&&w[m]<0?(n(g!=-Xi),y=g-k):(n(h!=+Xi),y=h-k),n(0!=w[m]),v=d+y/w[m],l()):(_=0,v=0>f?-Xi:+Xi,l());a(x,A,M,j)},e.glp_analyze_coef=function(e,t,a){function l(){0>_?(N=j,O=m,T=P):(G=j,R=m,C=P)}var o,i,u,s,c,f,_,p,m,b,d,v,g,h,k,y,w,x,A,M,j,P,L,z,I,E,F,S,q,N=null,O=null,T=null,G=null,R=null,C=null;for((null==e||e.magic!=eu)&&r("glp_analyze_coef: P = "+e+"; invalid problem object"),u=e.m,s=e.n,(e.pbs_stat!=dc||e.dbs_stat!=dc)&&r("glp_analyze_coef: optimal basic solution required"),0==u||e.valid||r("glp_analyze_coef: basis factorization required"),t>=1&&u+s>=t||r("glp_analyze_coef: k = "+t+"; variable number out of range"),u>=t?(o=e.row[t],c=o.type,w=o.lb,x=o.ub,A=0,f=o.stat,M=o.prim):(i=e.col[t-u],c=i.type,w=i.lb,x=i.ub,A=i.coef,f=i.stat,M=i.prim),f!=rc&&r("glp_analyze_coef: k = "+t+"; non-basic variable not allowed"),k=new Int32Array(1+u),q=new Float64Array(1+u),y=new Int32Array(1+s),S=new Float64Array(1+s),g=hs(e,t,y,S),n(g>=0&&s>=g),_=-1;1>=_;_+=2)e.dir==Vs?b=-_:e.dir==Hs?b=+_:n(e!=e),h=xs(e,g,y,S,b,1e-9),0!=h?(n(h>=1&&g>=h),m=y[h],n(m>=1&&u+s>=m),u>=m?(o=e.row[m],f=o.stat,L=o.dual):(i=e.col[m-u],f=i.stat,L=i.dual),n(0!=S[h]),z=-L/S[h],j=A+z,b=0>_&&S[h]>0||_>0&&S[h]<0?1:-1,e.dir==Hs&&(b=-b),n(b>0?f==tc||f==lc:f==ac||f==lc),d=ks(e,m,k,q),u>=t?(o=e.row[t],o.type=Ys,o.lb=o.ub=0):(i=e.col[t-u],i.type=Ys,i.lb=i.ub=0),v=ws(e,d,k,q,b,1e-9),u>=t?(o=e.row[t],o.type=c,o.lb=w,o.ub=x):(i=e.col[t-u],i.type=c,i.lb=w,i.ub=x),0!=v?(n(v>=1&&d>=v),p=k[v],n(p>=1&&u+s>=p),n(p!=t),u>=p?(o=e.row[p],n(o.stat==rc),I=Mu(e,o.i),E=ju(e,o.i),F=o.prim):(i=e.col[p-u],n(i.stat==rc),I=Lu(e,i.j),E=zu(e,i.j),F=i.prim),0>b&&q[v]>0||b>0&&q[v]<0?(n(I!=-Xi),z=I-F):(n(E!=+Xi),z=E-F),n(0!=q[v]),P=M+S[h]/q[v]*z,l()):(P=0>b&&S[h]>0||b>0&&S[h]<0?-Xi:+Xi,l())):(j=0>_?-Xi:+Xi,m=0,P=M,l());a(N,O,T,G,R,C)},e.glp_ios_reason=function(e){return e.reason},e.glp_ios_get_prob=function(e){return e.mip},e.glp_mpl_alloc_wksp=function(){return md()},e._glp_mpl_init_rand=function(e,n){0!=e.phase&&r("glp_mpl_init_rand: invalid call sequence\n"),ki(e.rand,n)},e.glp_mpl_read_model=function(e,t,a,l){var o;return 0!=e.phase&&r("glp_mpl_read_model: invalid call sequence"),o=bd(e,t,a,l),1==o||2==o?o=0:4==o?o=1:n(o!=o),o}),Ms=(e.glp_mpl_read_model_from_string=function(e,n,r,t){var a=0;return As(e,n,function(){return a<r.length?r[a++]:-1},t)},e.glp_mpl_read_data=function(e,t,a){var l;return 1!=e.phase&&2!=e.phase&&r("glp_mpl_read_data: invalid call sequence"),l=dd(e,t,a),2==l?l=0:4==l?l=1:n(l!=l),l}),js=(e.glp_mpl_read_data_from_string=function(e,n,r){var t=0;return Ms(e,n,function(){return t<r.length?r[t++]:-1})},e.glp_mpl_generate=function(e,n,t,a){var l;return 1!=e.phase&&2!=e.phase&&r("glp_mpl_generate: invalid call sequence\n"),l=vd(e,n,t,a),3==l?l=0:4==l&&(l=1),l},e.glp_mpl_build_prob=function(e,t){var a,l,o,i,u,s,c,f,_,p,m,b;for(3!=e.phase&&r("glp_mpl_build_prob: invalid call sequence\n"),vu(t),ru(t,gd(e)),a=hd(e),a>0&&lu(t,a),o=1;a>=o;o++){switch(iu(t,o,yd(e,o)),c=xd(e,o,function(e,n){p=e,m=n})){case Wb:c=Ys;break;case Jb:c=$s;break;case Qb:c=Zs;break;case Yb:c=ec;break;case $b:c=nc;break;default:n(c!=c)}c==ec&&Math.abs(p-m)<1e-9*(1+Math.abs(p))&&(c=nc,Math.abs(p)<=Math.abs(m)?m=p:p=m),su(t,o,c,p,m),0!=Md(e,o)&&Yi("glp_mpl_build_prob: row "+yd(e,o)+"; constant term "+Md(e,o)+" ignored")}for(l=kd(e),l>0&&ou(t,l),i=1;l>=i;i++){switch(uu(t,i,jd(e,i)),s=Pd(e,i)){case rd:break;case td:case ad:rs(t,i,Js);break;default:n(s!=s)}switch(c=Ld(e,i,function(e,n){p=e,m=n})){case Wb:c=Ys;break;case Jb:c=$s;break;case Qb:c=Zs;break;case Yb:c=ec;break;case $b:c=nc;break;default:n(c!=c)}s==ad&&((c==Ys||c==Zs||0>p)&&(p=0),(c==Ys||c==$s||m>1)&&(m=1),c=ec),c==ec&&Math.abs(p-m)<1e-9*(1+Math.abs(p))&&(c=nc,Math.abs(p)<=Math.abs(m)?m=p:p=m),cu(t,i,c,p,m)}for(_=new Int32Array(1+l),b=new Float64Array(1+l),o=1;a>=o;o++)f=Ad(e,o,_,b),_u(t,o,f,_,b);for(o=1;a>=o;o++)if(s=wd(e,o),s==ed||s==nd){for(tu(t,yd(e,o)),au(t,s==ed?Vs:Hs),fu(t,0,Md(e,o)),f=Ad(e,o,_,b),u=1;f>=u;u++)fu(t,_[u],b[u]);break}},e.glp_mpl_postsolve=function(e,t,a){var l,o,i,u,s,c,f,_;if((3!=e.phase||e.flag_p)&&r("glp_mpl_postsolve: invalid call sequence"),a!=_c&&a!=pc&&a!=mc&&r("glp_mpl_postsolve: sol = "+a+"; invalid parameter"),i=hd(e),u=kd(e),(i!=ku(t)||u!=yu(t))&&r("glp_mpl_postsolve: wrong problem object\n"),!zd(e))return 0;for(l=1;i>=l;l++)a==_c?(s=Qu(t,l),f=Yu(t,l),_=$u(t,l)):a==pc?(s=0,f=glp_ipt_row_prim(t,l),_=glp_ipt_row_dual(t,l)):a==mc?(s=0,f=us(t,l),_=0):n(a!=a),Math.abs(f)<1e-9&&(f=0),Math.abs(_)<1e-9&&(_=0),Id(e,l,s,f,_);for(o=1;u>=o;o++)a==_c?(s=Zu(t,o),f=es(t,o),_=ns(t,o)):a==pc?(s=0,f=glp_ipt_col_prim(t,o),_=glp_ipt_col_dual(t,o)):a==mc?(s=0,f=ss(t,o),_=0):n(a!=a),Math.abs(f)<1e-9&&(f=0),Math.abs(_)<1e-9&&(_=0),Ed(e,o,s,f,_);return c=Fd(e),3==c?c=0:4==c&&(c=1),c},1),Ps=2,Ls=3,zs=4,Is=5,Es="!\"#$%&()/,.;?@_`'{}|~",Fs=e.glp_read_lp=function(e,r,t){function o(e,n){throw new Error(e.count+": "+n)}function i(e,n){Yi(e.count+": warning: "+n)}function u(e){var r;n(e.c!=Qi),"\n"==e.c&&e.count++,r=e.callback(),0>r?"\n"==e.c?(e.count--,r=Qi):(i(e,"missing final end of line"),r="\n"):"\n"==r||(f(r)?r=" ":_(r)&&o(e,"invalid control character "+r.charCodeAt(0))),e.c=r}function s(e){e.image+=e.c,u(e)}function c(e,n){return e.toLowerCase()==n.toLowerCase()?1:0}function g(e){function n(){for(e.token=G;m(e.c)||d(Es,e.c)>=0;)s(e);r&&(c(e.image,"minimize")?e.token=I:c(e.image,"minimum")?e.token=I:c(e.image,"min")?e.token=I:c(e.image,"maximize")?e.token=E:c(e.image,"maximum")?e.token=E:c(e.image,"max")?e.token=E:c(e.image,"subject")?" "==e.c&&(u(e),"t"==v(e.c)&&(e.token=F,e.image+=" ",s(e),"o"!=v(e.c)&&o(e,"keyword `subject to' incomplete"),s(e),p(e.c)&&o(e,"keyword `"+e.image+e.c+"...' not recognized"))):c(e.image,"such")?" "==e.c&&(u(e),"t"==v(e.c)&&(e.token=F,e.image+=" ",s(e),"h"!=v(e.c)&&o(e,"keyword `such that' incomplete"),s(e),"a"!=v(e.c)&&o(e,"keyword `such that' incomplete"),s(e),"t"!=v(e.c)&&o(e,"keyword `such that' incomplete"),s(e),p(e.c)&&o(e,"keyword `"+e.image+e.c+"...' not recognized"))):c(e.image,"st")?e.token=F:c(e.image,"s.t.")?e.token=F:c(e.image,"st.")?e.token=F:c(e.image,"bounds")?e.token=S:c(e.image,"bound")?e.token=S:c(e.image,"general")?e.token=q:c(e.image,"generals")?e.token=q:c(e.image,"gen")?e.token=q:c(e.image,"integer")?e.token=N:c(e.image,"integers")?e.token=N:c(e.image,"int")?e.token=N:c(e.image,"binary")?e.token=O:c(e.image,"binaries")?e.token=O:c(e.image,"bin")?e.token=O:c(e.image,"end")&&(e.token=T))}var r;for(e.token=-1,e.image="",e.value=0;;){for(r=0;" "==e.c;)u(e);if(e.c==Qi)e.token=z;else if("\n"==e.c){if(u(e),!p(e.c))continue;r=1,n()}else{if("\\"==e.c){for(;"\n"!=e.c;)u(e);continue}if(p(e.c)||"."!=e.c&&d(Es,e.c)>=0)n();else if(b(e.c)||"."==e.c){for(e.token=R;b(e.c);)s(e);if("."==e.c)for(s(e),1!=e.image.length||b(e.c)||o(e,"invalid use of decimal point");b(e.c);)s(e);if("e"==e.c||"E"==e.c)for(s(e),("+"==e.c||"-"==e.c)&&s(e),b(e.c)||o(e,"numeric constant `"+e.image+"' incomplete");b(e.c);)s(e);e.value=Number(e.image),e.value==Number.NaN&&o(e,"numeric constant `"+e.image+"' out of range")}else"+"==e.c?(e.token=X,s(e)):"-"==e.c?(e.token=B,s(e)):":"==e.c?(e.token=D,s(e)):"<"==e.c?(e.token=U,s(e),"="==e.c&&s(e)):">"==e.c?(e.token=K,s(e),"="==e.c&&s(e)):"="==e.c?(e.token=V,s(e),"<"==e.c?(e.token=U,s(e)):">"==e.c&&(e.token=K,s(e))):o(e,"character `"+e.c+"' not recognized")}break}for(;" "==e.c;)u(e)}function h(e,n){var r=qu(e.P,n);if(0==r){if(r=ou(e.P,1),uu(e.P,r,n),e.n_max<r){var t=e.n_max,o=e.ind,i=e.val,u=e.flag,s=e.lb,c=e.ub;e.n_max+=e.n_max,e.ind=new Int32Array(1+e.n_max),a(e.ind,1,o,1,t),e.val=new Float64Array(1+e.n_max),a(e.val,1,i,1,t),e.flag=new Int8Array(1+e.n_max),l(e.flag,1,0,e.n_max),a(e.flag,1,u,1,t),e.lb=new Float64Array(1+e.n_max),a(e.lb,1,s,1,t),e.ub=new Float64Array(1+e.n_max),a(e.ub,1,c,1,t)}e.lb[r]=+Xi,e.ub[r]=-Xi}return r}function k(e){for(var n,r,t,a,l,i=0;;)if(e.token==X?(a=1,g(e)):e.token==B?(a=-1,g(e)):a=1,e.token==R?(l=e.value,g(e)):l=1,e.token!=G&&o(e,"missing variable name"),n=h(e,e.image),e.flag[n]&&o(e,"multiple use of variable `"+e.image+"' not allowed"),i++,e.ind[i]=n,e.val[i]=a*l,e.flag[n]=1,g(e),e.token!=X&&e.token!=B){for(r=1;i>=r;r++)e.flag[e.ind[r]]=0;for(t=0,r=1;i>=r;r++)0!=e.val[r]&&(t++,e.ind[t]=e.ind[r],e.val[t]=e.val[r]);break}return t}function y(e){var r,t;for(e.token==I?au(e.P,Vs):e.token==E?au(e.P,Hs):n(e!=e),g(e),e.token==G&&":"==e.c?(tu(e.P,e.image),g(e),n(e.token==D),g(e)):tu(e.P,"obj"),t=k(e),r=1;t>=r;r++)fu(e.P,e.ind[r],e.val[r])}function w(e){var r,t,a,l;for(n(e.token==F),g(e);;)if(r=lu(e.P,1),e.token==G&&":"==e.c?(0!=Su(e.P,e.image)&&o(e,"constraint `"+e.image+"' multiply defined"),iu(e.P,r,e.image),g(e),n(e.token==D),g(e)):iu(e.P,r,"r."+e.count),t=k(e),_u(e.P,r,t,e.ind,e.val),e.token==U?(a=Zs,g(e)):e.token==K?(a=$s,g(e)):e.token==V?(a=nc,g(e)):o(e,"missing constraint sense"),e.token==X?(l=1,g(e)):e.token==B?(l=-1,g(e)):l=1,e.token!=R&&o(e,"missing right-hand side"),su(e.P,r,a,l*e.value,l*e.value),"\n"!=e.c&&e.c!=Qi&&o(e,"invalid symbol(s) beyond right-hand side"),g(e),e.token!=X&&e.token!=B&&e.token!=R&&e.token!=G)break}function x(e,n,r){e.lb[n]!=+Xi&&i(e,"lower bound of variable `"+xu(e.P,n)+"' redefined"),e.lb[n]=r}function A(e,n,r){e.ub[n]!=-Xi&&i(e,"upper bound of variable `"+xu(e.P,n)+"' redefined"),e.ub[n]=r}function M(e){var r,t,a,l;for(n(e.token==S),g(e);;){if(e.token!=X&&e.token!=B&&e.token!=R&&e.token!=G)return;e.token==X||e.token==B?(t=1,l=e.token==X?1:-1,g(e),e.token==R?(a=l*e.value,g(e)):c(e.image,"infinity")||c(e.image,"inf")?(l>0&&o(e,"invalid use of `+inf' as lower bound"),a=-Xi,g(e)):o(e,"missing lower bound")):e.token==R?(t=1,a=e.value,g(e)):t=0,t&&(e.token!=U&&o(e,"missing `<', `<=', or `=<' after lower bound"),g(e)),e.token!=G&&o(e,"missing variable name"),r=h(e,e.image),t&&x(e,r,a),g(e),e.token==U?(g(e),e.token==X||e.token==B?(l=e.token==X?1:-1,g(e),e.token==R?(A(e,r,l*e.value),g(e)):c(e.image,"infinity")||c(e.image,"inf")?(0>l&&o(e,"invalid use of `-inf' as upper bound"),A(e,r,+Xi),g(e)):o(e,"missing upper bound")):e.token==R?(A(e,r,e.value),g(e)):o(e,"missing upper bound")):e.token==K?(t&&o(e,"invalid bound definition"),g(e),e.token==X||e.token==B?(l=e.token==X?1:-1,g(e),e.token==R?(x(e,r,l*e.value),g(e)):c(e.image,"infinity")||0==c(e.image,"inf")?(l>0&&o(e,"invalid use of `+inf' as lower bound"),x(e,r,-Xi),g(e)):o(e,"missing lower bound")):e.token==R?(x(e,r,e.value),g(e)):o(e,"missing lower bound")):e.token==V?(t&&o(e,"invalid bound definition"),g(e),e.token==X||e.token==B?(l=e.token==X?1:-1,g(e),e.token==R?(x(e,r,l*e.value),A(e,r,l*e.value),g(e)):o(e,"missing fixed value")):e.token==R?(x(e,r,e.value),A(e,r,e.value),g(e)):o(e,"missing fixed value")):c(e.image,"free")?(t&&o(e,"invalid bound definition"),x(e,r,-Xi),A(e,r,+Xi),g(e)):t||o(e,"invalid bound definition")}}function j(e){var r,t;for(e.token==q?(t=0,g(e)):e.token==N?(t=0,g(e)):e.token==O?(t=1,g(e)):n(e!=e);e.token==G;)r=h(e,e.image),rs(e.P,r,Js),t&&(x(e,r,0),A(e,r,1)),g(e)}function P(){return 0!=L&&vu(e),L}var L,z=0,I=1,E=2,F=3,S=4,q=5,N=6,O=7,T=8,G=9,R=10,X=11,B=12,D=13,U=14,K=15,V=16,H={};for(Yi("Reading problem data"),null==r&&(r={}),C("glp_read_lp",r),H.P=e,H.parm=r,H.callback=t,H.count=0,H.c="\n",H.token=z,H.image="",H.value=0,H.n_max=100,H.ind=new Int32Array(1+H.n_max),H.val=new Float64Array(1+H.n_max),H.flag=new Int8Array(1+H.n_max),l(H.flag,1,0,H.n_max),H.lb=new Float64Array(1+H.n_max),H.ub=new Float64Array(1+H.n_max),vu(e),Fu(e),g(H),H.token!=I&&H.token!=E&&o(H,"`minimize' or `maximize' keyword missing"),y(H),H.token!=F&&o(H,"constraints section missing"),w(H),H.token==S&&M(H);H.token==q||H.token==N||H.token==O;)j(H);H.token==T?g(H):H.token==z?i(H,"keyword `end' missing"):o(H,"symbol "+H.image+" in wrong position"),H.token!=z&&o(H,"extra symbol(s) detected beyond `end'");var W,J,Q,Y;for(W=1;W<=e.n;W++)Q=H.lb[W],Y=H.ub[W],Q==+Xi&&(Q=0),Y==-Xi&&(Y=+Xi),J=Q==-Xi&&Y==+Xi?Ys:Y==+Xi?$s:Q==-Xi?Zs:Q!=Y?ec:nc,cu(H.P,W,J,Q,Y);if(Yi(e.m+" row"+(1==e.m?"":"s")+", "+e.n+" column"+(1==e.n?"":"s")+", "+e.nnz+" non-zero"+(1==e.nnz?"":"s")),as(e)>0){var $=as(e),Z=ls(e);if(1==$)Yi(0==Z?"One variable is integer":"One variable is binary");else{var ee=$+" integer variables, ";ee+=0==Z?"none":1==Z?"one":Z==$?"all":Z,Yi(ee+" of which "+(1==Z?"is":"are")+" binary")}}return Yi(H.count+" lines were read"),Nu(e),mu(e),L=0,P()},Ss=(e.glp_write_lp=function(e,r,t){function a(e){if("."==e[0])return 1;if(b(e[0]))return 1;for(var n=0;n<e.length;n++)if(!m(e[n])&&d(Es,e[n])<0)return 1;return 0}function l(e){for(var n=0;n<e.length;n++)" "==e[n]?e[n]="_":"-"==e[n]?e[n]="~":"["==e[n]?e[n]="(":"]"==e[n]&&(e[n]=")")}function o(e,n){function r(){return 0==n?"obj":"r_"+n}var t;return t=0==n?gu(e.P):wu(e.P,n),null==t?r():(l(t),a(t)?r():t)}function i(e,n){function r(){return"x_"+n}var t=xu(e.P,n);return null==t?r():(l(t),a(t)?r():t)}function u(){return t("End"),h++,Yi(h+" lines were written"),0}var s,c,f,_,p,v,g,h,k,y,w,x={};if(Yi("Writing problem data"),null==r&&(r={}),C("glp_write_lp",r),x.P=e,x.parm=r,h=0,t("\\* Problem: "+(null==e.name?"Unknown":e.name)+" *\\"),h++,t(""),h++,!(e.m>0&&e.n>0))return Yi("Warning: problem has no rows/columns"),t("\\* WARNING: PROBLEM HAS NO ROWS/COLUMNS *\\"),h++,t(""),h++,u();for(e.dir==Vs?(t("Minimize"),h++):e.dir==Hs?(t("Maximize"),h++):n(e!=e),w=o(x,0),k=" "+w+":",v=0,p=1;p<=e.n;p++)c=e.col[p],(0!=c.coef||null==c.ptr)&&(v++,w=i(x,p),y=0==c.coef?" + 0 "+w:1==c.coef?" + "+w:-1==c.coef?" - "+w:c.coef>0?" + "+c.coef+" "+w:" - "+-c.coef+" "+w,k.length+y.length>72&&(t(k),k="",h++),k+=y);for(0==v&&(y=" 0 "+i(x,1),k+=y),t(k),h++,0!=e.c0&&(t("\\* constant term = "+e.c0+" *\\"),h++),t(""),h++,t("Subject To"),h++,_=1;_<=e.m;_++)if(s=e.row[_],s.type!=Ys){for(w=o(x,_),k=" "+w+":",f=s.ptr;null!=f;f=f.r_next)w=i(x,f.col.j),y=1==f.val?" + "+w:-1==f.val?" - "+w:f.val>0?" + "+f.val+" "+w:" - "+-f.val+" "+w,k.length+y.length>72&&(t(k),k="",h++),k+=y;s.type==ec?(y=" - ~r_"+_,k.length+y.length>72&&(t(k),k="",h++),k+=y):null==s.ptr&&(y=" 0 "+i(x,1),k+=y),s.type==$s?y=" >= "+s.lb:s.type==Zs?y=" <= "+s.ub:s.type==ec||s.type==nc?y=" = "+s.lb:n(s!=s),k.length+y.length>72&&(t(k),k="",h++),k+=y,t(k),h++}for(t(""),h++,g=0,_=1;_<=e.m;_++)s=e.row[_],s.type==ec&&(g||(t("Bounds"),g=1,h++),t(" 0 <= ~r_"+_+" <= "+(s.ub-s.lb)),h++);for(p=1;p<=e.n;p++)c=e.col[p],(c.type!=$s||0!=c.lb)&&(g||(t("Bounds"),g=1,h++),w=i(x,p),c.type==Ys?(t(" "+w+" free"),h++):c.type==$s?(t(" "+w+" >= "+c.lb),h++):c.type==Zs?(t(" -Inf <= "+w+" <= "+c.ub),h++):c.type==ec?(t(" "+c.lb+" <= "+w+" <= "+c.ub),h++):c.type==nc?(t(" "+w+" = "+c.lb),h++):n(c!=c));for(g&&t(""),h++,g=0,p=1;p<=e.n;p++)c=e.col[p],c.kind!=Ws&&(n(c.kind==Js),g||(t("Generals"),g=1,h++),t(" "+i(x,p)),h++);return g&&(t(""),h++),u()},e.glp_read_lp_from_string=function(e,n,r){var t=0;return Fs(e,n,function(){return t<r.length?r[t++]:-1})},1),qs=2,Ns=3,Os=4,Ts=5,Gs=e.glp_ios_relative_gap=function(e){var n,r,t,a,l=e.mip;return l.mip_stat==dc?(r=l.mip_obj,n=le(e),0==n?a=0:(t=e.slot[n].node.bound,a=Math.abs(r-t)/(Math.abs(r)+Ki))):a=Xi,a},Rs=0,Cs=5,Xs=0,Bs=1,Ds=2,Us=e.GLP_MAJOR_VERSION=4,Ks=e.GLP_MINOR_VERSION=49,Vs=e.GLP_MIN=1,Hs=e.GLP_MAX=2,Ws=e.GLP_CV=1,Js=e.GLP_IV=2,Qs=e.GLP_BV=3,Ys=e.GLP_FR=1,$s=e.GLP_LO=2,Zs=e.GLP_UP=3,ec=e.GLP_DB=4,nc=e.GLP_FX=5,rc=e.GLP_BS=1,tc=e.GLP_NL=2,ac=e.GLP_NU=3,lc=e.GLP_NF=4,oc=e.GLP_NS=5,ic=e.GLP_SF_GM=1,uc=e.GLP_SF_EQ=16,sc=e.GLP_SF_2N=32,cc=e.GLP_SF_SKIP=64,fc=e.GLP_SF_AUTO=128,_c=e.GLP_SOL=1,pc=e.GLP_IPT=2,mc=e.GLP_MIP=3,bc=e.GLP_UNDEF=1,dc=e.GLP_FEAS=2,vc=e.GLP_INFEAS=3,gc=e.GLP_NOFEAS=4,hc=e.GLP_OPT=5,kc=e.GLP_UNBND=6,yc=e.GLP_BF_FT=1,wc=e.GLP_BF_BG=2,xc=e.GLP_BF_GR=3,Ac=e.GLP_MSG_OFF=0,Mc=e.GLP_MSG_ERR=1,jc=e.GLP_MSG_ON=2,Pc=e.GLP_MSG_ALL=3,Lc=e.GLP_MSG_DBG=4,zc=e.GLP_PRIMAL=1,Ic=e.GLP_DUALP=2,Ec=e.GLP_DUAL=3,Fc=e.GLP_PT_STD=17,Sc=e.GLP_PT_PSE=34,qc=e.GLP_RT_STD=17,Nc=e.GLP_RT_HAR=34,Oc=(e.GLP_ORD_NONE=0,e.GLP_ORD_QMD=1,e.GLP_ORD_AMD=2,e.GLP_ORD_SYMAMD=3,e.GLP_BR_FFV=1),Tc=e.GLP_BR_LFV=2,Gc=e.GLP_BR_MFV=3,Rc=e.GLP_BR_DTH=4,Cc=e.GLP_BR_PCH=5,Xc=e.GLP_BT_DFS=1,Bc=e.GLP_BT_BFS=2,Dc=e.GLP_BT_BLB=3,Uc=e.GLP_BT_BPH=4,Kc=e.GLP_PP_NONE=0,Vc=e.GLP_PP_ROOT=1,Hc=e.GLP_PP_ALL=2,Wc=(e.GLP_RF_REG=0,e.GLP_RF_LAZY=1),Jc=e.GLP_RF_CUT=2,Qc=e.GLP_RF_GMI=1,Yc=e.GLP_RF_MIR=2,$c=e.GLP_RF_COV=3,Zc=e.GLP_RF_CLQ=4,ef=e.GLP_ON=1,nf=e.GLP_OFF=0,rf=e.GLP_IROWGEN=1,tf=e.GLP_IBINGO=2,af=e.GLP_IHEUR=3,lf=e.GLP_ICUTGEN=4,of=e.GLP_IBRANCH=5,uf=e.GLP_ISELECT=6,sf=e.GLP_IPREPRO=7,cf=e.GLP_NO_BRNCH=0,ff=e.GLP_DN_BRNCH=1,_f=e.GLP_UP_BRNCH=2,pf=e.GLP_EBADB=1,mf=e.GLP_ESING=2,bf=e.GLP_ECOND=3,df=e.GLP_EBOUND=4,vf=e.GLP_EFAIL=5,gf=e.GLP_EOBJLL=6,hf=e.GLP_EOBJUL=7,kf=e.GLP_EITLIM=8,yf=e.GLP_ETMLIM=9,wf=e.GLP_ENOPFS=10,xf=e.GLP_ENODFS=11,Af=e.GLP_EROOT=12,Mf=e.GLP_ESTOP=13,jf=e.GLP_EMIPGAP=14,Pf=(e.GLP_ENOFEAS=15,e.GLP_ENOCVG=16,e.GLP_EINSTAB=17,e.GLP_EDATA=18,e.GLP_ERANGE=19,e.GLP_KKT_PE=1,e.GLP_KKT_PB=2,e.GLP_KKT_DE=3,e.GLP_KKT_DB=4,e.GLP_KKT_CS=5,e.GLP_MPS_DECK=1,e.GLP_MPS_FILE=2,e.GLP_ASN_MIN=1,e.GLP_ASN_MAX=2,e.GLP_ASN_MMP=3,1);LPF_ECOND=2,LPF_ELIMIT=3;var Lf=0,zf=(e.LPX_LP=100,e.LPX_MIP=101,e.LPX_FR=110),If=e.LPX_LO=111,Ef=e.LPX_UP=112,Ff=e.LPX_DB=113,Sf=e.LPX_FX=114,qf=(e.LPX_MIN=120,e.LPX_MAX=121,e.LPX_P_UNDEF=132,e.LPX_P_FEAS=133,e.LPX_P_INFEAS=134,e.LPX_P_NOFEAS=135,e.LPX_D_UNDEF=136,e.LPX_D_FEAS=137,e.LPX_D_INFEAS=138,e.LPX_D_NOFEAS=139,e.LPX_BS=140),Nf=e.LPX_NL=141,Of=e.LPX_NU=142,Tf=e.LPX_NF=143,Gf=e.LPX_NS=144,Rf=(e.LPX_T_UNDEF=150,e.LPX_T_OPT=151,e.LPX_CV=160),Cf=e.LPX_IV=161,Xf=(e.LPX_I_UNDEF=170,e.LPX_I_OPT=171,e.LPX_I_FEAS=172,e.LPX_I_NOFEAS=173,e.LPX_OPT=180),Bf=e.LPX_FEAS=181,Df=e.LPX_INFEAS=182,Uf=e.LPX_NOFEAS=183,Kf=e.LPX_UNBND=184,Vf=e.LPX_UNDEF=185,Hf=e.LPX_E_OK=200,Wf=(e.LPX_E_EMPTY=201,e.LPX_E_BADB=202,e.LPX_E_INFEAS=203,e.LPX_E_FAULT=204),Jf=(e.LPX_E_OBJLL=205,e.LPX_E_OBJUL=206,e.LPX_E_ITLIM=207,e.LPX_E_TMLIM=208),Qf=(e.LPX_E_NOFEAS=209,e.LPX_E_INSTAB=210,e.LPX_E_SING=211),Yf=(e.LPX_E_NOCONV=212,e.LPX_E_NOPFS=213),$f=e.LPX_E_NODFS=214,Zf=e.LPX_E_MIPGAP=215,e_=e.LPX_K_MSGLEV=300,n_=e.LPX_K_SCALE=301,r_=e.LPX_K_DUAL=302,t_=e.LPX_K_PRICE=303,a_=e.LPX_K_RELAX=304,l_=e.LPX_K_TOLBND=305,o_=e.LPX_K_TOLDJ=306,i_=e.LPX_K_TOLPIV=307,u_=e.LPX_K_ROUND=308,s_=e.LPX_K_OBJLL=309,c_=e.LPX_K_OBJUL=310,f_=e.LPX_K_ITLIM=311,__=e.LPX_K_ITCNT=312,p_=e.LPX_K_TMLIM=313,m_=e.LPX_K_OUTFRQ=314,b_=e.LPX_K_OUTDLY=315,d_=e.LPX_K_BRANCH=316,v_=e.LPX_K_BTRACK=317,g_=e.LPX_K_TOLINT=318,h_=e.LPX_K_TOLOBJ=319,k_=e.LPX_K_MPSINFO=320,y_=e.LPX_K_MPSOBJ=321,w_=e.LPX_K_MPSORIG=322,x_=e.LPX_K_MPSWIDE=323,A_=e.LPX_K_MPSFREE=324,M_=e.LPX_K_MPSSKIP=325,j_=e.LPX_K_LPTORIG=326,P_=e.LPX_K_PRESOL=327,L_=e.LPX_K_BINARIZE=328,z_=e.LPX_K_USECUTS=329,I_=e.LPX_K_BFTYPE=330,E_=e.LPX_K_MIPGAP=331,F_=e.LPX_C_COVER=1,S_=e.LPX_C_CLIQUE=2,q_=e.LPX_C_GOMORY=4,N_=e.LPX_C_MIR=8,O_=(e.LPX_C_ALL=255,1),T_=2,G_=-1,R_=101,C_=102,X_=103,B_=104,D_=105,U_=106,K_=107,V_=108,H_=109,W_=110,J_=111,Q_=112,Y_=113,$_=114,Z_=115,ep=116,np=117,rp=118,tp=119,ap=120,lp=121,op=122,ip=123,up=124,sp=125,cp=126,fp=127,_p=60,pp=1024,mp=201,bp=202,dp=203,vp=204,gp=205,hp=206,kp=207,yp=208,wp=209,xp=210,Ap=211,Mp=212,jp=213,Pp=214,Lp=215,zp=216,Ip=217,Ep=218,Fp=219,Sp=220,qp=221,Np=222,Op=223,Tp=224,Gp=225,Rp=226,Cp=227,Xp=228,Bp=229,Dp=230,Up=231,Kp=232,Vp=233,Hp=234,Wp=235,Jp=236,Qp=237,Yp=238,$p=239,Zp=240,em=241,nm=242,rm=243,tm=244,am=245,lm=246,om=247,im=248,um=249,sm=250,cm=251,fm=252,_m=0,pm=1,mm=2,bm=3,dm=4,vm=5,gm=301,hm=302,km=303,ym=304,wm=305,xm=306,Am=307,Mm=308,jm=309,Pm=310,Lm=311,zm=312,Im=313,Em=314,Fm=315,Sm=316,qm=317,Nm=318,Om=319,Tm=320,Gm=321,Rm=322,Cm=323,Xm=324,Bm=325,Dm=326,Um=327,Km=328,Vm=329,Hm=330,Wm=331,Jm=332,Qm=333,Ym=334,$m=335,Zm=336,eb=337,nb=338,rb=339,tb=340,ab=341,lb=342,ob=343,ib=344,ub=345,sb=346,cb=347,fb=348,_b=349,pb=350,mb=351,bb=352,db=353,vb=354,gb=355,hb=356,kb=357,yb=358,wb=359,xb=360,Ab=361,Mb=362,jb=363,Pb=364,Lb=365,zb=366,Ib=367,Eb=368,Fb=369,Sb=370,qb=371,Nb=372,Ob=373,Tb=374,Gb=375,Rb=376,Cb=377,Xb=378,Bb=379,Db=380,Ub=381,Kb=382,Vb=383,Hb=384,Wb=401,Jb=402,Qb=403,Yb=404,$b=405,Zb=411,ed=412,nd=413,rd=421,td=422,ad=423,ld=e.mpl_tab_num_args=function(e){return e.na},od=e.mpl_tab_get_arg=function(e,r){return n(r>=1&&r<=e.na),e.arg[r]},id=(e.mpl_tab_get_args=function(e,n){return e.arg},e.mpl_tab_num_flds=function(e){return e.nf}),ud=e.mpl_tab_get_name=function(e,r){return n(r>=1&&r<=e.nf),e.name[r]},sd=e.mpl_tab_get_type=function(e,r){return n(r>=1&&r<=e.nf),e.type[r]},cd=e.mpl_tab_get_num=function(e,r){return n(r>=1&&r<=e.nf),n("N"==e.type[r]),e.num[r]},fd=e.mpl_tab_get_str=function(e,r){return n(r>=1&&r<=e.nf),n("S"==e.type[r]),n(null!=e.str[r]),e.str[r]},_d=e.mpl_tab_set_num=function(e,r,t){n(r>=1&&r<=e.nf),n("?"==e.type[r]),e.type[r]="N",e.num[r]=t},pd=e.mpl_tab_set_str=function(e,r,t){n(r>=1&&r<=e.nf),n("?"==e.type[r]),n(null!=e.str[r]),e.type[r]="S",e.str[r]=t},md=e.mpl_initialize=function(){var e={};return e.line=0,e.column=0,e.c=0,e.token=0,e.imlen=0,e.image="",e.value=0,e.b_token=0,e.b_imlen=0,e.b_image="",e.b_value=0,e.f_dots=0,e.f_scan=0,e.f_token=0,e.f_imlen=0,e.f_image="",e.f_value=0,e.context=new Array(_p),l(e.context,0," ",_p),e.c_ptr=0,e.flag_d=0,e.tree={},e.model=null,e.flag_x=0,e.as_within=0,e.as_in=0,e.as_binary=0,e.flag_s=0,e.a_list=null,e.sym_buf="",e.tup_buf="",e.rand=hi(),e.flag_p=0,e.stmt=null,e.dca=null,e.m=0,e.n=0,e.row=null,e.col=null,e.in_fp=null,e.in_file=null,e.out_fp=null,e.out_file=null,e.prt_fp=null,e.prt_file=null,e.phase=0,e.mod_file=null,e.mpl_buf="",e},bd=e.mpl_read_model=function(e,n,t,a){function l(){return Yi(e.line+" line"+(1==e.line?"":"s")+" were read"),Jl(e),e.phase}if(0!=e.phase&&r("mpl_read_model: invalid call sequence"),null==t&&r("mpl_read_model: no input specified"),e.phase=1,Yi("Reading model section from "+n+" ..."),Hl(e,n,t),rt(e),null==e.model&&eo(e,"empty model section not allowed"),e.mod_file=e.in_file,Dl(e),$n(e,"data")){if(a)return no(e,"data section ignored"),l();e.flag_d=1,Qn(e),e.token!=em&&eo(e,"semicolon missing where expected"),Qn(e),e.phase=2,Yi("Reading data section from "+n+" ..."),Mt(e)}return et(e),l()},dd=e.mpl_read_data=function(e,n,t){return 1!=e.phase&&2!=e.phase&&r("mpl_read_data: invalid call sequence"),null==t&&r("mpl_read_data: no input specified"),e.phase=2,Yi("Reading data section from "+n+" ..."),e.flag_d=1,Hl(e,n,t),ct(e,"data")&&(Qn(e),e.token!=em&&eo(e,"semicolon missing where expected"),Qn(e)),Mt(e),et(e),Yi(e.line+" line"+(1==e.line?"":"s")+" were read"),Jl(e),e.phase},vd=e.mpl_generate=function(e,n,t,a){return 1!=e.phase&&2!=e.phase&&r("mpl_generate: invalid call sequence"),e.phase=3,e.tablecb=a,Ql(e,n,t),Ul(e),Zl(e),Kl(e),Yi("Model has been successfully generated"),e.phase},gd=e.mpl_get_prob_name=function(e){return e.mod_file},hd=e.mpl_get_num_rows=function(e){return 3!=e.phase&&r("mpl_get_num_rows: invalid call sequence"),e.m},kd=e.mpl_get_num_cols=function(e){return 3!=e.phase&&r("mpl_get_num_cols: invalid call sequence"),e.n},yd=e.mpl_get_row_name=function(e,t){3!=e.phase&&r("mpl_get_row_name: invalid call sequence"),t>=1&&t<=e.m||r("mpl_get_row_name: i = "+t+"; row number out of range");var a=e.row[t].con.name,l=a.length;return n(255>=l),a+=ia(e,"[",e.row[t].memb.tuple).slice(0,255),255==a.length&&(a=a.slice(0,252)+"..."),n(a.length<=255),a},wd=e.mpl_get_row_kind=function(e,t){var a;switch(3!=e.phase&&r("mpl_get_row_kind: invalid call sequence"),t>=1&&t<=e.m||r("mpl_get_row_kind: i = "+t+"; row number out of range"),e.row[t].con.type){case X_:a=Zb;break;case ep:a=ed;break;case Z_:a=nd;break;default:n(e!=e)}return a},xd=e.mpl_get_row_bnds=function(e,n,t){var a,l,o,i;return 3!=e.phase&&r("mpl_get_row_bnds: invalid call sequence"),n>=1&&n<=e.m||r("mpl_get_row_bnds: i = "+n+"; row number out of range"),a=e.row[n],o=null==a.con.lbnd?-Xi:a.lbnd,i=null==a.con.ubnd?+Xi:a.ubnd,o==-Xi&&i==+Xi?(l=Wb,o=i=0):i==+Xi?(l=Jb,i=0):o==-Xi?(l=Qb,o=0):l=a.con.lbnd!=a.con.ubnd?Yb:$b,t(o,i),l},Ad=e.mpl_get_mat_row=function(e,t,a,l){var o,i=0;for(3!=e.phase&&r("mpl_get_mat_row: invalid call sequence"),t>=1&&t<=e.m||r("mpl_get_mat_row: i = "+t+"; row number out of range"),o=e.row[t].form;null!=o;o=o.next)n(null!=o.var_),i++,n(i<=e.n),null!=a&&(a[i]=o.var_.j),null!=l&&(l[i]=o.coef);return i},Md=e.mpl_get_row_c0=function(e,n){var t,a;return 3!=e.phase&&r("mpl_get_row_c0: invalid call sequence"),n>=1&&n<=e.m||r("mpl_get_row_c0: i = "+n+"; row number out of range"),t=e.row[n],a=null==t.con.lbnd&&null==t.con.ubnd?-t.lbnd:0},jd=e.mpl_get_col_name=function(e,t){3!=e.phase&&r("mpl_get_col_name: invalid call sequence"),t>=1&&t<=e.n||r("mpl_get_col_name: j = "+t+"; column number out of range");
var a=e.col[t].var_.name,l=a.length;return n(255>=l),a+=ia(e,"[",e.col[t].memb.tuple),255==a.length&&(a=a.slice(0,252)+"..."),n(a.length<=255),a},Pd=e.mpl_get_col_kind=function(e,t){var a;switch(3!=e.phase&&r("mpl_get_col_kind: invalid call sequence"),t>=1&&t<=e.n||r("mpl_get_col_kind: j = "+t+"; column number out of range"),e.col[t].var_.type){case rp:a=rd;break;case Y_:a=td;break;case R_:a=ad;break;default:n(e!=e)}return a},Ld=e.mpl_get_col_bnds=function(e,n,t){var a,l,o,i;return 3!=e.phase&&r("mpl_get_col_bnds: invalid call sequence"),n>=1&&n<=e.n||r("mpl_get_col_bnds: j = "+n+"; column number out of range"),a=e.col[n],o=null==a.var_.lbnd?-Xi:a.lbnd,i=null==a.var_.ubnd?+Xi:a.ubnd,o==-Xi&&i==+Xi?(l=Wb,o=i=0):i==+Xi?(l=Jb,i=0):o==-Xi?(l=Qb,o=0):l=a.var_.lbnd!=a.var_.ubnd?Yb:$b,t(o,i),l},zd=e.mpl_has_solve_stmt=function(e){return 3!=e.phase&&r("mpl_has_solve_stmt: invalid call sequence"),e.flag_s},Id=e.mpl_put_row_soln=function(e,r,t,a,l){n(3==e.phase),n(r>=1&&r<=e.m),e.row[r].stat=t,e.row[r].prim=a,e.row[r].dual=l},Ed=e.mpl_put_col_soln=function(e,r,t,a,l){n(3==e.phase),n(r>=1&&r<=e.n),e.col[r].stat=t,e.col[r].prim=a,e.col[r].dual=l},Fd=e.mpl_postsolve=function(e){return(3!=e.phase||e.flag_p)&&r("mpl_postsolve: invalid call sequence"),Vl(e),Zl(e),Yi("Model has been successfully processed"),e.phase},Sd=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],qd=["January","February","March","April","May","June","July","August","September","October","November","December"],Nd={},Od=e.mpl_tab_drv_register=function(e,n){Nd[e.toLowerCase()]=n};mo.prototype.readField=function(){if(this.c==Qi)return this.what=this.CSV_EOF,void(this.field="EOF");if("\n"!=this.c)if(","==this.c&&this.readChar(),"'"==this.c||'"'==this.c){var e=this.c;for(this.field="",this.what=this.CSV_STR,this.readChar();;){if(this.c==e)if(this.readChar(),this.c==e);else{if(","==this.c||"\n"==this.c)break;r(this.fname+":"+this.count+": invalid field")}this.field+=this.c,this.readChar()}0==this.field.length&&r(this.fname+":"+this.count+": empty field not allowed")}else{this.field="";var n;for(this.what=this.CSV_NUM;","!=this.c&&"\n"!=this.c;)("'"==this.c||'"'==this.c)&&r(this.fname+":"+this.count+": invalid use of single or double quote within field"),this.field+=this.c,this.readChar();0==this.field.length&&r(this.fname+":"+this.count+": empty field not allowed"),Ve(this.field,function(e){n=e})&&(this.what=this.CSV_STR)}else if(this.what=this.CSV_EOR,this.field="EOR",this.readChar(),","==this.c&&r(this.fname+":"+this.count+": empty field not allowed\n"),"\n"==this.c&&r(this.fname+":"+this.count+": empty record not allowed\n"),"#"==this.c&&1==this.count)for(;"#"==this.c;){for(;"\n"!=this.c;)this.readChar();this.readChar(),this.nskip++}},mo.prototype.readChar=function(){var e;for(n(this.c!=Qi),"\n"==this.c&&this.count++;;)if(e=this.cursor<this.data.length?this.data[this.cursor++]:Qi,"\r"!=e){"\n"==e||_(e)&&r(this.fname+":"+this.count+": invalid control character "+e);break}this.c=e},mo.prototype.readRecord=function(e){var t,a=0;for(n("R"==this.mode),this.ref[0]>0&&_d(e,this.ref[0],this.count-this.nskip-1),t=1;t<=this.nf;t++){if(this.readField(),this.what==this.CSV_EOF)return n(1==t),Qi;if(this.what==this.CSV_EOR){var l=this.nf-t+1;r(1==l?this.fname+":"+this.count+": one field missing":this.fname+":"+this.count+": "+l+" fields missing")}else if(this.what==this.CSV_NUM){if(this.ref[t]>0){var o=0;n(0==Ve(this.field,function(e){o=e})),_d(e,this.ref[t],o)}}else this.what==this.CSV_STR?this.ref[t]>0&&pd(e,this.ref[t],this.field):n(this!=this)}return this.readField(),n(this.what!=this.CSV_EOF),this.what!=this.CSV_EOR&&r(this.fname+":"+this.count+": too many fields"),a},mo.prototype.writeRecord=function(e){var r,t,a,l,o=0;for(n("W"==this.mode),t=id(e),r=1;t>=r;r++){switch(sd(e,r)){case"N":this.data+=cd(e,r);break;case"S":for(this.data+='"',a=fd(e,r),l=0;a.length>l;l++)'"'==a[l]?this.data+='""':this.data+=a[l];this.data+='"';break;default:n(e!=e)}this.data+=t>r?",":"\n"}return this.count++,o},mo.prototype.flush=function(e){this.tablecb(e.arg,this.mode,this.data)},Od("CSV",mo),bo.prototype.writeRecord=function(e){var r;n("W"==this.mode);var t=id(e),a=[];for(r=1;t>=r;r++)switch(sd(e,r)){case"N":a.push(cd(e,r));break;case"S":a.push(fd(e,r));break;default:n(e!=e)}return this.data.push(a),0},bo.prototype.readRecord=function(e){n("R"==this.mode);var t=this.data[this.cursor++];if(null==t)return Qi;for(var a=1;a<=id(e);a++){var l=this.ref[ud(e,a)];if(null!=l){var o=t[l];switch(typeof o){case"number":_d(e,a,o);break;case"boolean":_d(e,a,Number(o));break;case"string":pd(e,a,o);break;default:r("Unexpected data type "+o+" in "+this.fname)}}}return 0},bo.prototype.flush=function(e){this.tablecb(e.arg,this.mode,this.data)},Od("JSON",bo);var Td=1,Gd=2,Rd=1,Cd=2,Xd=0,Bd=1e-10,Dd=e.glp_scale_prob=function(e,t){function a(e,r,t){var a,l,o;for(n(r>=1&&r<=e.m),l=1,a=e.row[r].ptr;null!=a;a=a.r_next)o=Math.abs(a.val),t&&(o*=a.row.rii*a.col.sjj),(null==a.r_prev||l>o)&&(l=o);return l}function l(e,r,t){var a,l,o;for(n(r>=1&&r<=e.m),l=1,a=e.row[r].ptr;null!=a;a=a.r_next)o=Math.abs(a.val),t&&(o*=a.row.rii*a.col.sjj),(null==a.r_prev||o>l)&&(l=o);return l}function o(e,r,t){var a,l,o;for(n(r>=1&&r<=e.n),l=1,a=e.col[r].ptr;null!=a;a=a.c_next)o=Math.abs(a.val),t&&(o*=a.row.rii*a.col.sjj),(null==a.c_prev||l>o)&&(l=o);return l}function i(e,r,t){var a,l,o;for(n(r>=1&&r<=e.n),l=1,a=e.col[r].ptr;null!=a;a=a.c_next)o=Math.abs(a.val),t&&(o*=a.row.rii*a.col.sjj),(null==a.c_prev||o>l)&&(l=o);return l}function u(e,n){var r,t,l;for(t=1,r=1;r<=e.m;r++)l=a(e,r,n),(1==r||t>l)&&(t=l);return t}function s(e,n){var r,t,a;for(t=1,r=1;r<=e.m;r++)a=l(e,r,n),(1==r||a>t)&&(t=a);return t}function c(e,r){var t,a,o,u;for(n(0==r||1==r),o=0;1>=o;o++)if(o==r)for(t=1;t<=e.m;t++)u=l(e,t,1),Ou(e,t,Gu(e,t)/u);else for(a=1;a<=e.n;a++)u=i(e,a,1),Tu(e,a,Ru(e,a)/u)}function f(e,r){var t,u,s,c;for(n(0==r||1==r),s=0;1>=s;s++)if(s==r)for(t=1;t<=e.m;t++)c=a(e,t,1)*l(e,t,1),Ou(e,t,Gu(e,t)/Math.sqrt(c));else for(u=1;u<=e.n;u++)c=o(e,u,1)*i(e,u,1),Tu(e,u,Ru(e,u)/Math.sqrt(c))}function _(e){var n,r,t;for(r=1,n=1;n<=e.m;n++)t=l(e,n,1)/a(e,n,1),(1==n||t>r)&&(r=t);return r}function p(e){var n,r,t;for(r=1,n=1;n<=e.n;n++)t=i(e,n,1)/o(e,n,1),(1==n||t>r)&&(r=t);return r}function m(e,n,r){var t,a,l,o=0;for(a=_(e)>p(e),t=1;n>=t&&(l=o,o=s(e,1)/u(e,1),!(t>1&&o>r*l));t++)f(e,a)}function b(e,n){function r(e,n,r,t){return e+": min|aij| = "+n+"  max|aij| = "+r+"  ratio = "+t}var t,a,l;if(Yi("Scaling..."),Cu(e),t=u(e,1),a=s(e,1),l=a/t,Yi(r(" A",t,a,l)),!(t>=.1&&10>=a&&(Yi("Problem data seem to be well scaled"),n&cc))&&(n&ic&&(m(e,15,.9),t=u(e,1),a=s(e,1),l=a/t,Yi(r("GM",t,a,l))),n&uc&&(c(e,_(e)>p(e)),t=u(e,1),a=s(e,1),l=a/t,Yi(r("EQ",t,a,l))),n&sc)){var o,i;for(o=1;o<=e.m;o++)Ou(e,o,Ke(Gu(e,o)));for(i=1;i<=e.n;i++)Tu(e,i,Ke(Ru(e,i)));t=u(e,1),a=s(e,1),l=a/t,Yi(r("2N",t,a,l))}}t&~(ic|uc|sc|cc|fc)&&r("glp_scale_prob: flags = "+t+"; invalid scaling options"),t&fc&&(t=ic|uc|cc),b(e,t)}}("object"==typeof exports&&exports||this);